this.ytrgt=this.ytrgt||{};this.ytrgt.webpush=function(ve){"use strict";const hr={root:"_root_1089f_1",primary:"_primary_1089f_21",secondary:"_secondary_1089f_27"},Vo="._root_1089f_1{display:inline-flex;padding:8px 16px;align-items:flex-start;justify-content:center;gap:10px;height:32px;min-width:80px;box-sizing:border-box;border-radius:16px;font-family:Roboto,sans-serif;font-size:14px;font-style:normal;font-weight:400;line-height:16px;outline:transparent;border:transparent;cursor:pointer}._primary_1089f_21{background-color:#0582ff;box-shadow:0 2px 4px #0582ff0a;color:#fff}._secondary_1089f_27{border:1px solid #e3e3e5;background-color:#fff;box-shadow:0 2px 4px #0000000a}";function dr(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=dr(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function M(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=dr(e))&&(r&&(r+=" "),r+=t);return r}var be,O,fr,vt,pr,_r,nn,Jt={},rn=[],Lo=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,on=Array.isArray;function dt(e,t){for(var n in t)e[n]=t[n];return e}function mr(e){var t=e.parentNode;t&&t.removeChild(e)}function Wo(e,t,n){var r,o,i,s={};for(i in t)i=="key"?r=t[i]:i=="ref"?o=t[i]:s[i]=t[i];if(arguments.length>2&&(s.children=arguments.length>3?be.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)s[i]===void 0&&(s[i]=e.defaultProps[i]);return we(e,s,r,o,null)}function we(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++fr,__i:-1,__u:0};return o==null&&O.vnode!=null&&O.vnode(i),i}function Pt(e){return e.children}function xe(e,t){this.props=e,this.context=t}function Dt(e,t){if(t==null)return e.__?Dt(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Dt(e):null}function Qo(e,t,n){var r,o=e.__v,i=o.__e,s=e.__P;if(s)return(r=dt({},o)).__v=o.__v+1,O.vnode&&O.vnode(r),sn(s,r,o,e.__n,s.ownerSVGElement!==void 0,32&o.__u?[i]:null,t,i??Dt(o),!!(32&o.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=i&&yr(r),r}function yr(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return yr(e)}}function gr(e){(!e.__d&&(e.__d=!0)&&vt.push(e)&&!Ae.__r++||pr!==O.debounceRendering)&&((pr=O.debounceRendering)||_r)(Ae)}function Ae(){var e,t,n,r=[],o=[];for(vt.sort(nn);e=vt.shift();)e.__d&&(n=vt.length,t=Qo(e,r,o)||t,n===0||vt.length>n?(an(r,t,o),o.length=r.length=0,t=void 0,vt.sort(nn)):t&&O.__c&&O.__c(t,rn));t&&an(r,t,o),Ae.__r=0}function vr(e,t,n,r,o,i,s,a,l,h,u){var c,d,f,y,m,g=r&&r.__k||rn,_=t.length;for(n.__d=l,qo(n,t,g),l=n.__d,c=0;c<_;c++)(f=n.__k[c])!=null&&typeof f!="boolean"&&typeof f!="function"&&(d=f.__i===-1?Jt:g[f.__i]||Jt,f.__i=c,sn(e,f,d,o,i,s,a,l,h,u),y=f.__e,f.ref&&d.ref!=f.ref&&(d.ref&&cn(d.ref,null,f),u.push(f.ref,f.__c||y,f)),m==null&&y!=null&&(m=y),65536&f.__u||d.__k===f.__k?l=br(f,l,e):typeof f.type=="function"&&f.__d!==void 0?l=f.__d:y&&(l=y.nextSibling),f.__d=void 0,f.__u&=-196609);n.__d=l,n.__e=m}function qo(e,t,n){var r,o,i,s,a,l=t.length,h=n.length,u=h,c=0;for(e.__k=[],r=0;r<l;r++)(o=e.__k[r]=(o=t[r])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?we(null,o,null,null,o):on(o)?we(Pt,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?we(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=e,o.__b=e.__b+1,a=Xo(o,n,s=r+c,u),o.__i=a,i=null,a!==-1&&(u--,(i=n[a])&&(i.__u|=131072)),i==null||i.__v===null?(a==-1&&c--,typeof o.type!="function"&&(o.__u|=65536)):a!==s&&(a===s+1?c++:a>s?u>l-s?c+=a-s:c--:c=a<s&&a==s-1?a-s:0,a!==r+c&&(o.__u|=65536))):(i=n[r])&&i.key==null&&i.__e&&(i.__e==e.__d&&(e.__d=Dt(i)),ln(i,i,!1),n[r]=null,u--);if(u)for(r=0;r<h;r++)(i=n[r])!=null&&!(131072&i.__u)&&(i.__e==e.__d&&(e.__d=Dt(i)),ln(i,i))}function br(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=br(r[o],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function Xo(e,t,n,r){var o=e.key,i=e.type,s=n-1,a=n+1,l=t[n];if(l===null||l&&o==l.key&&i===l.type)return n;if(r>(l!=null&&!(131072&l.__u)?1:0))for(;s>=0||a<t.length;){if(s>=0){if((l=t[s])&&!(131072&l.__u)&&o==l.key&&i===l.type)return s;s--}if(a<t.length){if((l=t[a])&&!(131072&l.__u)&&o==l.key&&i===l.type)return a;a++}}return-1}function wr(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Lo.test(t)?n:n+"px"}function ke(e,t,n,r,o){var i;t:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||wr(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||wr(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,i?Ar:xr,i)):e.removeEventListener(t,i?Ar:xr,i);else{if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break t}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function xr(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(O.event?O.event(e):e)}}function Ar(e){if(this.l)return this.l[e.type+!0](O.event?O.event(e):e)}function sn(e,t,n,r,o,i,s,a,l,h){var u,c,d,f,y,m,g,_,p,b,x,A,k,w,B,v=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),i=[a=t.__e=n.__e]),(u=O.__b)&&u(t);t:if(typeof v=="function")try{if(_=t.props,p=(u=v.contextType)&&r[u.__c],b=u?p?p.props.value:u.__:r,n.__c?g=(c=t.__c=n.__c).__=c.__E:("prototype"in v&&v.prototype.render?t.__c=c=new v(_,b):(t.__c=c=new xe(_,b),c.constructor=v,c.render=Go),p&&p.sub(c),c.props=_,c.state||(c.state={}),c.context=b,c.__n=r,d=c.__d=!0,c.__h=[],c._sb=[]),c.__s==null&&(c.__s=c.state),v.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=dt({},c.__s)),dt(c.__s,v.getDerivedStateFromProps(_,c.__s))),f=c.props,y=c.state,c.__v=t,d)v.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(v.getDerivedStateFromProps==null&&_!==f&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(_,b),!c.__e&&(c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(_,c.__s,b)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(c.props=_,c.state=c.__s,c.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(K){K&&(K.__=t)}),x=0;x<c._sb.length;x++)c.__h.push(c._sb[x]);c._sb=[],c.__h.length&&s.push(c);break t}c.componentWillUpdate!=null&&c.componentWillUpdate(_,c.__s,b),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(f,y,m)})}if(c.context=b,c.props=_,c.__P=e,c.__e=!1,A=O.__r,k=0,"prototype"in v&&v.prototype.render){for(c.state=c.__s,c.__d=!1,A&&A(t),u=c.render(c.props,c.state,c.context),w=0;w<c._sb.length;w++)c.__h.push(c._sb[w]);c._sb=[]}else do c.__d=!1,A&&A(t),u=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++k<25);c.state=c.__s,c.getChildContext!=null&&(r=dt(dt({},r),c.getChildContext())),d||c.getSnapshotBeforeUpdate==null||(m=c.getSnapshotBeforeUpdate(f,y)),vr(e,on(B=u!=null&&u.type===Pt&&u.key==null?u.props.children:u)?B:[B],t,n,r,o,i,s,a,l,h),c.base=t.__e,t.__u&=-161,c.__h.length&&s.push(c),g&&(c.__E=c.__=null)}catch(K){t.__v=null,l||i!=null?(t.__e=a,t.__u|=l?160:32,i[i.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),O.__e(K,t,n)}else i==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Yo(n.__e,t,n,r,o,i,s,l,h);(u=O.diffed)&&u(t)}function an(e,t,n){for(var r=0;r<n.length;r++)cn(n[r],n[++r],n[++r]);O.__c&&O.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(i){i.call(o)})}catch(i){O.__e(i,o.__v)}})}function Yo(e,t,n,r,o,i,s,a,l){var h,u,c,d,f,y,m,g=n.props,_=t.props,p=t.type;if(p==="svg"&&(o=!0),i!=null){for(h=0;h<i.length;h++)if((f=i[h])&&"setAttribute"in f==!!p&&(p?f.localName===p:f.nodeType===3)){e=f,i[h]=null;break}}if(e==null){if(p===null)return document.createTextNode(_);e=o?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,_.is&&_),i=null,a=!1}if(p===null)g===_||a&&e.data===_||(e.data=_);else{if(i=i&&be.call(e.childNodes),g=n.props||Jt,!a&&i!=null)for(g={},h=0;h<e.attributes.length;h++)g[(f=e.attributes[h]).name]=f.value;for(h in g)f=g[h],h=="children"||(h=="dangerouslySetInnerHTML"?c=f:h==="key"||h in _||ke(e,h,null,f,o));for(h in _)f=_[h],h=="children"?d=f:h=="dangerouslySetInnerHTML"?u=f:h=="value"?y=f:h=="checked"?m=f:h==="key"||a&&typeof f!="function"||g[h]===f||ke(e,h,f,g[h],o);if(u)a||c&&(u.__html===c.__html||u.__html===e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(c&&(e.innerHTML=""),vr(e,on(d)?d:[d],t,n,r,o&&p!=="foreignObject",i,s,i?i[0]:n.__k&&Dt(n,0),a,l),i!=null)for(h=i.length;h--;)i[h]!=null&&mr(i[h]);a||(h="value",y!==void 0&&(y!==e[h]||p==="progress"&&!y||p==="option"&&y!==g[h])&&ke(e,h,y,g[h],!1),h="checked",m!==void 0&&m!==e[h]&&ke(e,h,m,g[h],!1))}return e}function cn(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){O.__e(r,n)}}function ln(e,t,n){var r,o;if(O.unmount&&O.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||cn(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){O.__e(i,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&ln(r[o],t,n||typeof e.type!="function");n||e.__e==null||mr(e.__e),e.__=e.__e=e.__d=void 0}function Go(e,t,n){return this.constructor(e,n)}function tt(e,t,n){var r,o,i,s;O.__&&O.__(e,t),o=(r=typeof n=="function")?null:n&&n.__k||t.__k,i=[],s=[],sn(t,e=(!r&&n||t).__k=Wo(Pt,null,[e]),o||Jt,Jt,t.ownerSVGElement!==void 0,!r&&n?[n]:o?null:t.firstChild?be.call(t.childNodes):null,i,!r&&n?n:o?o.__e:t.firstChild,r,s),e.__d=void 0,an(i,e,s)}be=rn.slice,O={__e:function(e,t,n,r){for(var o,i,s;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),s=o.__d),s)return o.__E=o}catch(a){e=a}throw e}},fr=0,xe.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=dt({},this.state),typeof e=="function"&&(e=e(dt({},n),this.props)),e&&dt(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),gr(this))},xe.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),gr(this))},xe.prototype.render=Pt,vt=[],_r=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,nn=function(e,t){return e.__v.__b-t.__v.__b},Ae.__r=0;var Nt,F,un,kr,Ce=0,Cr=[],Ee=[],T=O,Er=T.__b,Sr=T.__r,Ir=T.diffed,Br=T.__c,Or=T.unmount,Rr=T.__;function Se(e,t){T.__h&&T.__h(F,e,Ce||t),Ce=0;var n=F.__H||(F.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:Ee}),n.__[e]}function rt(e){return Ce=1,zo(Kr,e)}function zo(e,t,n){var r=Se(Nt++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Kr(void 0,t),function(a){var l=r.__N?r.__N[0]:r.__[0],h=r.t(l,a);l!==h&&(r.__N=[h,r.__[1]],r.__c.setState({}))}],r.__c=F,!F.u)){var o=function(a,l,h){if(!r.__c.__H)return!0;var u=r.__c.__H.__.filter(function(d){return!!d.__c});if(u.every(function(d){return!d.__N}))return!i||i.call(this,a,l,h);var c=!1;return u.forEach(function(d){if(d.__N){var f=d.__[0];d.__=d.__N,d.__N=void 0,f!==d.__[0]&&(c=!0)}}),!(!c&&r.__c.props===a)&&(!i||i.call(this,a,l,h))};F.u=!0;var i=F.shouldComponentUpdate,s=F.componentWillUpdate;F.componentWillUpdate=function(a,l,h){if(this.__e){var u=i;i=void 0,o(a,l,h),i=u}s&&s.call(this,a,l,h)},F.shouldComponentUpdate=o}return r.__N||r.__}function Zt(e,t){var n=Se(Nt++,3);!T.__s&&dn(n.__H,t)&&(n.__=e,n.i=t,F.__H.__h.push(n))}function Jo(e,t){var n=Se(Nt++,4);!T.__s&&dn(n.__H,t)&&(n.__=e,n.i=t,F.__h.push(n))}function Zo(e){return Ce=5,$o(function(){return{current:e}},[])}function $o(e,t){var n=Se(Nt++,7);return dn(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function ti(){for(var e;e=Cr.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Ie),e.__H.__h.forEach(hn),e.__H.__h=[]}catch(t){e.__H.__h=[],T.__e(t,e.__v)}}T.__b=function(e){F=null,Er&&Er(e)},T.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Rr&&Rr(e,t)},T.__r=function(e){Sr&&Sr(e),Nt=0;var t=(F=e.__c).__H;t&&(un===F?(t.__h=[],F.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Ee,n.__N=n.i=void 0})):(t.__h.forEach(Ie),t.__h.forEach(hn),t.__h=[],Nt=0)),un=F},T.diffed=function(e){Ir&&Ir(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Cr.push(t)!==1&&kr===T.requestAnimationFrame||((kr=T.requestAnimationFrame)||ei)(ti)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Ee&&(n.__=n.__V),n.i=void 0,n.__V=Ee})),un=F=null},T.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Ie),n.__h=n.__h.filter(function(r){return!r.__||hn(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],T.__e(r,n.__v)}}),Br&&Br(e,t)},T.unmount=function(e){Or&&Or(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Ie(r)}catch(o){t=o}}),n.__H=void 0,t&&T.__e(t,n.__v))};var jr=typeof requestAnimationFrame=="function";function ei(e){var t,n=function(){clearTimeout(r),jr&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);jr&&(t=requestAnimationFrame(n))}function Ie(e){var t=F,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),F=t}function hn(e){var t=F;e.__c=e.__(),F=t}function dn(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Kr(e,t){return typeof t=="function"?t(e):t}var ni=0;function S(e,t,n,r,o,i){var s,a,l={};for(a in t)a=="ref"?s=t[a]:l[a]=t[a];var h={type:e,props:l,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--ni,__i:-1,__u:0,__source:o,__self:i};if(typeof e=="function"&&(s=e.defaultProps))for(a in s)l[a]===void 0&&(l[a]=s[a]);return O.vnode&&O.vnode(h),h}function ot({children:e,stylesText:t}){const[n,r]=rt(!1);return Jo(function(){const o=document.createElement("style");function i(){r(!0),o.removeEventListener("load",i)}return o.textContent=t,o.addEventListener("load",i),document.head.appendChild(o),function(){o.remove(),o.removeEventListener("load",i)}},[]),n?S(Pt,{children:e}):null}function Be({children:e,variant:t="primary",onClick:n}){return S(ot,{stylesText:Vo,children:S("button",{className:M(hr.root,hr[t]),onClick:n,children:e})})}const bt={root:"_root_16322_3",header:"_header_16322_14",icon:"_icon_16322_20",title:"_title_16322_26",text:"_text_16322_36",footer:"_footer_16322_46",actions:"_actions_16322_52"},ri='@import"https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap";._root_16322_3{padding:20px;font-family:Roboto,sans-serif;width:100%;max-width:320px;border-radius:12px;border:1px solid #e3e3e5;background-color:#fff;box-shadow:0 4px 24px #0000001f}._header_16322_14{display:flex;align-items:center;gap:16px}._icon_16322_20{width:40px;height:40px;flex-shrink:0}._title_16322_26{color:#000;font-size:16px;font-style:normal;font-weight:700;line-height:20px;margin-top:0;margin-bottom:0}._text_16322_36{color:#78787a;font-size:14px;font-style:normal;font-weight:400;line-height:normal;margin-top:8px;margin-bottom:0}._footer_16322_46{display:flex;align-items:center;margin-top:32px}._actions_16322_52{display:flex;align-items:center;gap:8px;margin-left:auto}@media (max-width: 420px){._root_16322_3{padding:12px}}',Pr={root:"_root_14w6k_1","top-left":"_top-left_14w6k_5","top-center":"_top-center_14w6k_10","top-right":"_top-right_14w6k_16","center-center":"_center-center_14w6k_21","bottom-left":"_bottom-left_14w6k_27","bottom-center":"_bottom-center_14w6k_32","bottom-right":"_bottom-right_14w6k_38"},oi="._root_14w6k_1{position:fixed}._top-left_14w6k_5{top:24px;left:24px}._top-center_14w6k_10{top:24px;left:50%;transform:translate3d(-50%,0,0)}._top-right_14w6k_16{top:24px;right:24px}._center-center_14w6k_21{top:50%;left:50%;transform:translate3d(-50%,-50%,0)}._bottom-left_14w6k_27{bottom:24px;left:24px}._bottom-center_14w6k_32{bottom:24px;left:50%;transform:translate3d(-50%,0,0)}._bottom-right_14w6k_38{bottom:24px;right:24px}@media (max-width: 420px){._root_14w6k_1{left:12px;top:12px;right:12px;transform:unset}}";function fn({children:e,position:t="center-center"}){return S(ot,{stylesText:oi,children:S("div",{className:M(Pr.root,Pr[t]),children:e})})}function pn({position:e,icon:t,title:n,text:r,actions:o,className:i,onAnimationEnd:s}){return S(ot,{stylesText:ri,children:S(fn,{position:e,children:S("div",{className:M(bt.root,i),onAnimationEnd:s,children:[S("div",{className:M(bt.header),children:[S("img",{src:t,alt:"",className:M(bt.icon)}),S("h1",{className:M(bt.title),children:n})]}),S("p",{className:M(bt.text),children:r}),S("div",{className:M(bt.footer),children:S("div",{className:M(bt.actions),children:o})})]})})})}const Dr={root:"_root_uyahl_1",enter:"_enter_uyahl_19",fadeIn:"_fadeIn_uyahl_1",exit:"_exit_uyahl_24",fadeOut:"_fadeOut_uyahl_1"},ii="._root_uyahl_1{position:fixed;top:0;left:0;right:0;bottom:0;background:linear-gradient(180deg,#1111147a,#11111414 77.33%,#11111405 88.88%,#11111400);animation-timing-function:ease-in-out;animation-fill-mode:both;animation-duration:.5s}._enter_uyahl_19{animation-name:_fadeIn_uyahl_1;animation-delay:.25s}._exit_uyahl_24{animation-name:_fadeOut_uyahl_1}@keyframes _fadeIn_uyahl_1{0%{opacity:0}to{opacity:1}}@keyframes _fadeOut_uyahl_1{0%{opacity:1}to{opacity:0}}";function _n({animationState:e}){return S(ot,{stylesText:ii,children:S("div",{className:M(Dr.root,Dr[e])})})}const Nr={root:"_root_1pkd4_1",enter:"_enter_1pkd4_7",exit:"_exit_1pkd4_12"},si="._root_1pkd4_1{animation-timing-function:ease-in-out;animation-fill-mode:both;animation-duration:.5s}._enter_1pkd4_7{animation-name:_enter_1pkd4_7;animation-delay:.25s}._exit_1pkd4_12{animation-name:_exit_1pkd4_12}@keyframes _enter_1pkd4_7{0%{opacity:0;transform:translateY(50%)}to{opacity:1;transform:translateY(0)}}@keyframes _exit_1pkd4_12{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(50%)}}",ai="data:image/png;base64,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";function ci({position:e="top-center",skipText:t="Пропустить",text:n="Нажмите значок замка в адресной строке, чтобы разрешить уведомления.",icon:r=ai,title:o="Пожалуйста, включите доступ к получению push-уведомлений",detach:i}){const[s,a]=rt(!1),[l,h]=rt("enter");function u(){h("exit")}function c(){l==="exit"&&i()}return Zt(()=>{const d=setTimeout(function(){a(!0)},500);return function(){clearTimeout(d)}},[]),s?S(ot,{stylesText:si,children:[S(_n,{animationState:l}),S(pn,{position:e,icon:r,title:o,text:n,actions:S(Be,{variant:"secondary",onClick:u,children:t}),className:M(Nr.root,Nr[l]),onAnimationEnd:c})]}):null}function li(e={}){const t=document.createElement("div");function n(){tt(null,t),t.remove()}document.body.appendChild(t),tt(S(ci,{detach:n,...e}),t)}const Mr={root:"_root_1pkd4_1",enter:"_enter_1pkd4_7",exit:"_exit_1pkd4_12"},ui="._root_1pkd4_1{animation-timing-function:ease-in-out;animation-fill-mode:both;animation-duration:.5s}._enter_1pkd4_7{animation-name:_enter_1pkd4_7;animation-delay:.25s}._exit_1pkd4_12{animation-name:_exit_1pkd4_12}@keyframes _enter_1pkd4_7{0%{opacity:0;transform:translateY(50%)}to{opacity:1;transform:translateY(0)}}@keyframes _exit_1pkd4_12{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(50%)}}";class hi{constructor(){this._eventMap={},this.emit=this.emit.bind(this),this.on=this.on.bind(this),this.off=this.off.bind(this),this.once=this.once.bind(this)}emit(t,n){this._eventMap[t]&&this._eventMap[t].forEach(r=>r(n))}on(t,n){return this._eventMap[t]||(this._eventMap[t]=[]),this._eventMap[t].push(n),()=>{this.off(t,n)}}off(t,n){this._eventMap[t]&&(this._eventMap[t]=this._eventMap[t].filter(r=>r!==n))}once(t,n){this._eventMap[t]||(this._eventMap[t]=[]);const r=o=>{n(o),this.off(t,r)};this._eventMap[t].push(r)}}const $t=new hi,di="data:image/png;base64,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";function fi({position:e="top-center",title:t="Получайте push-уведомления о последних обновлениях",icon:n=di,text:r,cancelText:o="Отменить",confirmText:i="Подписаться",delay:s=300,detach:a,requestPermission:l,cancel:h}){const[u,c]=rt(!1),[d,f]=rt("enter");function y(){d==="exit"&&a()}return Zt(()=>{const m=setTimeout(function(){c(!0)},s);return $t.on("detachViews",function(){m&&clearTimeout(m),f("exit")})},[]),u?S(ot,{stylesText:ui,children:[S(_n,{animationState:d}),S(pn,{position:e,icon:n??"",title:t,text:r,actions:S(Pt,{children:[S(Be,{variant:"secondary",onClick:h,children:o}),S(Be,{variant:"primary",onClick:l,children:i})]}),className:M(Mr.root,Mr[d]),onAnimationEnd:y})]}):null}function pi(e){const t=document.createElement("div");function n(){tt(null,t),t.remove()}document.body.appendChild(t),tt(S(fi,{detach:n,...e}),t)}const Mt={root:"_root_b6vi0_3",text:"_text_b6vi0_13","icon-root":"_icon-root_b6vi0_30",icon:"_icon_b6vi0_30",badge:"_badge_b6vi0_48",enter:"_enter_b6vi0_67",exit:"_exit_b6vi0_72"},_i='@import"https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap";._root_b6vi0_3{font-family:Roboto,sans-serif;display:flex;align-items:center;gap:12px;animation-timing-function:ease-in-out;animation-fill-mode:both;animation-duration:.5s}._text_b6vi0_13{display:flex;padding:16px;flex-direction:column;align-items:flex-end;gap:16px;color:#000;font-size:16px;font-style:normal;font-weight:400;line-height:16px;border-radius:12px;border:1px solid #e3e3e5;background-color:#fff;box-shadow:0 2px 8px #00000014}._icon-root_b6vi0_30{position:relative;display:flex;padding:16px;justify-content:center;align-items:center;gap:10px;border-radius:32px;border:1px solid #046be0;background-color:#0582ff;box-shadow:0 2px 12px #046be029}._icon_b6vi0_30{width:32px;height:32px}._badge_b6vi0_48{width:24px;height:24px;display:flex;align-items:center;justify-content:center;border-radius:50%;border:2px solid #ffffff;background-color:#ff3c14;color:#fff;font-size:14px;font-style:normal;font-weight:500;line-height:16px;position:absolute;top:-8px;right:-2px}._enter_b6vi0_67{animation-name:_enter_b6vi0_67;animation-delay:.25s}._exit_b6vi0_72{animation-name:_exit_b6vi0_72}@keyframes _enter_b6vi0_67{0%{opacity:0;transform:translateY(50%)}to{opacity:1;transform:translateY(0)}}@keyframes _exit_b6vi0_72{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(50%)}}',mi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUASURBVHgB7Z2BcRs3EEVXmRQQVxCogsgV5FxB7ArMDixVIKaCOBXIqcBJBaQrkFPBnSuwOlhjjeNItsnbDwIgAGnfzA1neJglgA/sYXEASGQYhmEYhmEYhmGclDMqBDMP/sP56+7s7Oxf6gyf/1/8xwWFMnz0ZfhIveAzf8PfMvrLUSdIXuc8P+Qvah1pNf7a8H7GuVU1z57K33HbbBnmyr/lZVaUgbmFbvz1eba7ydXDJI9KGdoUgX90O/tYUyKz0OMe22OOipE8AuW4oUz8RBnwGbr2Hysg6UTpDBQejN8j372kdO6ANNJLsjwTkkdBPiNv/MdbMPm5H01MFMHsWnajEWnhv1MQYR9bf32gUIkThdHLRHG/J78xzr+lceXto2XPDwdfjLKOsCtu5poPPwxjGKW1csQzwqe9BG3LM+iCasCHffE+1hE2b7gcNwwKwdizQBi5xkOZQ6tCWIP2XvP9qKYkI4OjMcZFOG2MwLjrgfwjB3dzaq7BvL0F7Q10KhhzPbegLbQnlQAVYQPY2tApYD1QEUYGfC3Xafnfo4rAoccj7nFFpWGs9a8AO2+4HV4D+X0J2BmpJIy1fjVKZLxFnQrJiwPyvQFsragUjLV+B9h5z+2h+nDGGk6ZZ4E3POhlgFo/0otqMQD5R4amqp1oGAuQHGBn5HZBeoEEi1ovyDZZ9/CHk3+U2279OwagHFpsIHUFRcfQbKg3JrOMmsE/SUcdbTQAEhtor1h3rzNV0OnoP5T7W23WkYN7Gqh9BlZcqS/rlsLM6xLQ1DgqgKbmf6RzSf2wAtJoZdYa7VfU9wGzL/usJHuurRrgEKQ46oPJl+d8KcHcS7TA65m3s/iCB+kBWuufgMp31E/lCw5wQxPpb88G5T4kwKDc/5/SbbQI4sM1N+SU+5AATrmPLFiC/GFj/Aak0cqu2kAE+JXSMiHUeW2XxgCk0VyQU+5DAmjj/2np5vwQd9QfDgimtManBmOIANPSPWDNZI+tf8di3ueyTwtJPpECIsDfC/euSKdnARyQZqkO1qSgCjBHfa/oW6XF970CVz076he18cx1cKh+8q6o9j7xgiPXYHKbc/8oUbOafET9/ByT+EhFu1gRfQAXk/iY+smyNlTBUb84KswpBDAWKLZFaYc4UuoX2V71jApiAih4AYrWkbmgypgAlTEBKmMCVMYEqIwJUBkToDImQGVMgMqYAJUxASpjAlTGBKiMCVCZogJwrXMUMhL7jjeW0j1goP5ZUUFKHtonL+Nlt7yjvpElJufaMvNjKdkDZKuPo/6RhgQdadAM3MYRBLnpQwR+nJW/I7sI2Z4BHHy+rCSDNqd1jCxFvIo9Cu0QWQTgMNx8T4/D5yNM/nqRQ4TkhzCHjc2yw9zR08H5S84PTe7tST2AQ5AiQ82e13+mIEPT5yk9IbUHXNLTrXxByp60/9nmgtJJCtBSBci7AaFPJkogVQAZkhUJ0TthIv3MiEWSBJjnR15QnjOhe2OisA1pogRyBmIyJJNL9hU7elzD0rsHl7hd2SG/LTVBZxiGYTwNim9RikXmfKkgpbccxdJiJDxROZobtbQoQMnournIvUUBPlA5/iFjGcZOpj2GkTv6N7+qMP4nOjGsyMBh/P9bENZkxJNJhKQXJk8eDmf2v+N4NtzB2tTmArFD8P3Z03IEpqP7f9YTdjOVWwrnmL6zmUrDMAzDMIyW+QIH4yZPl1461wAAAABJRU5ErkJggg==";function yi({text:e="Вам новое сообщение",icon:t=mi,delay:n=300,detach:r,requestPermission:o}){const[i,s]=rt(!1),[a,l]=rt("enter");function h(){a==="exit"&&r()}return Zt(function(){const u=setTimeout(function(){s(!0)},n);return $t.on("detachViews",function(){u&&clearTimeout(u),l("exit")})}),i?S(ot,{stylesText:_i,children:S(fn,{position:"bottom-right",children:S("div",{className:M(Mt.root,Mt[a]),onAnimationEnd:h,onClick:o,children:[S("div",{className:M(Mt.text),children:e}),S("div",{className:M(Mt["icon-root"]),children:[S("img",{src:t,alt:"",className:M(Mt.icon)}),S("div",{className:M(Mt.badge),children:"1"})]})]})})}):null}function gi(e){const t=document.createElement("div");function n(){tt(null,t),t.remove()}document.body.appendChild(t),tt(S(yi,{detach:n,...e}),t)}const Fr={root:"_root_1pkd4_1",enter:"_enter_1pkd4_7",exit:"_exit_1pkd4_12"},vi="._root_1pkd4_1{animation-timing-function:ease-in-out;animation-fill-mode:both;animation-duration:.5s}._enter_1pkd4_7{animation-name:_enter_1pkd4_7;animation-delay:.25s}._exit_1pkd4_12{animation-name:_exit_1pkd4_12}@keyframes _enter_1pkd4_7{0%{opacity:0;transform:translateY(50%)}to{opacity:1;transform:translateY(0)}}@keyframes _exit_1pkd4_12{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(50%)}}",bi="data:image/png;base64,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";function wi({position:e="top-right",icon:t=bi,text:n="",skipText:r="Пропустить",title:o="Вы успешно подписались на получение push-уведомлений",detach:i}){const s=Zo(null),[a,l]=rt("enter");Zt(()=>(s.current=setTimeout(()=>{l("exit")},5e3),()=>{s.current&&clearTimeout(s.current)}),[]);function h(){s.current&&clearTimeout(s.current),l("exit")}function u(){a==="exit"&&i()}return S(ot,{stylesText:vi,children:S(pn,{position:e,icon:t,title:o,text:n,actions:S(Be,{variant:"secondary",onClick:h,children:r}),className:M(Fr.root,Fr[a]),onAnimationEnd:u})})}function xi(e={}){const t=document.createElement("div");function n(){tt(null,t),t.remove()}document.body.appendChild(t),tt(S(wi,{detach:n,...e}),t)}const P=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,H=Object.keys,L=Array.isArray;function q(e,t){return typeof t!="object"||H(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>"u"||P.Promise||(P.Promise=Promise);const te=Object.getPrototypeOf,Ai={}.hasOwnProperty;function z(e,t){return Ai.call(e,t)}function Ft(e,t){typeof t=="function"&&(t=t(te(e))),(typeof Reflect>"u"?H:Reflect.ownKeys)(t).forEach(n=>{it(e,n,t[n])})}const Ur=Object.defineProperty;function it(e,t,n,r){Ur(e,t,q(n&&z(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Ut(e){return{from:function(t){return e.prototype=Object.create(t.prototype),it(e.prototype,"constructor",e),{extend:Ft.bind(null,e.prototype)}}}}const ki=Object.getOwnPropertyDescriptor;function mn(e,t){let n;return ki(e,t)||(n=te(e))&&mn(n,t)}const Ci=[].slice;function Oe(e,t,n){return Ci.call(e,t,n)}function Tr(e,t){return t(e)}function ee(e){if(!e)throw new Error("Assertion Failed")}function Hr(e){P.setImmediate?setImmediate(e):setTimeout(e,0)}function Vr(e,t){return e.reduce((n,r,o)=>{var i=t(r,o);return i&&(n[i[0]]=i[1]),n},{})}function st(e,t){if(typeof t=="string"&&z(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,o=t.length;r<o;++r){var i=st(e,t[r]);n.push(i)}return n}var s=t.indexOf(".");if(s!==-1){var a=e[t.substr(0,s)];return a===void 0?void 0:st(a,t.substr(s+1))}}function Z(e,t,n){if(e&&t!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){ee(typeof n!="string"&&"length"in n);for(var r=0,o=t.length;r<o;++r)Z(e,t[r],n[r])}else{var i=t.indexOf(".");if(i!==-1){var s=t.substr(0,i),a=t.substr(i+1);if(a==="")n===void 0?L(e)&&!isNaN(parseInt(s))?e.splice(s,1):delete e[s]:e[s]=n;else{var l=e[s];l&&z(e,s)||(l=e[s]={}),Z(l,a,n)}}else n===void 0?L(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function Lr(e){var t={};for(var n in e)z(e,n)&&(t[n]=e[n]);return t}const Ei=[].concat;function Wr(e){return Ei.apply([],e)}const Qr="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Wr([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>P[e]),Si=Qr.map(e=>P[e]);Vr(Qr,e=>[e,!0]);let ft=null;function ne(e){ft=typeof WeakMap<"u"&&new WeakMap;const t=yn(e);return ft=null,t}function yn(e){if(!e||typeof e!="object")return e;let t=ft&&ft.get(e);if(t)return t;if(L(e)){t=[],ft&&ft.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(yn(e[n]))}else if(Si.indexOf(e.constructor)>=0)t=e;else{const i=te(e);for(var o in t=i===Object.prototype?{}:Object.create(i),ft&&ft.set(e,t),e)z(e,o)&&(t[o]=yn(e[o]))}return t}const{toString:Ii}={};function gn(e){return Ii.call(e).slice(8,-1)}const vn=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Bi=typeof vn=="symbol"?function(e){var t;return e!=null&&(t=e[vn])&&t.apply(e)}:function(){return null},Tt={};function at(e){var t,n,r,o;if(arguments.length===1){if(L(e))return e.slice();if(this===Tt&&typeof e=="string")return[e];if(o=Bi(e)){for(n=[];!(r=o.next()).done;)n.push(r.value);return n}if(e==null)return[e];if(typeof(t=e.length)=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const bn=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1;var et=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function qr(e,t){et=e,Xr=t}var Xr=()=>!0;const Oi=!new Error("").stack;function wt(){if(Oi)try{throw wt.arguments,new Error}catch(e){return e}return new Error}function wn(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter(Xr).map(r=>`
`+r).join("")):""}var Yr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],xn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Yr),Ri={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ht(e,t){this._e=wt(),this.name=e,this.message=t}function Gr(e,t){return e+". Errors: "+Object.keys(t).map(n=>t[n].toString()).filter((n,r,o)=>o.indexOf(n)===r).join(`
`)}function Re(e,t,n,r){this._e=wt(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=Gr(e,t)}function re(e,t){this._e=wt(),this.name="BulkError",this.failures=Object.keys(t).map(n=>t[n]),this.failuresByPos=t,this.message=Gr(e,t)}Ut(Ht).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+wn(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Ut(Re).from(Ht),Ut(re).from(Ht);var An=xn.reduce((e,t)=>(e[t]=t+"Error",e),{});const ji=Ht;var I=xn.reduce((e,t)=>{var n=t+"Error";function r(o,i){this._e=wt(),this.name=n,o?typeof o=="string"?(this.message=`${o}${i?`
 `+i:""}`,this.inner=i||null):typeof o=="object"&&(this.message=`${o.name} ${o.message}`,this.inner=o):(this.message=Ri[t]||n,this.inner=null)}return Ut(r).from(ji),e[t]=r,e},{});I.Syntax=SyntaxError,I.Type=TypeError,I.Range=RangeError;var zr=Yr.reduce((e,t)=>(e[t+"Error"]=I[t],e),{}),je=xn.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=I[t]),e),{});function j(){}function oe(e){return e}function Ki(e,t){return e==null||e===oe?t:function(n){return t(e(n))}}function xt(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Pi(e,t){return e===j?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?xt(r,this.onsuccess):r),o&&(this.onerror=this.onerror?xt(o,this.onerror):o),i!==void 0?i:n}}function Di(e,t){return e===j?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?xt(n,this.onsuccess):n),r&&(this.onerror=this.onerror?xt(r,this.onerror):r)}}function Ni(e,t){return e===j?t:function(n){var r=e.apply(this,arguments);q(n,r);var o=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?xt(o,this.onsuccess):o),i&&(this.onerror=this.onerror?xt(i,this.onerror):i),r===void 0?s===void 0?void 0:s:q(r,s)}}function Mi(e,t){return e===j?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function kn(e,t){return e===j?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,o=arguments.length,i=new Array(o);o--;)i[o]=arguments[o];return n.then(function(){return t.apply(r,i)})}return t.apply(this,arguments)}}je.ModifyError=Re,je.DexieError=Ht,je.BulkError=re;var ie={};const Jr=100,[Cn,Ke,En]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,te(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,te(t),e]})(),Zr=Ke&&Ke.then,Pe=Cn&&Cn.constructor,Sn=!!En;var In=!1,Fi=En?()=>{En.then(Fe)}:P.setImmediate?setImmediate.bind(null,Fe):P.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{Fe(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(Fe,0)},se=function(e,t){ae.push([e,t]),De&&(Fi(),De=!1)},Bn=!0,De=!0,At=[],Ne=[],On=null,Rn=oe,Vt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:co,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{co(e[0],e[1])}catch{}})}},E=Vt,ae=[],kt=0,Me=[];function C(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=j,this._lib=!1;var t=this._PSD=E;if(et&&(this._stackHolder=wt(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==ie)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Kn(this,this._value))}this._state=null,this._value=null,++t.ref,to(this,e)}const jn={get:function(){var e=E,t=He;function n(r,o){var i=!e.global&&(e!==E||t!==He);const s=i&&!ct();var a=new C((l,h)=>{Pn(this,new $r(Le(r,e,i,s),Le(o,e,i,s),l,h,e))});return et&&ro(a,this),a}return n.prototype=ie,n},set:function(e){it(this,"then",e&&e.prototype===ie?jn:{get:function(){return e},set:jn.set})}};function $r(e,t,n,r,o){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=o}function to(e,t){try{t(n=>{if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&ce();n&&typeof n.then=="function"?to(e,(o,i)=>{n instanceof C?n._then(o,i):n.then(o,i)}):(e._state=!0,e._value=n,eo(e)),r&&le()}},Kn.bind(null,e))}catch(n){Kn(e,n)}}function Kn(e,t){if(Ne.push(t),e._state===null){var n=e._lib&&ce();t=Rn(t),e._state=!1,e._value=t,et&&t!==null&&typeof t=="object"&&!t._promise&&function(r,o,i){try{r.apply(null,i)}catch(s){o&&o(s)}}(()=>{var r=mn(t,"stack");t._promise=e,it(t,"stack",{get:()=>In?r&&(r.get?r.get.apply(t):r.value):e.stack})}),function(r){At.some(o=>o._value===r._value)||At.push(r)}(e),eo(e),n&&le()}}function eo(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Pn(e,t[n]);var o=e._PSD;--o.ref||o.finalize(),kt===0&&(++kt,se(()=>{--kt==0&&Dn()},[]))}function Pn(e,t){if(e._state!==null){var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++kt,se(Ui,[n,e,t])}else e._listeners.push(t)}function Ui(e,t,n){try{On=t;var r,o=t._value;t._state?r=e(o):(Ne.length&&(Ne=[]),r=e(o),Ne.indexOf(o)===-1&&function(i){for(var s=At.length;s;)if(At[--s]._value===i._value)return void At.splice(s,1)}(t)),n.resolve(r)}catch(i){n.reject(i)}finally{On=null,--kt==0&&Dn(),--n.psd.ref||n.psd.finalize()}}function no(e,t,n){if(t.length===n)return t;var r="";if(e._state===!1){var o,i,s=e._value;s!=null?(o=s.name||"Error",i=s.message||s,r=wn(s,0)):(o=s,i=""),t.push(o+(i?": "+i:"")+r)}return et&&((r=wn(e._stackHolder,2))&&t.indexOf(r)===-1&&t.push(r),e._prev&&no(e._prev,t,n)),t}function ro(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Fe(){ce()&&le()}function ce(){var e=Bn;return Bn=!1,De=!1,e}function le(){var e,t,n;do for(;ae.length>0;)for(e=ae,ae=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(ae.length>0);Bn=!0,De=!0}function Dn(){var e=At;At=[],e.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var t=Me.slice(0),n=t.length;n;)t[--n]()}function Ue(e){return new C(ie,!1,e)}function N(e,t){var n=E;return function(){var r=ce(),o=E;try{return _t(n,!0),e.apply(this,arguments)}catch(i){t&&t(i)}finally{_t(o,!1),r&&le()}}}Ft(C.prototype,{then:jn,_then:function(e,t){Pn(this,new $r(null,null,e,t,E))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,r=>r instanceof t?n(r):Ue(r)):this.then(null,r=>r&&r.name===t?n(r):Ue(r))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),Ue(t)))},stack:{get:function(){if(this._stack)return this._stack;try{In=!0;var e=no(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{In=!1}}},timeout:function(e,t){return e<1/0?new C((n,r)=>{var o=setTimeout(()=>r(new I.Timeout(t)),e);this.then(n,r).finally(clearTimeout.bind(null,o))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&it(C.prototype,Symbol.toStringTag,"Dexie.Promise"),Vt.env=oo(),Ft(C,{all:function(){var e=at.apply(null,arguments).map(Ve);return new C(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach((o,i)=>C.resolve(o).then(s=>{e[i]=s,--r||t(e)},n))})},resolve:e=>{if(e instanceof C)return e;if(e&&typeof e.then=="function")return new C((n,r)=>{e.then(n,r)});var t=new C(ie,!0,e);return ro(t,On),t},reject:Ue,race:function(){var e=at.apply(null,arguments).map(Ve);return new C((t,n)=>{e.map(r=>C.resolve(r).then(t,n))})},PSD:{get:()=>E,set:e=>E=e},totalEchoes:{get:()=>He},newPSD:pt,usePSD:Wt,scheduler:{get:()=>se,set:e=>{se=e}},rejectionMapper:{get:()=>Rn,set:e=>{Rn=e}},follow:(e,t)=>new C((n,r)=>pt((o,i)=>{var s=E;s.unhandleds=[],s.onunhandled=i,s.finalize=xt(function(){(function(a){function l(){a(),Me.splice(Me.indexOf(l),1)}Me.push(l),++kt,se(()=>{--kt==0&&Dn()},[])})(()=>{this.unhandleds.length===0?o():i(this.unhandleds[0])})},s.finalize),e()},t,n,r))}),Pe&&(Pe.allSettled&&it(C,"allSettled",function(){const e=at.apply(null,arguments).map(Ve);return new C(t=>{e.length===0&&t([]);let n=e.length;const r=new Array(n);e.forEach((o,i)=>C.resolve(o).then(s=>r[i]={status:"fulfilled",value:s},s=>r[i]={status:"rejected",reason:s}).then(()=>--n||t(r)))})}),Pe.any&&typeof AggregateError<"u"&&it(C,"any",function(){const e=at.apply(null,arguments).map(Ve);return new C((t,n)=>{e.length===0&&n(new AggregateError([]));let r=e.length;const o=new Array(r);e.forEach((i,s)=>C.resolve(i).then(a=>t(a),a=>{o[s]=a,--r||n(new AggregateError(o))}))})}));const W={awaits:0,echoes:0,id:0};var Ti=0,Te=[],Nn=0,He=0,Hi=0;function pt(e,t,n,r){var o=E,i=Object.create(o);i.parent=o,i.ref=0,i.global=!1,i.id=++Hi;var s=Vt.env;i.env=Sn?{Promise:C,PromiseProp:{value:C,configurable:!0,writable:!0},all:C.all,race:C.race,allSettled:C.allSettled,any:C.any,resolve:C.resolve,reject:C.reject,nthen:so(s.nthen,i),gthen:so(s.gthen,i)}:{},t&&q(i,t),++o.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=Wt(i,e,n,r);return i.ref===0&&i.finalize(),a}function Lt(){return W.id||(W.id=++Ti),++W.awaits,W.echoes+=Jr,W.id}function ct(){return!!W.awaits&&(--W.awaits==0&&(W.id=0),W.echoes=W.awaits*Jr,!0)}function Ve(e){return W.echoes&&e&&e.constructor===Pe?(Lt(),e.then(t=>(ct(),t),t=>(ct(),V(t)))):e}function Vi(e){++He,W.echoes&&--W.echoes!=0||(W.echoes=W.id=0),Te.push(E),_t(e,!0)}function Li(){var e=Te[Te.length-1];Te.pop(),_t(e,!1)}function _t(e,t){var n=E;if((t?!W.echoes||Nn++&&e===E:!Nn||--Nn&&e===E)||io(t?Vi.bind(null,e):Li),e!==E&&(E=e,n===Vt&&(Vt.env=oo()),Sn)){var r=Vt.env.Promise,o=e.env;Ke.then=o.nthen,r.prototype.then=o.gthen,(n.global||e.global)&&(Object.defineProperty(P,"Promise",o.PromiseProp),r.all=o.all,r.race=o.race,r.resolve=o.resolve,r.reject=o.reject,o.allSettled&&(r.allSettled=o.allSettled),o.any&&(r.any=o.any))}}function oo(){var e=P.Promise;return Sn?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(P,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Ke.then,gthen:e.prototype.then}:{}}function Wt(e,t,n,r,o){var i=E;try{return _t(e,!0),t(n,r,o)}finally{_t(i,!1)}}function io(e){Zr.call(Cn,e)}function Le(e,t,n,r){return typeof e!="function"?e:function(){var o=E;n&&Lt(),_t(t,!0);try{return e.apply(this,arguments)}finally{_t(o,!1),r&&io(ct)}}}function so(e,t){return function(n,r){return e.call(this,Le(n,t),Le(r,t))}}(""+Zr).indexOf("[native code]")===-1&&(Lt=ct=j);const ao="unhandledrejection";function co(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var r,o={promise:t,reason:e};if(P.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(ao,!0,!0),q(r,o)):P.CustomEvent&&q(r=new CustomEvent(ao,{detail:o}),o),r&&P.dispatchEvent&&(dispatchEvent(r),!P.PromiseRejectionEvent&&P.onunhandledrejection))try{P.onunhandledrejection(r)}catch{}et&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var V=C.reject;function Mn(e,t,n,r){if(e.idbdb&&(e._state.openComplete||E.letThrough||e._vip)){var o=e._createTransaction(t,n,e._dbSchema);try{o.create(),e._state.PR1398_maxLoop=3}catch(i){return i.name===An.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>Mn(e,t,n,r))):V(i)}return o._promise(t,(i,s)=>pt(()=>(E.trans=o,r(i,s,o)))).then(i=>o._completion.then(()=>i))}if(e._state.openComplete)return V(new I.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return V(new I.DatabaseClosed);e.open().catch(j)}return e._state.dbReadyPromise.then(()=>Mn(e,t,n,r))}const lo="3.2.5",Ct="￿",Fn=-1/0,lt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",uo="String expected.",ue=[],We=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Wi=We,Qi=We,ho=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),Qe="__dbnames",Un="readonly",Tn="readwrite";function Et(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const fo={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function qe(e){return typeof e!="string"||/\./.test(e)?t=>t:t=>(t[e]===void 0&&e in t&&delete(t=ne(t))[e],t)}class qi{_trans(t,n,r){const o=this._tx||E.trans,i=this.name;function s(l,h,u){if(!u.schema[i])throw new I.NotFound("Table "+i+" not part of transaction");return n(u.idbtrans,u)}const a=ce();try{return o&&o.db===this.db?o===E.trans?o._promise(t,s,r):pt(()=>o._promise(t,s,r),{trans:o,transless:E.transless||E}):Mn(this.db,t,[this.name],s)}finally{a&&le()}}get(t,n){return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:t}).then(o=>this.hook.reading.fire(o))).then(n)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(L(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const n=H(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(h=>{if(h.compound&&n.every(u=>h.keyPath.indexOf(u)>=0)){for(let u=0;u<n.length;++u)if(n.indexOf(h.keyPath[u])===-1)return!1;return!0}return!1}).sort((h,u)=>h.keyPath.length-u.keyPath.length)[0];if(r&&this.db._maxKey!==Ct){const h=r.keyPath.slice(0,n.length);return this.where(h).equals(h.map(u=>t[u]))}!r&&et&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:o}=this.schema,i=this.db._deps.indexedDB;function s(h,u){try{return i.cmp(h,u)===0}catch{return!1}}const[a,l]=n.reduce(([h,u],c)=>{const d=o[c],f=t[c];return[h||d,h||!d?Et(u,d&&d.multi?y=>{const m=st(y,c);return L(m)&&m.some(g=>s(f,g))}:y=>s(f,st(y,c))):u]},[null,null]);return a?this.where(a.name).equals(t[a.keyPath]).filter(l):r?this.filter(l):this.where(n).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,L(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const n=r=>{if(!r)return r;const o=Object.create(t.prototype);for(var i in r)if(z(r,i))try{o[i]=r[i]}catch{}return o};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),t}defineClass(){return this.mapToClass(function(t){q(this,t)})}add(t,n){const{auto:r,keyPath:o}=this.schema.primKey;let i=t;return o&&r&&(i=qe(o)(t)),this._trans("readwrite",s=>this.core.mutate({trans:s,type:"add",keys:n!=null?[n]:null,values:[i]})).then(s=>s.numFailures?C.reject(s.failures[0]):s.lastResult).then(s=>{if(o)try{Z(t,o,s)}catch{}return s})}update(t,n){if(typeof t!="object"||L(t))return this.where(":id").equals(t).modify(n);{const r=st(t,this.schema.primKey.keyPath);if(r===void 0)return V(new I.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?H(n).forEach(o=>{Z(t,o,n[o])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(t,n){const{auto:r,keyPath:o}=this.schema.primKey;let i=t;return o&&r&&(i=qe(o)(t)),this._trans("readwrite",s=>this.core.mutate({trans:s,type:"put",values:[i],keys:n!=null?[n]:null})).then(s=>s.numFailures?C.reject(s.failures[0]):s.lastResult).then(s=>{if(o)try{Z(t,o,s)}catch{}return s})}delete(t){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[t]})).then(n=>n.numFailures?C.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:fo})).then(t=>t.numFailures?C.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",n=>this.core.getMany({keys:t,trans:n}).then(r=>r.map(o=>this.hook.reading.fire(o))))}bulkAdd(t,n,r){const o=Array.isArray(n)?n:void 0,i=(r=r||(o?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",s=>{const{auto:a,keyPath:l}=this.schema.primKey;if(l&&o)throw new I.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new I.InvalidArgument("Arguments objects and keys must have the same length");const h=t.length;let u=l&&a?t.map(qe(l)):t;return this.core.mutate({trans:s,type:"add",keys:o,values:u,wantResults:i}).then(({numFailures:c,results:d,lastResult:f,failures:y})=>{if(c===0)return i?d:f;throw new re(`${this.name}.bulkAdd(): ${c} of ${h} operations failed`,y)})})}bulkPut(t,n,r){const o=Array.isArray(n)?n:void 0,i=(r=r||(o?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",s=>{const{auto:a,keyPath:l}=this.schema.primKey;if(l&&o)throw new I.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new I.InvalidArgument("Arguments objects and keys must have the same length");const h=t.length;let u=l&&a?t.map(qe(l)):t;return this.core.mutate({trans:s,type:"put",keys:o,values:u,wantResults:i}).then(({numFailures:c,results:d,lastResult:f,failures:y})=>{if(c===0)return i?d:f;throw new re(`${this.name}.bulkPut(): ${c} of ${h} operations failed`,y)})})}bulkDelete(t){const n=t.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:t})).then(({numFailures:r,lastResult:o,failures:i})=>{if(r===0)return o;throw new re(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,i)})}}function he(e){var t={},n=function(s,a){if(a){for(var l=arguments.length,h=new Array(l-1);--l;)h[l-1]=arguments[l];return t[s].subscribe.apply(null,h),e}if(typeof s=="string")return t[s]};n.addEventType=i;for(var r=1,o=arguments.length;r<o;++r)i(arguments[r]);return n;function i(s,a,l){if(typeof s!="object"){var h;a||(a=Mi),l||(l=j);var u={subscribers:[],fire:l,subscribe:function(c){u.subscribers.indexOf(c)===-1&&(u.subscribers.push(c),u.fire=a(u.fire,c))},unsubscribe:function(c){u.subscribers=u.subscribers.filter(function(d){return d!==c}),u.fire=u.subscribers.reduce(a,l)}};return t[s]=n[s]=u,u}H(h=s).forEach(function(c){var d=h[c];if(L(d))i(c,h[c][0],h[c][1]);else{if(d!=="asap")throw new I.InvalidArgument("Invalid event config");var f=i(c,oe,function(){for(var y=arguments.length,m=new Array(y);y--;)m[y]=arguments[y];f.subscribers.forEach(function(g){Hr(function(){g.apply(null,m)})})})}})}}function de(e,t){return Ut(t).from({prototype:e}),t}function Qt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Hn(e,t){e.filter=Et(e.filter,t)}function Vn(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>Et(r(),t()):t,e.justLimit=n&&!r}function Xe(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new I.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function po(e,t,n){const r=Xe(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function Ye(e,t,n,r){const o=e.replayFilter?Et(e.filter,e.replayFilter()):e.filter;if(e.or){const i={},s=(a,l,h)=>{if(!o||o(l,h,d=>l.stop(d),d=>l.fail(d))){var u=l.primaryKey,c=""+u;c==="[object ArrayBuffer]"&&(c=""+new Uint8Array(u)),z(i,c)||(i[c]=!0,t(a,l,h))}};return Promise.all([e.or._iterate(s,n),_o(po(e,r,n),e.algorithm,s,!e.keysOnly&&e.valueMapper)])}return _o(po(e,r,n),Et(e.algorithm,o),t,!e.keysOnly&&e.valueMapper)}function _o(e,t,n,r){var o=N(r?(i,s,a)=>n(r(i),s,a):n);return e.then(i=>{if(i)return i.start(()=>{var s=()=>i.continue();t&&!t(i,a=>s=a,a=>{i.stop(a),s=j},a=>{i.fail(a),s=j})||o(i.value,i,a=>s=a),s()})})}function X(e,t){try{const n=mo(e),r=mo(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(o,i){const s=o.length,a=i.length,l=s<a?s:a;for(let h=0;h<l;++h)if(o[h]!==i[h])return o[h]<i[h]?-1:1;return s===a?0:s<a?-1:1}(yo(e),yo(t));case"Array":return function(o,i){const s=o.length,a=i.length,l=s<a?s:a;for(let h=0;h<l;++h){const u=X(o[h],i[h]);if(u!==0)return u}return s===a?0:s<a?-1:1}(e,t)}}catch{}return NaN}function mo(e){const t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";const n=gn(e);return n==="ArrayBuffer"?"binary":n}function yo(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class Xi{_read(t,n){var r=this._ctx;return r.error?r.table._trans(null,V.bind(null,r.error)):r.table._trans("readonly",t).then(n)}_write(t){var n=this._ctx;return n.error?n.table._trans(null,V.bind(null,n.error)):n.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var n=this._ctx;n.algorithm=Et(n.algorithm,t)}_iterate(t,n){return Ye(this._ctx,t,n,this._ctx.table.core)}clone(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&q(r,t),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(t){var n=this._ctx;return this._read(r=>Ye(n,t,r,n.table.core))}count(t){return this._read(n=>{const r=this._ctx,o=r.table.core;if(Qt(r,!0))return o.count({trans:n,query:{index:Xe(r,o.schema),range:r.range}}).then(s=>Math.min(s,r.limit));var i=0;return Ye(r,()=>(++i,!1),n,o).then(()=>i)}).then(t)}sortBy(t,n){const r=t.split(".").reverse(),o=r[0],i=r.length-1;function s(h,u){return u?s(h[r[u]],u-1):h[o]}var a=this._ctx.dir==="next"?1:-1;function l(h,u){var c=s(h,i),d=s(u,i);return c<d?-a:c>d?a:0}return this.toArray(function(h){return h.sort(l)}).then(n)}toArray(t){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&Qt(r,!0)&&r.limit>0){const{valueMapper:o}=r,i=Xe(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:i,range:r.range}}).then(({result:s})=>o?s.map(o):s)}{const o=[];return Ye(r,i=>o.push(i),n,r.table.core).then(()=>o)}},t)}offset(t){var n=this._ctx;return t<=0||(n.offset+=t,Qt(n)?Vn(n,()=>{var r=t;return(o,i)=>r===0||(r===1?(--r,!1):(i(()=>{o.advance(r),r=0}),!1))}):Vn(n,()=>{var r=t;return()=>--r<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),Vn(this._ctx,()=>{var n=t;return function(r,o,i){return--n<=0&&o(i),n>=0}},!0),this}until(t,n){return Hn(this._ctx,function(r,o,i){return!t(r.value)||(o(i),n)}),this}first(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var n,r;return Hn(this._ctx,function(o){return t(o.value)}),n=this._ctx,r=t,n.isMatch=Et(n.isMatch,r),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,o){t(o.key,o)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,o){t(o.primaryKey,o)})}keys(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(o,i){r.push(i.key)}).then(function(){return r}).then(t)}primaryKeys(t){var n=this._ctx;if(n.dir==="next"&&Qt(n,!0)&&n.limit>0)return this._read(o=>{var i=Xe(n,n.table.core.schema);return n.table.core.query({trans:o,values:!1,limit:n.limit,query:{index:i,range:n.range}})}).then(({result:o})=>o).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(o,i){r.push(i.primaryKey)}).then(function(){return r}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(n){return n[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return Hn(this._ctx,function(o){var i=o.primaryKey.toString(),s=z(r,i);return r[i]=!0,!s}),this}modify(t){var n=this._ctx;return this._write(r=>{var o;if(typeof t=="function")o=t;else{var i=H(t),s=i.length;o=function(m){for(var g=!1,_=0;_<s;++_){var p=i[_],b=t[p];st(m,p)!==b&&(Z(m,p,b),g=!0)}return g}}const a=n.table.core,{outbound:l,extractKey:h}=a.schema.primaryKey,u=this.db._options.modifyChunkSize||200,c=[];let d=0;const f=[],y=(m,g)=>{const{failures:_,numFailures:p}=g;d+=m-p;for(let b of H(_))c.push(_[b])};return this.clone().primaryKeys().then(m=>{const g=_=>{const p=Math.min(u,m.length-_);return a.getMany({trans:r,keys:m.slice(_,_+p),cache:"immutable"}).then(b=>{const x=[],A=[],k=l?[]:null,w=[];for(let v=0;v<p;++v){const K=b[v],R={value:ne(K),primKey:m[_+v]};o.call(R,R.value,R)!==!1&&(R.value==null?w.push(m[_+v]):l||X(h(K),h(R.value))===0?(A.push(R.value),l&&k.push(m[_+v])):(w.push(m[_+v]),x.push(R.value)))}const B=Qt(n)&&n.limit===1/0&&(typeof t!="function"||t===Ln)&&{index:n.index,range:n.range};return Promise.resolve(x.length>0&&a.mutate({trans:r,type:"add",values:x}).then(v=>{for(let K in v.failures)w.splice(parseInt(K),1);y(x.length,v)})).then(()=>(A.length>0||B&&typeof t=="object")&&a.mutate({trans:r,type:"put",keys:k,values:A,criteria:B,changeSpec:typeof t!="function"&&t}).then(v=>y(A.length,v))).then(()=>(w.length>0||B&&t===Ln)&&a.mutate({trans:r,type:"delete",keys:w,criteria:B}).then(v=>y(w.length,v))).then(()=>m.length>_+p&&g(_+u))})};return g(0).then(()=>{if(c.length>0)throw new Re("Error modifying one or more objects",c,d,f);return m.length})})})}delete(){var t=this._ctx,n=t.range;return Qt(t)&&(t.isPrimKey&&!Qi||n.type===3)?this._write(r=>{const{primaryKey:o}=t.table.core.schema,i=n;return t.table.core.count({trans:r,query:{index:o,range:i}}).then(s=>t.table.core.mutate({trans:r,type:"deleteRange",range:i}).then(({failures:a,lastResult:l,results:h,numFailures:u})=>{if(u)throw new Re("Could not delete some values",Object.keys(a).map(c=>a[c]),s-u);return s-u}))}):this.modify(Ln)}}const Ln=(e,t)=>t.value=null;function Yi(e,t){return e<t?-1:e===t?0:1}function Gi(e,t){return e>t?-1:e===t?0:1}function J(e,t,n){var r=e instanceof vo?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function qt(e){return new e.Collection(e,()=>go("")).limit(0)}function zi(e,t,n,r,o,i){for(var s=Math.min(e.length,r.length),a=-1,l=0;l<s;++l){var h=t[l];if(h!==r[l])return o(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):o(e[l],r[l])<0?e.substr(0,l)+r[l]+n.substr(l+1):a>=0?e.substr(0,a)+t[a]+n.substr(a+1):null;o(e[l],h)<0&&(a=l)}return s<r.length&&i==="next"?e+n.substr(e.length):s<e.length&&i==="prev"?e.substr(0,n.length):a<0?null:e.substr(0,a)+r[a]+n.substr(a+1)}function Ge(e,t,n,r){var o,i,s,a,l,h,u,c=n.length;if(!n.every(m=>typeof m=="string"))return J(e,uo);function d(m){o=function(_){return _==="next"?p=>p.toUpperCase():p=>p.toLowerCase()}(m),i=function(_){return _==="next"?p=>p.toLowerCase():p=>p.toUpperCase()}(m),s=m==="next"?Yi:Gi;var g=n.map(function(_){return{lower:i(_),upper:o(_)}}).sort(function(_,p){return s(_.lower,p.lower)});a=g.map(function(_){return _.upper}),l=g.map(function(_){return _.lower}),h=m,u=m==="next"?"":r}d("next");var f=new e.Collection(e,()=>mt(a[0],l[c-1]+r));f._ondirectionchange=function(m){d(m)};var y=0;return f._addAlgorithm(function(m,g,_){var p=m.key;if(typeof p!="string")return!1;var b=i(p);if(t(b,l,y))return!0;for(var x=null,A=y;A<c;++A){var k=zi(p,b,a[A],l[A],s,h);k===null&&x===null?y=A+1:(x===null||s(x,k)>0)&&(x=k)}return g(x!==null?function(){m.continue(x+u)}:_),!1}),f}function mt(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function go(e){return{type:1,lower:e,upper:e}}class vo{get Collection(){return this._ctx.table.db.Collection}between(t,n,r,o){r=r!==!1,o=o===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||o)&&(!r||!o)?qt(this):new this.Collection(this,()=>mt(t,n,!r,!o))}catch{return J(this,lt)}}equals(t){return t==null?J(this,lt):new this.Collection(this,()=>go(t))}above(t){return t==null?J(this,lt):new this.Collection(this,()=>mt(t,void 0,!0))}aboveOrEqual(t){return t==null?J(this,lt):new this.Collection(this,()=>mt(t,void 0,!1))}below(t){return t==null?J(this,lt):new this.Collection(this,()=>mt(void 0,t,!1,!0))}belowOrEqual(t){return t==null?J(this,lt):new this.Collection(this,()=>mt(void 0,t))}startsWith(t){return typeof t!="string"?J(this,uo):this.between(t,t+Ct,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):Ge(this,(n,r)=>n.indexOf(r[0])===0,[t],Ct)}equalsIgnoreCase(t){return Ge(this,(n,r)=>n===r[0],[t],"")}anyOfIgnoreCase(){var t=at.apply(Tt,arguments);return t.length===0?qt(this):Ge(this,(n,r)=>r.indexOf(n)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=at.apply(Tt,arguments);return t.length===0?qt(this):Ge(this,(n,r)=>r.some(o=>n.indexOf(o)===0),t,Ct)}anyOf(){const t=at.apply(Tt,arguments);let n=this._cmp;try{t.sort(n)}catch{return J(this,lt)}if(t.length===0)return qt(this);const r=new this.Collection(this,()=>mt(t[0],t[t.length-1]));r._ondirectionchange=i=>{n=i==="next"?this._ascending:this._descending,t.sort(n)};let o=0;return r._addAlgorithm((i,s,a)=>{const l=i.key;for(;n(l,t[o])>0;)if(++o,o===t.length)return s(a),!1;return n(l,t[o])===0||(s(()=>{i.continue(t[o])}),!1)}),r}notEqual(t){return this.inAnyRange([[Fn,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=at.apply(Tt,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return J(this,lt)}const n=t.reduce((r,o)=>r?r.concat([[r[r.length-1][1],o]]):[[Fn,o]],null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,n){const r=this._cmp,o=this._ascending,i=this._descending,s=this._min,a=this._max;if(t.length===0)return qt(this);if(!t.every(p=>p[0]!==void 0&&p[1]!==void 0&&o(p[0],p[1])<=0))return J(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",I.InvalidArgument);const l=!n||n.includeLowers!==!1,h=n&&n.includeUppers===!0;let u,c=o;function d(p,b){return c(p[0],b[0])}try{u=t.reduce(function(p,b){let x=0,A=p.length;for(;x<A;++x){const k=p[x];if(r(b[0],k[1])<0&&r(b[1],k[0])>0){k[0]=s(k[0],b[0]),k[1]=a(k[1],b[1]);break}}return x===A&&p.push(b),p},[]),u.sort(d)}catch{return J(this,lt)}let f=0;const y=h?p=>o(p,u[f][1])>0:p=>o(p,u[f][1])>=0,m=l?p=>i(p,u[f][0])>0:p=>i(p,u[f][0])>=0;let g=y;const _=new this.Collection(this,()=>mt(u[0][0],u[u.length-1][1],!l,!h));return _._ondirectionchange=p=>{p==="next"?(g=y,c=o):(g=m,c=i),u.sort(d)},_._addAlgorithm((p,b,x)=>{for(var A=p.key;g(A);)if(++f,f===u.length)return b(x),!1;return!!function(k){return!y(k)&&!m(k)}(A)||(this._cmp(A,u[f][1])===0||this._cmp(A,u[f][0])===0||b(()=>{c===o?p.continue(u[f][0]):p.continue(u[f][1])}),!1)}),_}startsWithAnyOf(){const t=at.apply(Tt,arguments);return t.every(n=>typeof n=="string")?t.length===0?qt(this):this.inAnyRange(t.map(n=>[n,n+Ct])):J(this,"startsWithAnyOf() only works with strings")}}function nt(e){return N(function(t){return fe(t),e(t.target.error),!1})}function fe(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const pe="storagemutated",yt="x-storagemutated-1",gt=he(null,pe);class Ji{_lock(){return ee(!E.global),++this._reculock,this._reculock!==1||E.global||(E.lockOwnerFor=this),this}_unlock(){if(ee(!E.global),--this._reculock==0)for(E.global||(E.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{Wt(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&E.lockOwnerFor!==this}create(t){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(ee(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new I.DatabaseClosed(r);case"MissingAPIError":throw new I.MissingAPI(r.message,r);default:throw new I.OpenFailed(r)}if(!this.active)throw new I.TransactionInactive;return ee(this._completion._state===null),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=N(o=>{fe(o),this._reject(t.error)}),t.onabort=N(o=>{fe(o),this.active&&this._reject(new I.Abort(t.error)),this.active=!1,this.on("abort").fire(o)}),t.oncomplete=N(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&gt.storagemutated.fire(t.mutatedParts)}),this}_promise(t,n,r){if(t==="readwrite"&&this.mode!=="readwrite")return V(new I.ReadOnly("Transaction is readonly"));if(!this.active)return V(new I.TransactionInactive);if(this._locked())return new C((i,s)=>{this._blockedFuncs.push([()=>{this._promise(t,n,r).then(i,s)},E])});if(r)return pt(()=>{var i=new C((s,a)=>{this._lock();const l=n(s,a,this);l&&l.then&&l.then(s,a)});return i.finally(()=>this._unlock()),i._lib=!0,i});var o=new C((i,s)=>{var a=n(i,s,this);a&&a.then&&a.then(i,s)});return o._lib=!0,o}_root(){return this.parent?this.parent._root():this}waitFor(t){var n=this._root();const r=C.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var o=n.idbtrans.objectStore(n.storeNames[0]);(function s(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(o.get(-1/0).onsuccess=s)})()}var i=n._waitingFor;return new C((s,a)=>{r.then(l=>n._waitingQueue.push(N(s.bind(null,l))),l=>n._waitingQueue.push(N(a.bind(null,l)))).finally(()=>{n._waitingFor===i&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new I.Abort))}table(t){const n=this._memoizedTables||(this._memoizedTables={});if(z(n,t))return n[t];const r=this.schema[t];if(!r)throw new I.NotFound("Table "+t+" not part of transaction");const o=new this.db.Table(t,r,this);return o.core=this.db.core.table(t),n[t]=o,o}}function Wn(e,t,n,r,o,i,s){return{name:e,keyPath:t,unique:n,multi:r,auto:o,compound:i,src:(n&&!s?"&":"")+(r?"*":"")+(o?"++":"")+bo(t)}}function bo(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function wo(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:Vr(n,r=>[r.name,r])}}let _e=e=>{try{return e.only([[]]),_e=()=>[[]],[[]]}catch{return _e=()=>Ct,Ct}};function Qn(e){return e==null?()=>{}:typeof e=="string"?function(t){return t.split(".").length===1?r=>r[t]:r=>st(r,t)}(e):t=>st(t,e)}function xo(e){return[].slice.call(e)}let Zi=0;function me(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function $i(e,t,n){function r(l){if(l.type===3)return null;if(l.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:h,upper:u,lowerOpen:c,upperOpen:d}=l;return h===void 0?u===void 0?null:t.upperBound(u,!!d):u===void 0?t.lowerBound(h,!!c):t.bound(h,u,!!c,!!d)}const{schema:o,hasGetAll:i}=function(l,h){const u=xo(l.objectStoreNames);return{schema:{name:l.name,tables:u.map(c=>h.objectStore(c)).map(c=>{const{keyPath:d,autoIncrement:f}=c,y=L(d),m=d==null,g={},_={name:c.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:m,compound:y,keyPath:d,autoIncrement:f,unique:!0,extractKey:Qn(d)},indexes:xo(c.indexNames).map(p=>c.index(p)).map(p=>{const{name:b,unique:x,multiEntry:A,keyPath:k}=p,w={name:b,compound:L(k),keyPath:k,unique:x,multiEntry:A,extractKey:Qn(k)};return g[me(k)]=w,w}),getIndexByKeyPath:p=>g[me(p)]};return g[":id"]=_.primaryKey,d!=null&&(g[me(d)]=_.primaryKey),_})},hasGetAll:u.length>0&&"getAll"in h.objectStore(u[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),s=o.tables.map(l=>function(h){const u=h.name;return{name:u,schema:h,mutate:function({trans:c,type:d,keys:f,values:y,range:m}){return new Promise((g,_)=>{g=N(g);const p=c.objectStore(u),b=p.keyPath==null,x=d==="put"||d==="add";if(!x&&d!=="delete"&&d!=="deleteRange")throw new Error("Invalid operation type: "+d);const{length:A}=f||y||{length:1};if(f&&y&&f.length!==y.length)throw new Error("Given keys array must have same length as given values array.");if(A===0)return g({numFailures:0,failures:{},results:[],lastResult:void 0});let k;const w=[],B=[];let v=0;const K=Y=>{++v,fe(Y)};if(d==="deleteRange"){if(m.type===4)return g({numFailures:v,failures:B,results:[],lastResult:void 0});m.type===3?w.push(k=p.clear()):w.push(k=p.delete(r(m)))}else{const[Y,Q]=x?b?[y,f]:[y,null]:[f,null];if(x)for(let U=0;U<A;++U)w.push(k=Q&&Q[U]!==void 0?p[d](Y[U],Q[U]):p[d](Y[U])),k.onerror=K;else for(let U=0;U<A;++U)w.push(k=p[d](Y[U])),k.onerror=K}const R=Y=>{const Q=Y.target.result;w.forEach((U,Gt)=>U.error!=null&&(B[Gt]=U.error)),g({numFailures:v,failures:B,results:d==="delete"?f:w.map(U=>U.result),lastResult:Q})};k.onerror=Y=>{K(Y),R(Y)},k.onsuccess=R})},getMany:({trans:c,keys:d})=>new Promise((f,y)=>{f=N(f);const m=c.objectStore(u),g=d.length,_=new Array(g);let p,b=0,x=0;const A=w=>{const B=w.target;_[B._pos]=B.result,++x===b&&f(_)},k=nt(y);for(let w=0;w<g;++w)d[w]!=null&&(p=m.get(d[w]),p._pos=w,p.onsuccess=A,p.onerror=k,++b);b===0&&f(_)}),get:({trans:c,key:d})=>new Promise((f,y)=>{f=N(f);const m=c.objectStore(u).get(d);m.onsuccess=g=>f(g.target.result),m.onerror=nt(y)}),query:function(c){return d=>new Promise((f,y)=>{f=N(f);const{trans:m,values:g,limit:_,query:p}=d,b=_===1/0?void 0:_,{index:x,range:A}=p,k=m.objectStore(u),w=x.isPrimaryKey?k:k.index(x.name),B=r(A);if(_===0)return f({result:[]});if(c){const v=g?w.getAll(B,b):w.getAllKeys(B,b);v.onsuccess=K=>f({result:K.target.result}),v.onerror=nt(y)}else{let v=0;const K=g||!("openKeyCursor"in w)?w.openCursor(B):w.openKeyCursor(B),R=[];K.onsuccess=Y=>{const Q=K.result;return Q?(R.push(g?Q.value:Q.primaryKey),++v===_?f({result:R}):void Q.continue()):f({result:R})},K.onerror=nt(y)}})}(i),openCursor:function({trans:c,values:d,query:f,reverse:y,unique:m}){return new Promise((g,_)=>{g=N(g);const{index:p,range:b}=f,x=c.objectStore(u),A=p.isPrimaryKey?x:x.index(p.name),k=y?m?"prevunique":"prev":m?"nextunique":"next",w=d||!("openKeyCursor"in A)?A.openCursor(r(b),k):A.openKeyCursor(r(b),k);w.onerror=nt(_),w.onsuccess=N(B=>{const v=w.result;if(!v)return void g(null);v.___id=++Zi,v.done=!1;const K=v.continue.bind(v);let R=v.continuePrimaryKey;R&&(R=R.bind(v));const Y=v.advance.bind(v),Q=()=>{throw new Error("Cursor not stopped")};v.trans=c,v.stop=v.continue=v.continuePrimaryKey=v.advance=()=>{throw new Error("Cursor not started")},v.fail=N(_),v.next=function(){let U=1;return this.start(()=>U--?this.continue():this.stop()).then(()=>this)},v.start=U=>{const Gt=new Promise((G,Kt)=>{G=N(G),w.onerror=nt(Kt),v.fail=Kt,v.stop=ge=>{v.stop=v.continue=v.continuePrimaryKey=v.advance=Q,G(ge)}}),zt=()=>{if(w.result)try{U()}catch(G){v.fail(G)}else v.done=!0,v.start=()=>{throw new Error("Cursor behind last entry")},v.stop()};return w.onsuccess=N(G=>{w.onsuccess=zt,zt()}),v.continue=K,v.continuePrimaryKey=R,v.advance=Y,zt(),Gt},g(v)},_)})},count({query:c,trans:d}){const{index:f,range:y}=c;return new Promise((m,g)=>{const _=d.objectStore(u),p=f.isPrimaryKey?_:_.index(f.name),b=r(y),x=b?p.count(b):p.count();x.onsuccess=N(A=>m(A.target.result)),x.onerror=nt(g)})}}}(l)),a={};return s.forEach(l=>a[l.name]=l),{stack:"dbcore",transaction:e.transaction.bind(e),table(l){if(!a[l])throw new Error(`Table '${l}' not found`);return a[l]},MIN_KEY:-1/0,MAX_KEY:_e(t),schema:o}}function qn({_novip:e},t){const n=t.db,r=function(o,i,{IDBKeyRange:s,indexedDB:a},l){return{dbcore:function(u,c){return c.reduce((d,{create:f})=>({...d,...f(d)}),u)}($i(i,s,l),o.dbcore)}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach(o=>{const i=o.name;e.core.schema.tables.some(s=>s.name===i)&&(o.core=e.core.table(i),e[i]instanceof e.Table&&(e[i].core=o.core))})}function ze({_novip:e},t,n,r){n.forEach(o=>{const i=r[o];t.forEach(s=>{const a=mn(s,o);(!a||"value"in a&&a.value===void 0)&&(s===e.Transaction.prototype||s instanceof e.Transaction?it(s,o,{get(){return this.table(o)},set(l){Ur(this,o,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):s[o]=new e.Table(o,i))})})}function Xn({_novip:e},t){t.forEach(n=>{for(let r in n)n[r]instanceof e.Table&&delete n[r]})}function ts(e,t){return e._cfg.version-t._cfg.version}function es(e,t,n,r){const o=e._dbSchema,i=e._createTransaction("readwrite",e._storeNames,o);i.create(n),i._completion.catch(r);const s=i._reject.bind(i),a=E.transless||E;pt(()=>{E.trans=i,E.transless=a,t===0?(H(o).forEach(l=>{Yn(n,l,o[l].primKey,o[l].indexes)}),qn(e,n),C.follow(()=>e.on.populate.fire(i)).catch(s)):function({_novip:l},h,u,c){const d=[],f=l._versions;let y=l._dbSchema=zn(l,l.idbdb,c),m=!1;const g=f.filter(p=>p._cfg.version>=h);function _(){return d.length?C.resolve(d.shift()(u.idbtrans)).then(_):C.resolve()}return g.forEach(p=>{d.push(()=>{const b=y,x=p._cfg.dbschema;Jn(l,b,c),Jn(l,x,c),y=l._dbSchema=x;const A=Ao(b,x);A.add.forEach(w=>{Yn(c,w[0],w[1].primKey,w[1].indexes)}),A.change.forEach(w=>{if(w.recreate)throw new I.Upgrade("Not yet support for changing primary key");{const B=c.objectStore(w.name);w.add.forEach(v=>Gn(B,v)),w.change.forEach(v=>{B.deleteIndex(v.name),Gn(B,v)}),w.del.forEach(v=>B.deleteIndex(v))}});const k=p._cfg.contentUpgrade;if(k&&p._cfg.version>h){qn(l,c),u._memoizedTables={},m=!0;let w=Lr(x);A.del.forEach(R=>{w[R]=b[R]}),Xn(l,[l.Transaction.prototype]),ze(l,[l.Transaction.prototype],H(w),w),u.schema=w;const B=bn(k);let v;B&&Lt();const K=C.follow(()=>{if(v=k(u),v&&B){var R=ct.bind(null,null);v.then(R,R)}});return v&&typeof v.then=="function"?C.resolve(v):K.then(()=>v)}}),d.push(b=>{(!m||!Wi)&&function(x,A){[].slice.call(A.db.objectStoreNames).forEach(k=>x[k]==null&&A.db.deleteObjectStore(k))}(p._cfg.dbschema,b),Xn(l,[l.Transaction.prototype]),ze(l,[l.Transaction.prototype],l._storeNames,l._dbSchema),u.schema=l._dbSchema})}),_().then(()=>{var p,b;b=c,H(p=y).forEach(x=>{b.db.objectStoreNames.contains(x)||Yn(b,x,p[x].primKey,p[x].indexes)})})}(e,t,i,n).catch(s)})}function Ao(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const o=e[r],i=t[r];if(o){const s={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||o.primKey.auto!==i.primKey.auto&&!We)s.recreate=!0,n.change.push(s);else{const a=o.idxByName,l=i.idxByName;let h;for(h in a)l[h]||s.del.push(h);for(h in l){const u=a[h],c=l[h];u?u.src!==c.src&&s.change.push(c):s.add.push(c)}(s.del.length>0||s.add.length>0||s.change.length>0)&&n.change.push(s)}}else n.add.push([r,i])}return n}function Yn(e,t,n,r){const o=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(i=>Gn(o,i)),o}function Gn(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function zn(e,t,n){const r={};return Oe(t.objectStoreNames,0).forEach(o=>{const i=n.objectStore(o);let s=i.keyPath;const a=Wn(bo(s),s||"",!1,!1,!!i.autoIncrement,s&&typeof s!="string",!0),l=[];for(let u=0;u<i.indexNames.length;++u){const c=i.index(i.indexNames[u]);s=c.keyPath;var h=Wn(c.name,s,!!c.unique,!!c.multiEntry,!1,s&&typeof s!="string",!1);l.push(h)}r[o]=wo(o,a,l)}),r}function Jn({_novip:e},t,n){const r=n.db.objectStoreNames;for(let o=0;o<r.length;++o){const i=r[o],s=n.objectStore(i);e._hasGetAll="getAll"in s;for(let a=0;a<s.indexNames.length;++a){const l=s.indexNames[a],h=s.index(l).keyPath,u=typeof h=="string"?h:"["+Oe(h).join("+")+"]";if(t[i]){const c=t[i].idxByName[u];c&&(c.name=l,delete t[i].idxByName[u],t[i].idxByName[l]=c)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&P.WorkerGlobalScope&&P instanceof P.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class ns{_parseStoresSpec(t,n){H(t).forEach(r=>{if(t[r]!==null){var o=t[r].split(",").map((s,a)=>{const l=(s=s.trim()).replace(/([&*]|\+\+)/g,""),h=/^\[/.test(l)?l.match(/^\[(.*)\]$/)[1].split("+"):l;return Wn(l,h||null,/\&/.test(s),/\*/.test(s),/\+\+/.test(s),L(h),a===0)}),i=o.shift();if(i.multi)throw new I.Schema("Primary key cannot be multi-valued");o.forEach(s=>{if(s.auto)throw new I.Schema("Only primary key can be marked as autoIncrement (++)");if(!s.keyPath)throw new I.Schema("Index must have a name and cannot be an empty string")}),n[r]=wo(r,i,o)}})}stores(t){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?q(this._cfg.storesSource,t):t;const r=n._versions,o={};let i={};return r.forEach(s=>{q(o,s._cfg.storesSource),i=s._cfg.dbschema={},s._parseStoresSpec(o,i)}),n._dbSchema=i,Xn(n,[n._allTables,n,n.Transaction.prototype]),ze(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],H(i),i),n._storeNames=H(i),this}upgrade(t){return this._cfg.contentUpgrade=kn(this._cfg.contentUpgrade||j,t),this}}function Zn(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new St(Qe,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function $n(e){return e&&typeof e.databases=="function"}function tr(e){return pt(function(){return E.letThrough=!0,e()})}function rs(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()}).finally(function(){return clearInterval(e)}):Promise.resolve()}function os(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?V(t.dbOpenError):e);et&&(t.openCanceller._stackHolder=wt()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function o(){if(t.openCanceller!==r)throw new I.DatabaseClosed("db.open() was cancelled")}let i=t.dbReadyResolve,s=null,a=!1;const l=()=>new C((h,u)=>{if(o(),!n)throw new I.MissingAPI;const c=e.name,d=t.autoSchema?n.open(c):n.open(c,Math.round(10*e.verno));if(!d)throw new I.MissingAPI;d.onerror=nt(u),d.onblocked=N(e._fireOnBlocked),d.onupgradeneeded=N(f=>{if(s=d.transaction,t.autoSchema&&!e._options.allowEmptyDB){d.onerror=fe,s.abort(),d.result.close();const m=n.deleteDatabase(c);m.onsuccess=m.onerror=N(()=>{u(new I.NoSuchDatabase(`Database ${c} doesnt exist`))})}else{s.onerror=nt(u);var y=f.oldVersion>Math.pow(2,62)?0:f.oldVersion;a=y<1,e._novip.idbdb=d.result,es(e,y/10,s,u)}},u),d.onsuccess=N(()=>{s=null;const f=e._novip.idbdb=d.result,y=Oe(f.objectStoreNames);if(y.length>0)try{const g=f.transaction((m=y).length===1?m[0]:m,"readonly");t.autoSchema?function({_novip:_},p,b){_.verno=p.version/10;const x=_._dbSchema=zn(0,p,b);_._storeNames=Oe(p.objectStoreNames,0),ze(_,[_._allTables],H(x),x)}(e,f,g):(Jn(e,e._dbSchema,g),function(_,p){const b=Ao(zn(0,_.idbdb,p),_._dbSchema);return!(b.add.length||b.change.some(x=>x.add.length||x.change.length))}(e,g)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),qn(e,g)}catch{}var m;ue.push(e),f.onversionchange=N(g=>{t.vcFired=!0,e.on("versionchange").fire(g)}),f.onclose=N(g=>{e.on("close").fire(g)}),a&&function({indexedDB:g,IDBKeyRange:_},p){!$n(g)&&p!==Qe&&Zn(g,_).put({name:p}).catch(j)}(e._deps,c),h()},u)}).catch(h=>h&&h.name==="UnknownError"&&t.PR1398_maxLoop>0?(t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),l()):C.reject(h));return C.race([r,(typeof navigator>"u"?C.resolve():rs()).then(l)]).then(()=>(o(),t.onReadyBeingFired=[],C.resolve(tr(()=>e.on.ready.fire(e.vip))).then(function h(){if(t.onReadyBeingFired.length>0){let u=t.onReadyBeingFired.reduce(kn,j);return t.onReadyBeingFired=[],C.resolve(tr(()=>u(e.vip))).then(h)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(h=>{t.dbOpenError=h;try{s&&s.abort()}catch{}return r===t.openCanceller&&e._close(),V(h)}).finally(()=>{t.openComplete=!0,i()})}function er(e){var t=i=>e.next(i),n=o(t),r=o(i=>e.throw(i));function o(i){return s=>{var a=i(s),l=a.value;return a.done?l:l&&typeof l.then=="function"?l.then(n,r):L(l)?Promise.all(l).then(n,r):n(l)}}return o(t)()}function is(e,t,n){var r=arguments.length;if(r<2)throw new I.InvalidArgument("Too few arguments");for(var o=new Array(r-1);--r;)o[r-1]=arguments[r];return n=o.pop(),[e,Wr(o),n]}function ko(e,t,n,r,o){return C.resolve().then(()=>{const i=E.transless||E,s=e._createTransaction(t,n,e._dbSchema,r),a={trans:s,transless:i};if(r)s.idbtrans=r.idbtrans;else try{s.create(),e._state.PR1398_maxLoop=3}catch(c){return c.name===An.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>ko(e,t,n,null,o))):V(c)}const l=bn(o);let h;l&&Lt();const u=C.follow(()=>{if(h=o.call(s,s),h)if(l){var c=ct.bind(null,null);h.then(c,c)}else typeof h.next=="function"&&typeof h.throw=="function"&&(h=er(h))},a);return(h&&typeof h.then=="function"?C.resolve(h).then(c=>s.active?c:V(new I.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):u.then(()=>h)).then(c=>(r&&s._resolve(),s._completion.then(()=>c))).catch(c=>(s._reject(c),V(c)))})}function Je(e,t,n){const r=L(e)?e.slice():[e];for(let o=0;o<n;++o)r.push(t);return r}const ss={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,o={},i=[];function s(u,c,d){const f=me(u),y=o[f]=o[f]||[],m=u==null?0:typeof u=="string"?1:u.length,g=c>0,_={...d,isVirtual:g,keyTail:c,keyLength:m,extractKey:Qn(u),unique:!g&&d.unique};return y.push(_),_.isPrimaryKey||i.push(_),m>1&&s(m===2?u[0]:u.slice(0,m-1),c+1,d),y.sort((p,b)=>p.keyTail-b.keyTail),_}const a=s(r.primaryKey.keyPath,0,r.primaryKey);o[":id"]=[a];for(const u of r.indexes)s(u.keyPath,0,u);function l(u){const c=u.query.index;return c.isVirtual?{...u,query:{index:c,range:(d=u.query.range,f=c.keyTail,{type:d.type===1?2:d.type,lower:Je(d.lower,d.lowerOpen?e.MAX_KEY:e.MIN_KEY,f),lowerOpen:!0,upper:Je(d.upper,d.upperOpen?e.MIN_KEY:e.MAX_KEY,f),upperOpen:!0})}}:u;var d,f}return{...n,schema:{...r,primaryKey:a,indexes:i,getIndexByKeyPath:function(u){const c=o[me(u)];return c&&c[0]}},count:u=>n.count(l(u)),query:u=>n.query(l(u)),openCursor(u){const{keyTail:c,isVirtual:d,keyLength:f}=u.query.index;return d?n.openCursor(l(u)).then(y=>y&&function(m){return Object.create(m,{continue:{value:function(_){_!=null?m.continue(Je(_,u.reverse?e.MAX_KEY:e.MIN_KEY,c)):u.unique?m.continue(m.key.slice(0,f).concat(u.reverse?e.MIN_KEY:e.MAX_KEY,c)):m.continue()}},continuePrimaryKey:{value(_,p){m.continuePrimaryKey(Je(_,e.MAX_KEY,c),p)}},primaryKey:{get:()=>m.primaryKey},key:{get(){const _=m.key;return f===1?_[0]:_.slice(0,f)}},value:{get:()=>m.value}})}(y)):n.openCursor(u)}}}}}};function nr(e,t,n,r){return n=n||{},r=r||"",H(e).forEach(o=>{if(z(t,o)){var i=e[o],s=t[o];if(typeof i=="object"&&typeof s=="object"&&i&&s){const a=gn(i);a!==gn(s)?n[r+o]=t[o]:a==="Object"?nr(i,s,n,r+o+"."):i!==s&&(n[r+o]=t[o])}else i!==s&&(n[r+o]=t[o])}else n[r+o]=void 0}),H(t).forEach(o=>{z(e,o)||(n[r+o]=t[o])}),n}const as={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema;return{...n,mutate(i){const s=E.trans,{deleting:a,creating:l,updating:h}=s.table(t).hook;switch(i.type){case"add":if(l.fire===j)break;return s._promise("readwrite",()=>u(i),!0);case"put":if(l.fire===j&&h.fire===j)break;return s._promise("readwrite",()=>u(i),!0);case"delete":if(a.fire===j)break;return s._promise("readwrite",()=>u(i),!0);case"deleteRange":if(a.fire===j)break;return s._promise("readwrite",()=>function(d){return c(d.trans,d.range,1e4)}(i),!0)}return n.mutate(i);function u(d){const f=E.trans,y=d.keys||function(m,g){return g.type==="delete"?g.keys:g.keys||g.values.map(m.extractKey)}(r,d);if(!y)throw new Error("Keys missing");return(d=d.type==="add"||d.type==="put"?{...d,keys:y}:{...d}).type!=="delete"&&(d.values=[...d.values]),d.keys&&(d.keys=[...d.keys]),function(m,g,_){return g.type==="add"?Promise.resolve([]):m.getMany({trans:g.trans,keys:_,cache:"immutable"})}(n,d,y).then(m=>{const g=y.map((_,p)=>{const b=m[p],x={onerror:null,onsuccess:null};if(d.type==="delete")a.fire.call(x,_,b,f);else if(d.type==="add"||b===void 0){const A=l.fire.call(x,_,d.values[p],f);_==null&&A!=null&&(_=A,d.keys[p]=_,r.outbound||Z(d.values[p],r.keyPath,_))}else{const A=nr(b,d.values[p]),k=h.fire.call(x,A,_,b,f);if(k){const w=d.values[p];Object.keys(k).forEach(B=>{z(w,B)?w[B]=k[B]:Z(w,B,k[B])})}}return x});return n.mutate(d).then(({failures:_,results:p,numFailures:b,lastResult:x})=>{for(let A=0;A<y.length;++A){const k=p?p[A]:y[A],w=g[A];k==null?w.onerror&&w.onerror(_[A]):w.onsuccess&&w.onsuccess(d.type==="put"&&m[A]?d.values[A]:k)}return{failures:_,results:p,numFailures:b,lastResult:x}}).catch(_=>(g.forEach(p=>p.onerror&&p.onerror(_)),Promise.reject(_)))})}function c(d,f,y){return n.query({trans:d,values:!1,query:{index:r,range:f},limit:y}).then(({result:m})=>u({type:"delete",keys:m,trans:d}).then(g=>g.numFailures>0?Promise.reject(g.failures[0]):m.length<y?{failures:[],numFailures:0,lastResult:void 0}:c(d,{...f,lower:m[m.length-1],lowerOpen:!0},y)))}}}}})};function Co(e,t,n){try{if(!t||t.keys.length<e.length)return null;const r=[];for(let o=0,i=0;o<t.keys.length&&i<e.length;++o)X(t.keys[o],e[i])===0&&(r.push(n?ne(t.values[o]):t.values[o]),++i);return r.length===e.length?r:null}catch{return null}}const cs={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const o=Co(r.keys,r.trans._cache,r.cache==="clone");return o?C.resolve(o):n.getMany(r).then(i=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?ne(i):i},i))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function rr(e){return!("from"in e)}const ut=function(e,t){if(!this){const n=new ut;return e&&"d"in e&&q(n,e),n}q(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function ye(e,t,n){const r=X(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(rr(e))return q(e,{from:t,to:n,d:1});const o=e.l,i=e.r;if(X(n,e.from)<0)return o?ye(o,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Eo(e);if(X(t,e.to)>0)return i?ye(i,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Eo(e);X(t,e.from)<0&&(e.from=t,e.l=null,e.d=i?i.d+1:1),X(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const s=!e.r;o&&!e.l&&Ze(e,o),i&&s&&Ze(e,i)}function Ze(e,t){rr(t)||function n(r,{from:o,to:i,l:s,r:a}){ye(r,o,i),s&&n(r,s),a&&n(r,a)}(e,t)}function ls(e,t){const n=or(t);let r=n.next();if(r.done)return!1;let o=r.value;const i=or(e);let s=i.next(o.from),a=s.value;for(;!r.done&&!s.done;){if(X(a.from,o.to)<=0&&X(a.to,o.from)>=0)return!0;X(o.from,a.from)<0?o=(r=n.next(a.from)).value:a=(s=i.next(o.from)).value}return!1}function or(e){let t=rr(e)?null:{s:0,n:e};return{next(n){const r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&X(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||X(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Eo(e){var t,n;const r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),o=r>1?"r":r<-1?"l":"";if(o){const i=o==="r"?"l":"r",s={...e},a=e[o];e.from=a.from,e.to=a.to,e[o]=a[o],s[o]=a[i],e[i]=s,s.d=So(s)}e.d=So(e)}function So({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}Ft(ut.prototype,{add(e){return Ze(this,e),this},addKey(e){return ye(this,e,e),this},addKeys(e){return e.forEach(t=>ye(this,t,t)),this},[vn](){return or(this)}});const us={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new ut(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const o=e.table(r),{schema:i}=o,{primaryKey:s}=i,{extractKey:a,outbound:l}=s,h={...o,mutate:d=>{const f=d.trans,y=f.mutatedParts||(f.mutatedParts={}),m=k=>{const w=`idb://${t}/${r}/${k}`;return y[w]||(y[w]=new ut)},g=m(""),_=m(":dels"),{type:p}=d;let[b,x]=d.type==="deleteRange"?[d.range]:d.type==="delete"?[d.keys]:d.values.length<50?[[],d.values]:[];const A=d.trans._cache;return o.mutate(d).then(k=>{if(L(b)){p!=="delete"&&(b=k.results),g.addKeys(b);const w=Co(b,A);w||p==="add"||_.addKeys(b),(w||x)&&function(B,v,K,R){function Y(Q){const U=B(Q.name||"");function Gt(G){return G!=null?Q.extractKey(G):null}const zt=G=>Q.multiEntry&&L(G)?G.forEach(Kt=>U.addKey(Kt)):U.addKey(G);(K||R).forEach((G,Kt)=>{const ge=K&&Gt(K[Kt]),ur=R&&Gt(R[Kt]);X(ge,ur)!==0&&(ge!=null&&zt(ge),ur!=null&&zt(ur))})}v.indexes.forEach(Y)}(m,i,w,x)}else if(b){const w={from:b.lower,to:b.upper};_.add(w),g.add(w)}else g.add(n),_.add(n),i.indexes.forEach(w=>m(w.name).add(n));return k})}},u=({query:{index:d,range:f}})=>{var y,m;return[d,new ut((y=f.lower)!==null&&y!==void 0?y:e.MIN_KEY,(m=f.upper)!==null&&m!==void 0?m:e.MAX_KEY)]},c={get:d=>[s,new ut(d.key)],getMany:d=>[s,new ut().addKeys(d.keys)],count:u,query:u,openCursor:u};return H(c).forEach(d=>{h[d]=function(f){const{subscr:y}=E;if(y){const m=x=>{const A=`idb://${t}/${r}/${x}`;return y[A]||(y[A]=new ut)},g=m(""),_=m(":dels"),[p,b]=c[d](f);if(m(p.name||"").add(b),!p.isPrimaryKey){if(d!=="count"){const x=d==="query"&&l&&f.values&&o.query({...f,values:!1});return o[d].apply(this,arguments).then(A=>{if(d==="query"){if(l&&f.values)return x.then(({result:w})=>(g.addKeys(w),A));const k=f.values?A.result.map(a):A.result;f.values?g.addKeys(k):_.addKeys(k)}else if(d==="openCursor"){const k=A,w=f.values;return k&&Object.create(k,{key:{get:()=>(_.addKey(k.primaryKey),k.key)},primaryKey:{get(){const B=k.primaryKey;return _.addKey(B),B}},value:{get:()=>(w&&g.addKey(k.primaryKey),k.value)}})}return A})}_.add(n)}}return o[d].apply(this,arguments)}}),h}}}};class St{constructor(t,n){this._middlewares={},this.verno=0;const r=St.dependencies;this._options=n={addons:St.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:o}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:j,dbReadyPromise:null,cancelOpen:j,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var s;i.dbReadyPromise=new C(a=>{i.dbReadyResolve=a}),i.openCanceller=new C((a,l)=>{i.cancelOpen=l}),this._state=i,this.name=t,this.on=he(this,"populate","blocked","versionchange","close",{ready:[kn,j]}),this.on.ready.subscribe=Tr(this.on.ready.subscribe,a=>(l,h)=>{St.vip(()=>{const u=this._state;if(u.openComplete)u.dbOpenError||C.resolve().then(l),h&&a(l);else if(u.onReadyBeingFired)u.onReadyBeingFired.push(l),h&&a(l);else{a(l);const c=this;h||a(function d(){c.on.ready.unsubscribe(l),c.on.ready.unsubscribe(d)})}})}),this.Collection=(s=this,de(Xi.prototype,function(a,l){this.db=s;let h=fo,u=null;if(l)try{h=l()}catch(y){u=y}const c=a._ctx,d=c.table,f=d.hook.reading.fire;this._ctx={table:d,index:c.index,isPrimKey:!c.index||d.schema.primKey.keyPath&&c.index===d.schema.primKey.name,range:h,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:u,or:c.or,valueMapper:f!==oe?f:null}})),this.Table=function(a){return de(qi.prototype,function(l,h,u){this.db=a,this._tx=u,this.name=l,this.schema=h,this.hook=a._allTables[l]?a._allTables[l].hook:he(null,{creating:[Pi,j],reading:[Ki,oe],updating:[Ni,j],deleting:[Di,j]})})}(this),this.Transaction=function(a){return de(Ji.prototype,function(l,h,u,c,d){this.db=a,this.mode=l,this.storeNames=h,this.schema=u,this.chromeTransactionDurability=c,this.idbtrans=null,this.on=he(this,"complete","error","abort"),this.parent=d||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new C((f,y)=>{this._resolve=f,this._reject=y}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},f=>{var y=this.active;return this.active=!1,this.on.error.fire(f),this.parent?this.parent._reject(f):y&&this.idbtrans&&this.idbtrans.abort(),V(f)})})}(this),this.Version=function(a){return de(ns.prototype,function(l){this.db=a,this._cfg={version:l,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(a){return de(vo.prototype,function(l,h,u){this.db=a,this._ctx={table:l,index:h===":id"?null:h,or:u};const c=a._deps.indexedDB;if(!c)throw new I.MissingAPI;this._cmp=this._ascending=c.cmp.bind(c),this._descending=(d,f)=>c.cmp(f,d),this._max=(d,f)=>c.cmp(d,f)>0?d:f,this._min=(d,f)=>c.cmp(d,f)<0?d:f,this._IDBKeyRange=a._deps.IDBKeyRange})}(this),this.on("versionchange",a=>{a.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",a=>{!a.newVersion||a.newVersion<a.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${a.oldVersion/10}`)}),this._maxKey=_e(n.IDBKeyRange),this._createTransaction=(a,l,h,u)=>new this.Transaction(a,l,h,this._options.chromeTransactionDurability,u),this._fireOnBlocked=a=>{this.on("blocked").fire(a),ue.filter(l=>l.name===this.name&&l!==this&&!l._state.vcFired).map(l=>l.on("versionchange").fire(a))},this.use(ss),this.use(as),this.use(us),this.use(cs),this.vip=Object.create(this,{_vip:{value:!0}}),o.forEach(a=>a(this))}version(t){if(isNaN(t)||t<.1)throw new I.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new I.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const n=this._versions;var r=n.filter(o=>o._cfg.version===t)[0];return r||(r=new this.Version(t),n.push(r),n.sort(ts),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(t){return this.idbdb&&(this._state.openComplete||E.letThrough||this._vip)?t():new C((n,r)=>{if(this._state.openComplete)return r(new I.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new I.DatabaseClosed);this.open().catch(j)}this._state.dbReadyPromise.then(n,r)}).then(t)}use({stack:t,create:n,level:r,name:o}){o&&this.unuse({stack:t,name:o});const i=this._middlewares[t]||(this._middlewares[t]=[]);return i.push({stack:t,create:n,level:r??10,name:o}),i.sort((s,a)=>s.level-a.level),this}unuse({stack:t,name:n,create:r}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(o=>r?o.create!==r:!!n&&o.name!==n)),this}open(){return os(this)}_close(){const t=this._state,n=ue.indexOf(this);if(n>=0&&ue.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new C(r=>{t.dbReadyResolve=r}),t.openCanceller=new C((r,o)=>{t.cancelOpen=o})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new I.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,n=this._state;return new C((r,o)=>{const i=()=>{this.close();var s=this._deps.indexedDB.deleteDatabase(this.name);s.onsuccess=N(()=>{(function({indexedDB:a,IDBKeyRange:l},h){!$n(a)&&h!==Qe&&Zn(a,l).delete(h).catch(j)})(this._deps,this.name),r()}),s.onerror=nt(o),s.onblocked=this._fireOnBlocked};if(t)throw new I.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(i):i()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return H(this._allTables).map(t=>this._allTables[t])}transaction(){const t=is.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,n,r){let o=E.trans;o&&o.db===this&&t.indexOf("!")===-1||(o=null);const i=t.indexOf("?")!==-1;let s,a;t=t.replace("!","").replace("?","");try{if(a=n.map(h=>{var u=h instanceof this.Table?h.name:h;if(typeof u!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return u}),t=="r"||t===Un)s=Un;else{if(t!="rw"&&t!=Tn)throw new I.InvalidArgument("Invalid transaction mode: "+t);s=Tn}if(o){if(o.mode===Un&&s===Tn){if(!i)throw new I.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o=null}o&&a.forEach(h=>{if(o&&o.storeNames.indexOf(h)===-1){if(!i)throw new I.SubTransaction("Table "+h+" not included in parent transaction.");o=null}}),i&&o&&!o.active&&(o=null)}}catch(h){return o?o._promise(null,(u,c)=>{c(h)}):V(h)}const l=ko.bind(null,this,s,a,o,r);return o?o._promise(s,l,"lock"):E.trans?Wt(E.transless,()=>this._whenReady(l)):this._whenReady(l)}table(t){if(!z(this._allTables,t))throw new I.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const hs=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class ds{constructor(t){this._subscribe=t}subscribe(t,n,r){return this._subscribe(t&&typeof t!="function"?t:{next:t,error:n,complete:r})}[hs](){return this}}function Io(e,t){return H(t).forEach(n=>{Ze(e[n]||(e[n]=new ut),t[n])}),e}function fs(e){let t,n=!1;const r=new ds(o=>{const i=bn(e);let s=!1,a={},l={};const h={get closed(){return s},unsubscribe:()=>{s=!0,gt.storagemutated.unsubscribe(f)}};o.start&&o.start(h);let u=!1,c=!1;function d(){return H(l).some(m=>a[m]&&ls(a[m],l[m]))}const f=m=>{Io(a,m),d()&&y()},y=()=>{if(u||s)return;a={};const m={},g=function(_){i&&Lt();const p=()=>pt(e,{subscr:_,trans:null}),b=E.trans?Wt(E.transless,p):p();return i&&b.then(ct,ct),b}(m);c||(gt(pe,f),c=!0),u=!0,Promise.resolve(g).then(_=>{n=!0,t=_,u=!1,s||(d()?y():(a={},l=m,o.next&&o.next(_)))},_=>{u=!1,n=!1,o.error&&o.error(_),h.unsubscribe()})};return y(),h});return r.hasValue=()=>n,r.getValue=()=>t,r}let ir;try{ir={indexedDB:P.indexedDB||P.mozIndexedDB||P.webkitIndexedDB||P.msIndexedDB,IDBKeyRange:P.IDBKeyRange||P.webkitIDBKeyRange}}catch{ir={indexedDB:null,IDBKeyRange:null}}const It=St;function $e(e){let t=ht;try{ht=!0,gt.storagemutated.fire(e)}finally{ht=t}}Ft(It,{...je,delete:e=>new It(e,{addons:[]}).delete(),exists:e=>new It(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return function({indexedDB:t,IDBKeyRange:n}){return $n(t)?Promise.resolve(t.databases()).then(r=>r.map(o=>o.name).filter(o=>o!==Qe)):Zn(t,n).toCollection().primaryKeys()}(It.dependencies).then(e)}catch{return V(new I.MissingAPI)}},defineClass:()=>function(e){q(this,e)},ignoreTransaction:e=>E.trans?Wt(E.transless,e):e(),vip:tr,async:function(e){return function(){try{var t=er(e.apply(this,arguments));return t&&typeof t.then=="function"?t:C.resolve(t)}catch(n){return V(n)}}},spawn:function(e,t,n){try{var r=er(e.apply(n,t||[]));return r&&typeof r.then=="function"?r:C.resolve(r)}catch(o){return V(o)}},currentTransaction:{get:()=>E.trans||null},waitFor:function(e,t){const n=C.resolve(typeof e=="function"?It.ignoreTransaction(e):e).timeout(t||6e4);return E.trans?E.trans.waitFor(n):n},Promise:C,debug:{get:()=>et,set:e=>{qr(e,e==="dexie"?()=>!0:ho)}},derive:Ut,extend:q,props:Ft,override:Tr,Events:he,on:gt,liveQuery:fs,extendObservabilitySet:Io,getByKeyPath:st,setByKeyPath:Z,delByKeyPath:function(e,t){typeof t=="string"?Z(e,t,void 0):"length"in t&&[].map.call(t,function(n){Z(e,n,void 0)})},shallowClone:Lr,deepClone:ne,getObjectDiff:nr,cmp:X,asap:Hr,minKey:Fn,addons:[],connections:ue,errnames:An,dependencies:ir,semVer:lo,version:lo.split(".").map(e=>parseInt(e)).reduce((e,t,n)=>e+t/Math.pow(10,2*n))}),It.maxKey=_e(It.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(gt(pe,e=>{if(!ht){let t;We?(t=document.createEvent("CustomEvent"),t.initCustomEvent(yt,!0,!0,e)):t=new CustomEvent(yt,{detail:e}),ht=!0,dispatchEvent(t),ht=!1}}),addEventListener(yt,({detail:e})=>{ht||$e(e)}));let ht=!1;if(typeof BroadcastChannel<"u"){const e=new BroadcastChannel(yt);typeof e.unref=="function"&&e.unref(),gt(pe,t=>{ht||e.postMessage(t)}),e.onmessage=t=>{t.data&&$e(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){gt(pe,t=>{try{ht||(typeof localStorage<"u"&&localStorage.setItem(yt,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:yt,changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key===yt){const n=JSON.parse(t.newValue);n&&$e(n.changedParts)}});const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",function({data:t}){t&&t.type===yt&&$e(t.changedParts)})}C.rejectionMapper=function(e,t){if(!e||e instanceof Ht||e instanceof TypeError||e instanceof SyntaxError||!e.name||!zr[e.name])return e;var n=new zr[e.name](t||e.message,e);return"stack"in e&&it(n,"stack",{get:function(){return this.inner.stack}}),n},qr(et,ho);const Bt=new St("smiwebpush");Bt.version(1).stores({Option:"key"});var ps={VITE_API_URL:"https://wp.24smi.org/api",VITE_API_VERSION:"0",VITE_APP_VERSION:"24.2.26.49528",VITE_CJS_IGNORE_WARNING:"true",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const sr=ps,Bo=sr.VITE_APP_VERSION,_s=sr.VITE_API_URL,ms=sr.VITE_API_VERSION;async function Oo({method:e,path:t,data:n}){const r=`${_s}/v${ms}${t}`,o={"Smi-Webpush-Version":`sdk-${Bo}`,"Content-Type":"application/json;charset=UTF-8"};await gs(o);const i={method:e,headers:o,cache:"no-cache",body:n?JSON.stringify(n):void 0};return fetch(r,i)}async function ys(e){return Oo({method:"GET",...e})}async function Ro(e){return Oo({method:"POST",...e})}async function gs(e){if("userAgentData"in navigator){const t=await navigator.userAgentData.getHighEntropyValues(["architecture","bitness","brands","mobile","model","platform","platformVersion","uaFullVersion","fullVersionList","wow64"]);e["X-Sec-CH-UA"]=t.brands.map(n=>`"${n.brand}";v="${n.version}"`).join(", "),e["X-Sec-CH-UA-Full-Version-List"]=t.fullVersionList.map(n=>`"${n.brand}";v="${n.version}"`).join(", "),e["X-Sec-CH-UA-Platform"]=t.platform,e["X-Sec-CH-UA-Platform-Version"]=t.platformVersion,e["X-Sec-CH-UA-Arch"]=t.architecture,e["X-Sec-CH-UA-Mobile"]=`${t.mobile?1:0}`,e["X-Sec-CH-UA-Full-Version"]=t.uaFullVersion,e["X-Sec-CH-UA-Wow64"]=`${t.wow64?1:0}`,e["X-Sec-CH-UA-Bitness"]=t.bitness,e["X-Sec-CH-UA-Model"]=t.model}}async function vs(){const e=await Bt.Option.get("subscription");return e==null?void 0:e.value}async function bs(e,t){await Bt.Option.add({key:"subscription",value:{expiration_time:e.expirationTime,subscription:e.toJSON(),extra_data:t}})}async function ws({projectId:e,subscription:t,extraData:n}){if(!(await Ro({path:"/subscriptions",data:{project_id:e,new_subscription:{subscription:t.toJSON(),expiration_time:t.expirationTime,extra_data:n}}})).ok)throw new Error("Failed to save subscription")}async function xs(e){const t=await As();if(t)return t;const n=await Cs(e);return await ks(n),n}async function As(){const e=await Bt.Option.get("project_config");return e==null?void 0:e.value}async function ks(e){await Bt.Option.add({key:"project_config",value:e})}async function Cs(e){const t=await ys({path:`/projects/${e}/config`});if(!t.ok)throw new Error("Failed to fetch project config");return t.json()}function Es(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/-/g,"+").replace(/_/g,"/"),r=window.atob(n),o=new Uint8Array(r.length);for(let i=0;i<r.length;++i)o[i]=r.charCodeAt(i);return o}function Ss(){let e="",t=null;return typeof window<"u"&&(t=window.crypto||window.msCrypto),t?e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const r=t.getRandomValues(new Uint8Array(1))[0]%16|0;return(n=="x"?r:r&3|8).toString(16)}):e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const r=Math.random()*16|0;return(n=="x"?r:r&3|8).toString(16)}),e}async function jo(){const e=await Bt.Option.get("user_id");return e==null?void 0:e.value}async function Is(e){await Bt.Option.add({key:"user_id",value:e})}async function Bs(e){const t=new URLSearchParams(window.location.search),n={version:Bo,user_id:e.userId,subid1:e.subid1,subid2:e.subid2,subid3:e.subid3,subid4:e.subid4,utm_source:t.get("utm_source")??void 0,utm_content:t.get("utm_content")??void 0,utm_campaign:t.get("utm_campaign")??void 0,utm_term:t.get("utm_term")??void 0,utm_medium:t.get("utm_medium")??void 0,timestamp:Date.now()};try{const r=Intl.DateTimeFormat().resolvedOptions();r.timeZone&&(n.timezone=r.timeZone),r.locale&&(n.locale=r.locale)}catch(r){console.log(r)}return n}const Xt={root:"_root_179wx_3",checkbox:"_checkbox_179wx_20","checkbox-control":"_checkbox-control_179wx_26","checkbox-text":"_checkbox-text_179wx_34",icon:"_icon_179wx_42",enter:"_enter_179wx_48",exit:"_exit_179wx_53"},Os='@import"https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap";._root_179wx_3{display:flex;width:280px;padding:16px;justify-content:space-between;align-items:center;border-radius:12px;border:1px solid #cacacc;background-color:#f5f5f5;box-shadow:0 2px 6px #0000000a;font-family:Roboto,serif;box-sizing:border-box;animation-timing-function:ease-in-out;animation-fill-mode:both;animation-duration:.5s}._checkbox_179wx_20{display:inline-flex;align-items:center;gap:8px}._checkbox-control_179wx_26{width:24px;height:24px;border-radius:4px;border:2px solid #cacacc;background-color:#fff}._checkbox-text_179wx_34{color:#000;font-size:14px;font-style:normal;font-weight:400;line-height:normal}._icon_179wx_42{width:46px;height:40px;flex-shrink:0}._enter_179wx_48{animation-name:_enter_179wx_48;animation-delay:.25s}._exit_179wx_53{animation-name:_exit_179wx_53}@keyframes _enter_179wx_48{0%{opacity:0;transform:translateY(50%)}to{opacity:1;transform:translateY(0)}}@keyframes _exit_179wx_53{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(50%)}}@media (max-width: 420px){._root_179wx_3{width:100%}}',Rs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIoAAAB4CAYAAAAt3Wp2AAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABrBSURBVHgB7V0JeFRFtj51uzv7BiFhETAocRAdNxSGRSSj44yocQCJyggICAgq6DzkiQ6acVxGB0U2UWSRTWSRTcBdQWF0HFBBUJ4LBGRPIHvS6eXW+0/37djETtKd9HLT6f/7qu/S99at5dQ5p06dqhKkE3R+zny+XUaPI7saQ8GGQqSq9iiy2ePtZeVR5Ts+NaskzPiniBSZL6TxhJD2AouBfk6wqSeprKz8xO6hFUIISc0ERtIJ2ldEHzoUrRarCo0jKeMomODqFqAWk0LCaCDV/T9V4G9VSkGqySbKzMJwUiYm70/ts+HrFldv+IKk8k2hMeEYbc2yURhDkI7QOVcm2WPU/1VJTkLtRFEIoJaUUMkn28ibopHgOkJQHp7dAzrabJTig4Id2cdxHXacRleEwuh8v4y2t1enqqp8CJdBJxZ7STGVfvIJ+Vo04DhVgsRRIcVHqpHmlaSbv6TVOXYKE+iOUBjdxkjTmfPpYVXap6LZmiiIUIuLqeRT3wmlBqx4e7tU5VNpKdHbf3y7fxU1cSikQ+yaJ6znVtIzaJ1TUV+VFERI8ovUMCGWLFKUTfklVUtSeq27jHKlP8s66A1clxylGq9IU6ciFZxFBo2z2IuKqHT7dvIvRAV+ZsS3POfJY29dWUGNQKveG35jFyKzcHv2JgoidMlRqjGWOYvyjDAYngJJW6nJgntxckrZmSO7kq9+6wpqIEAk7dC1Wmoj9WIKMvRNKMDWXGHLS6KnDUI8hZZpoYAjcB0WsO8uMNh8kNJnw8RuY17xiUOm9dvcBorPWxCNV1IIoHtCcQCcxZaozMTZ99TkIVtIKZ87sK/18xn91qV480brXu+mW6y2dbAvXeHoX4UATYJQOj1V1lqUyvkopK4UHoiCUe/eYrthOXOKuh5M77XlfLMwb0bef0chhO4JJWO6zJBKzEqS6gAKRnqDZypTVFXtb7FaN6X229jF0wNJPVd1rhLWFRQiceMOXRPK+c/IzrLKvgjMti+bQSkoCLpRtZvNqi5M6rehs/vNlN+tyBBK1Gqk5yrSAXRLKB2ele1UYV+E02uCRyQhM773FFZamtJr87l8kdQTRGOIXYzTy0gn0CWh8JiPIuUcVVLvYBJJiNFDKraXU3puuBzjk0tBr31JR9DN6LELabkywRKjThFS3kShMAiGjCwlD1NfD/ttL1wkkc6gO44SF2PPViSNoxARsRQhZWBcH7ojEoauCOW852QmmvQ/YFRKpgh0Bd0QyuBV0mBX6QkYlTpRSNFcVCLfoAtCgaVSfH7APhhDcrdRpKZ0CV0Qym+fpnSFxN/10MMRijCDcn8SJEocnWURoVtG6Hs9uVIpNtLdQpWZeqgSY1LiPiUu4VpRWpJoNxrboC/SRSGZJUnhrjrEogyJi2aoEXJCaW+sbGtQo8dJvYgcodgL37+uBJykGFdHEHYiLMvNzVVmvn/BhTZKGIt+7F0gmERqRgit6IFuYjRGj0Iv5xzSDzwSLAhFPbNjyL6SHdkTFKFcDDvPC7jdKCekpoSQEkrHuZQCJWAUBRJo/qoQB4UQr+HKmykV9XK2wu03Hy769+6HoMfAKCg+xy2VwhwhJRSl1J6NHk97ChQENB8Sq+2k9EttoYxRFMNLIBhr3a94WyS5atGOWz5WzeU3C1JepzAnlpARykW5MkqqCsv7gKRBOLzhlBmJZmXUsYfF4V1jhbVlCk1CpT4LPaR2YpG+pad015CCFFPiaCHF07gMggdeaBAyQqmIpy4k1Ab7j9YJByehWckFNHVfrihz3WZiOWimf8BMz/qFxykUDWELeVuzzEXJpifx3VkUppwlNITCEzTtdBO6m9HkbwiomZKWW6uUx/ZME+W/+j9XWA5X0t9gInnCk8O2aKgt5+3+VYn2qqnoRr8RAp+WgCMkhNJ+OsWoZL+BAgFJXxvslqnHckXtPZJcYWvVwvgvA4npoIuzFVyhNtgl5chnOZWxBiZCw3cUZggJoZis1BEM2u/+r1BUi8Ctnjz4t5jD9T3LYqijWXkU+so0XLpxlsYVidnMtKYWUpghRKLHfimEj9+H05GZd6yWU+9466fGU0ESzd8+LoRhumsqiGzEMEKLPu93FFGSXTd7UZgh+IQC/QTK5BXC31ZhoZxRVGXmsdx2PhnB9uVeZCEzPYOSmCGddpYGEUpS3zWZKlUuhoJ0DYUhgk4onWdRlCqF32e6oaOzPTnVYW73GXm5okhUKo9BdM11qNk+Irnvu52EalwG014/ClMEnVDUCooBW/GrzwmzAFU1LGO9gxoIEIs5wbx/EtI2zZcB46QeazLJbl4FJbo7hTFCMSiYDA0infwIiIyyCpUaPbPcIYZIrvBWx4nvsaG1MNEbzhl84Y2gcxSbpDRJfl56S1H2Z2XSKfILvCOSpB5vZRpNtKU5EAkj6IQiyZbqb58OmNj2rs4RQVvdKKHX2nTFpC5qLkTCCDqhGMiYim6PH78ruUv7LQUJ6RA3BmHYhN5NbwoZDBRshERHcboX+svMDfOWlD9QEMCcpEooG4jsvk3zbIxLlvQUnRr0egv6BzPjTsXZ2RNVOlZVdATHKJp27QuEc91P+5Uph2N7rFrVXVGU6ghsNpswGAzVnEvWGBXGs2ZVVb/KyfFyQb5+HxsN1tJh6F8dgiXoEBMoyzxn5GdXpyKRJbc1aFX03d11HyHVWlsJmG11HhTHEhdSQUMw8HC4w/aMlCPq/RRkBJ1Qbk/bGZVoqjibIhrHXEwouuU1pajReHbWuIilVq84rwCh3D9o0KBd5C22ZtmKiaZRM0XQdRRFoUo0DsdqMNVBNC7wdA9vguNTAqY1RZmwZ8+exc1p5enGIugcJcFkLeeFoCk0ztT5II4pAwYMWDRw4MAIkfiAoHMUk4FCskgvixuEv37zzTeLIpzEd+huNYNAwKWTgJMsv/XWWyNE0gA0jcX+GgceTZ4MneS1CCdpOMKaUKDAFoKTPLh37965PC+HImgwwpZQQCTlIJJH7Xb70giRNB5hSSgQMeWwo4wHJ3kFBrWgrqXP4K74zp07g7rZQ6ARdoQCIillxRU6ybJQcZK1a9eek5eX98SKFSvaUZggHDnKFyCWdaEiklWrVkWBo9yL00lRUVGzlyxZEk9hgHAklGtQUbdTiAAi7Yfv349gxFjSgPj4+PkbN24M7tZ3AUDYEQpXEAYEp6Fl38hLVVCQwHrJ+vXrf4tTXhu3mouAWHKQnsVNnVjCVZmNR5h18cUX/yEYxMJE8uabb/4GPSyerF5TL1Fwf6DVap2xaNGi4O/A6ieEsx2lEypw8SWXXNJfShmwfDKRrFu3jjc0WAnuUdvsAl73fmRSUtLcLVu2+H8abRAQ7pbZ1mjNK9ALeWT58uUtyM+AeItF3CNBBOtBMJfU8zgTy12VlZULly1bpsu1ZOtCczDhJ6ASc2NiYhauXLmyt7/Y/5o1a84zGAwzEfccBK9nFYBYbouNjX0ROksrakII+lA/FL4RkNfzKTREWgjdZQPCkpKSks9GjBhh9uVlTcyk4f1B4FT3eMFFaotHha1nPrrPD2ZnZzeJ5b2aG6EwJCq6DGEPWvfHqLB3UOm7Bw8ezG4Iv7K9sDLcu3fvxKKiol74/8+o5N/jNu+C0SjLK+Li6auvglgmNQViaY6EchaEc1pgEY7soP09CIGDDUSUANGSjvML8N+lOAZCr7Aj7nmlpaV/9ZW7BRvNwh+lLmh+tCk4smd9tXc9OE21j63rGADwvIvRiYmJxRBpzw4YMKCIdIrmoMzqGmwgRHgA4u8xPRvlIoSiD8SAWCZYLJZperWzRAhFPzCAWEaXl5f/iwcWSWfQJaE0Y5dFI3SjTJPJpDsRpEdCKSi3Rz1nk6Zj1MyABvIdzxTQo1KrN0IpMxqNDw/LufmRE1XJk+1SCdsFfj2gkE38AwcO1OWKkrohFG3ezRTYWNhbXn1waNbyk/bkv6pkKKUwB/J7BDabITk5OV+QTqEXoxfPu3li7969L7lPGs8zxC0ssMQ/bpPGEgpfnEQYC07yDukYIScUnguMQy47G9V0X5ye06sy/4frZ5y0pUy2k1G3xqhG4DDyfw8ayHukc4TUMstjLjg8OmjQoNmexlkYubm4L+W8fy759ETH2MIXTcKSQU0c2qDg1wgjwUl2UxNAyDgKcxIob1MQ5tRGJG4Py4eH991wpCp1mEVG78DzVdR0oUIfWQVdbFBTIRJGSAgFFc0z+B7G6VyvF7IBJg/t82lZTOKfccpbnjQ5JRd5LkKvLpddFO644448akII/jqzqloJQnkYOskcX4jEhbHZWQUZGRnPoNBvQjw7m4JxjtOI9O7A6Q27d+9+BvkupiaGoLsZ8DyXAwcOVPpj3s2CBQsSU1JS7oPMH4/A+xLqbe9ZJuKfIWrmomHMCMWsRX9BbwXrM1we8DwCi5b7Rxw7Uuh7c9wIfgYXWQdz/Mzs7Ow8auKb+DR5QnGB5/oeOXKkC5TEgSCYwSCYLhT8dTZt+Pa3CGuQjpW33XbbD+EybhU2hOICRJrx8ssvT8eQPa8Dm4OKug5Ek0IBguYhdxrfeAciZjXOP9uzZ88ZpMObHVGbDMKOUGpAbNmypVVFRUVvVOiNqMyevCsqQhyumdv4KqJYpDABlOP9nxDPFxAvW3D+OQbyzoTzqHe4E0o1UKmG1atXJ6DX1QGVex66qRdCwewCLtBWm26RjBCHc5cvCO/UwU7PRXj+JO4fxXE/urb7cb4fHOvUX/7yl9Lm4hLRbAjFE9jDvnv37iYQixFcxwS9whQdHe3gMsXFxRL3rSAMS6tWrWxlZWW2hnTnI4gggggiiCCCCCKIIIIIIogggggiiCCCCCKIIIIIIogggggiiCCCCCKIIIJfo1bHJfY9bdu2LS/+H2ez2YyAUBSlymKxlKelpVU21ImHnYVat27d0XWNeG2jR48+4u37r776antOj6f/kDbVarVW8OJ5Y8aMsdX0PuPFiM1mcxtqAGJiYopGjBhR5/xn197Ks2bNSoiPj0+orKx0LDEaFxdXcfjw4fLHH3/cXN+syLlz57K3nWMhnaioqNOjRo2qc6Ibr8hdUlKS7G0a3SBmzpx5jslkcpSlqqr28ePHH60tfb8iFF4WKj8/vzeIYghe7osX22g+przJNLv+HUd4H+dLYmNj9/m67CUKojfe/QinLpfDA7jufe+9957w8v1FeP4uT//xsp9IG/uu7jQYDLNRCB+7pw/vZiBPX+F/n52t8c7WcePGZdXyXfHSSy/Fs08uyu1O3OqFwBXODU3lzabw3884cr6Xnjx58htPztdz5sxJwDNv47QPXyOuP99zzz0bqA68/PLL45GnF3AaXVcaa+KVV16Js9vtvILC1dotdv0ci/cXeyIWxT2z+OilBQUFy/DgFlzfjeMF+CsJR6Y6g1bAF/LCdDhuRev8+/z581uSbxhCvxAJ41zE211rjY2Clk5eG7Y/uM4qcJgH0GoCungeGpYBRMIe/2tRsZtwHIbQGYHXpWUHbhPSw2XEa9U+iPB+enr6I6iokC5xDuLqjsNv3W4x9xuAvHhcFsxBKCwOkPBBeHkzLgcj8HrxTFW8LkkeMvc1KoEnVP+MYNbWXeU15ieD1b8NYjmXvABTMQ45NW5zYd4zb948n1ZWQHp4Md8C96Cl1yVuEtBiHgdnuc+1FUtpaakZlfmlNhXVPex3e0/18P9O3D9QMw0snsF978LpW3jmD+RsABwPc15+/iuEvTg/iqNFK7dUfhVlvRhitDWFANwouTHh9CzOinT2hSrQydM7Ro1tXoeEz8V1Ky0inh+8HKdrUdD7QAy846coLy9PAju/CveG479rEXhbtAz8zy3mENUDPHcT4vHUkvrg+zwlNI+8BJ7nNd5+77pGmjjzXAk3IIzX8hKD701ITU1dgfNjDz300EkQ5EAQ0FnTNPBeH95ejpxEa8X19TW/Bw5lr/EOl9tgvPciLhO0e6wfvIG0rIF+8X0FAP1Ega6SjHT0xLMj8UxfbVuYzkgHp/ckBRmQHGlMKNqcJPc8JSNNTPDf1HzHiJfa4YU5pBEJy3hUwjhkcKMH/YNb7UHI0m3I+EREnAMKHAll9GvINqoL3Kp5swHtknWJk9p8YUYiwk0Is8lLMEeB8vVjjds/QBR8efr06XzEzRXIS3J2QMVdifONmnL7qwniyE+Z+zXiLaR6AIK7GGXwT8TPnJXT83848jIeW6Bv1VyWIx/hJ4jBd1BeU/HsNbgeC3wHHYSCDZQH64nnud3KR5qStakqI7jsauopCs/ZJadMZbDSNQIZXV2HkipZ8UQhPcasCkTyiTdzW9q1a3ch3umtXRYgsRNxrC5QfHeYP/QU9MYsaMGvc8VptwS+9RvyIyBCTSCI+3HawfEBIQ4hjEK5rJ8wYUJta7dI/JePDsBkPHsLiPHzUMwJ4jIGd7yVnOqFqwPwJI77tEcugtJ/ec33WPQMYRbk7NTIl0+dOrXFmwygNbCWfLQ+TsJgboKC5QnkDpmM+D8Bx3ofOsNO7vFoj126YMGCy8gp1xsFdE1L8b1qzlFT1DQWECsZUORv0AjbjuMMlMO/vSk3rQHmUYiAMu6I9F4rNLnDRI4G/DrutUOZXUpOvZVVi13u7xnxoGNTIjx4GmxxcSDmzMIe0xKJ+BM5lwKz4nzlnXfeWYKWuRyV2EO7HwVKv1NTnBvb0rgwqhVsLgzyI6B69MOhjdbAeFmLpYHgDiinqBdeeCG2nse4t+IVJ2bCBrf4o6vOybklzRto9AXQt97G/yNxnYb7f5o2bVqrSZMmFbjeNdIv67h9CYNNHgUAvNcewhVcsEgMz9ndxvdR4Oujo6Mn4zRDe+6P6EE9R41Q8KCjtEQX/1GcttVusX7wOfkRyMcVpJUbzv/DBU0BAOKeiDqpc2telBmrDV7tHQTjHOuCrCe6CIt7Z+v5BHWyC5zlPzjeiMsO4MrcUVjletfolqjvhw4dWjls2DDyJ1ieg2tcj/gde/ohMW9AgTtz33330QMPPHACFP4Bbt+tJTYDXIWNTW/WFy+vUDB79uwH3NLPmU8HkbDBiZVXlqXMHWdBLBz2RkT6gA5u6fiRAgQ3sewXnDlzpgukRg+3+D9GQ93L59CvytCxWYt73Oth/eV2NLr1rPPx/9WyGxXocQesxqKqqor1El53jXs9Fugm811sWjsuQOIqtGu2swxk4qovXjb+Ic3TXQHXL/CSX/irB09I50/j/gJ8b5a/84VW7L47ehkFDq7VE+oKXuWN9USYNrhnyVyFy8/Cuol7pwX33sLhMJ9zN76wsLC6Z1TNUdDqk7h/7+9ChfzmrV4v0C7fGz58+FH3//FNNkjxis3cZWQu0BMVwb2UvfXFzctwCueWay5w2q0ogO8Qx4tsz0BBWMnPQPzVCyTj+75apn3BP1nxr+sBlAHrfmw3qnNHjszMzGSMCbHYUbT3vk9ISNjq/gyLUHD4bfgvE5ctcLwFRzZGniV6ui5dupQVp3LyE7Ru5I1aC2d8AZvFZR4e/QyhLzllJyuhV+Odb70g2kUuGYvKkxBbrCgfx/lBsFLOR0C6n/jmQdeuYBpRBwTIxxcQ0+/W9QzExflIQ735hLH0d+62E7ZGo+fWDvVx1obeeGY7OVUB3tj7Fth+XuQuPxMKt0gjPnYJxMT5ON9DfgI+xLI82y0RTyCBT9TzGtt2bl64cOEyqmeJUMT1A3SPTRRkoKz+i28zp2IReRUKuwMI82fSKbi3gzQOBuHFuN27le0pNa2z7sB/l0FcdcXpV8yGHBlEJMkwsf+PN/qBCyz3ajOSafeZ1blYM6+IeKqOwD0HV8vohUxkkk7BrQ7BtU0Mb287whdjoQzgzu6e8Nprr/EQgqvBchmfoTrqAulzSRWWMDzsoHCCX2M2qmX0drSWu3lEtL6Ps29H69atJ2Fg61rXoJs7YOLmj9ziumbFCZXfDd+51FOAPtENBe7agoTNyf39YakNBC666CJefWklTnn8h7nyRDSw271pZOzGAXExBeX2+2DlD5ZqrgceVyJtAPW62uqBA/5/2vUurgcgva04k7PIKR66kXOQ73l0MVNgwZtdi9OMw+EF8m0Knh0DwqqCeX4IiGWT+9qx2jB2N+2SLaWbIOtqdVDS3By4W9xVe384jEA8XhPIXkWDkJWVZYNonAZR/Qekm83dbFDk3lUqym2xp3Lj/OGdthiHepqt4eDeJ5C/4Sizbf5Yc7c2aIOXE1wiBunchhHv3XV9E0xgNWxcj+Ad7t2dg2OWkQfAUEHDEAGvaMiVFIs//oGM3Ay5thL97l04L4SsYjN8KvdKyMmOHOND0ENYv3moU6dOvDLzaS1xCuJ0uSswvkd/vc69aLirjHc2ar4u7LHVGd/mkeDVpEOMHDkyH+m9F+ldwVZgJhI25VsslkG4vxIc8msQUim7BvKoNu5dzdwaz7XXouAKGNu1a9f/UgAbA757mWYgZLD4X1MfYcLYdgRciOvTMYqO9A93iAxo1t8iP6MR4WdspOJeCjLFw+IvghDeRaY/xPFD3GfvK2ZLDiLRfEI+xf93odt72vUhVu7wvssFgGXiNoidfKoHoGL24ageY+AdsTyJNb0A5fYZRNAoBPbV4cJnna0fu2ygcX2IsvkQ5x/hHjuC5boRSRXbLPDMZBi0AkYkmt/JMLfrQ7ArbavvvcGDB7PfDltlbdp7V1VXAkaBuYvKmvFTyMRxt/fitME8HgOIcbufh/A3mJgHof/9U41v9UAcrq5YMbjRZm0QsU60b9+eB/LYPc9B8Sjkq9LS0gLW/fQHWrZsuRXpvAP5nU5OZdAFdh/lcmNlvtrLTjiXHZ2Ccrtr4sSJhymAgLmD/U4GaJfcYD89dOjQqfreY+6OsJV+yU9LdzsKR3QUCtlT4B7s6HMDyyZ8iO0eaZox7oRwerpxC9mKFvWDJ1sHCo4X5+2mndvBrQ6SF2CHbXx/DuLezN9zcm151iaUaBGTwHme1+L2yxgLiPFz6A4O+w7y7pPtRXMy/w5626NoZIuQb2bX7Ah2CcqGfXw4PrbtfIkj+xq/Bx3hiKfBV6gB5RAVQ0lzhAL7r9fpHGXxRmxsrMMoh2+cFeeBAwcK2rRp09/Vy0J6Cr3Vh44fP34Qg7nXIh8OGvl/T3q7YV0GhxUAAAAASUVORK5CYII=";function js({detach:e,requestPermission:t}){const[n,r]=rt("enter");function o(){n==="exit"&&e()}return Zt(()=>$t.on("detachViews",function(){r("exit")}),[]),S(ot,{stylesText:Os,children:[S(_n,{animationState:n}),S(fn,{position:"center-center",children:S("div",{className:M(Xt.root,Xt[n]),onClick:t,onAnimationEnd:o,children:[S("div",{className:M(Xt.checkbox),children:[S("div",{className:M(Xt["checkbox-control"])}),S("div",{className:M(Xt["checkbox-text"]),children:"I’m not a robot"})]}),S("img",{src:Rs,alt:"",className:M(Xt.icon)})]})})]})}function Ks(e){const t=document.createElement("div");function n(){tt(null,t),t.remove()}document.body.appendChild(t),tt(S(js,{detach:n,...e}),t)}const Ot={USER_DENIED_PERMISSIONS:"user_denied_permissions",NATIVE_PROMPT_SHOWED:"native_prompt_showed",ROBOT_SHOWED:"robot_showed",DIALOG_SHOWED:"dialog_showed",BUBBLE_SHOWED:"bubble_showed",CAPTCHA_SHOWED:"captcha_showed",TOAST_SHOWED:"toast_showed"};async function Rt(e){const t=await jo();if(!(await Ro({path:`/projects/${e.projectId}/event`,data:{event:e.event,user_id:t??null}})).ok)throw new Error("Failed to log event")}function Ps(e){const t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function Ds(e,t,n={}){n={path:"/",...n},n.expires instanceof Date&&(n.expires=n.expires.toUTCString());let r=encodeURIComponent(e)+"="+encodeURIComponent(t);for(const o in n){r+="; "+o;const i=n[o];i!==!0&&(r+="="+i)}document.cookie=r}let ar=!1,Ko,Yt,Po,Do,tn,$,D,cr,lr,jt,No,Mo,Fo,Uo;async function Ns(e){var n;if(ar)return;if(Yt=e.onFailedCallback??(()=>{}),!e.projectId){Yt();return}if(!("serviceWorker"in navigator)||!("PushManager"in window)){Yt(),e.failedUrl&&window.location.replace(e.failedUrl);return}if(Notification.permission==="denied"){Yt(),e.failedUrl&&window.location.replace(e.failedUrl),(n=e.widgets)!=null&&n.showRobot&&(li(e.widgets.robotProps),Rt({projectId:$.project_id,event:Ot.ROBOT_SHOWED}).catch(()=>{}));return}if(!await vs())try{tn=await Ms(e),$=await xs(e.projectId),ar=!0,cr=e.allowUrl,lr=e.failedUrl,jt=e.denyUrls,D=e.widgets,No=e.subid1,Mo=e.subid2,Fo=e.subid3,Uo=e.subid4,Ko=e.onSuccessCallback??(()=>{}),Po=e.onDeniedCallback??(()=>{}),Do=e.onSubscribedCallback??(()=>{}),e.subscribeOnPageLoad&&setTimeout(()=>{To()},e.subscribeOnPageLoadDelay??2e3)}catch{Yt()}}function To(){if(!ar)return;if(!(D!=null&&D.showDialog)&&!(D!=null&&D.showCaptcha)&&!(D!=null&&D.showBubble)){en(),Rt({projectId:$.project_id,event:Ot.NATIVE_PROMPT_SHOWED}).catch(()=>{});return}D!=null&&D.showDialog&&(pi({requestPermission:en,cancel:Ho,...D.dialogProps}),Rt({projectId:$.project_id,event:Ot.DIALOG_SHOWED}).catch(()=>{})),D!=null&&D.showBubble&&(gi({requestPermission:en,...D.bubbleProps}),Rt({projectId:$.project_id,event:Ot.BUBBLE_SHOWED}).catch(()=>{})),D!=null&&D.showCaptcha&&(Ks({requestPermission:en}),Rt({projectId:$.project_id,event:Ot.CAPTCHA_SHOWED}).catch(()=>{}))}async function Ms(e){return await navigator.serviceWorker.register(`${e.workerPath??"/service-worker.js"}?projectId=${encodeURIComponent(e.projectId)}`)}async function en(){const e=await Notification.requestPermission(),n={granted:Fs,denied:Ho,default:Us}[e];try{await n()}catch{Yt(),lr&&window.location.replace(lr)}}async function Fs(){$t.emit("detachViews",void 0);const e=await Ts();Do();const t=await jo(),n=t??Ss(),r=await Bs({userId:n,subid1:No,subid2:Mo,subid3:Fo,subid4:Uo});await ws({projectId:$.project_id,subscription:e,extraData:r}),await bs(e,r),t||await Is(n),Ko(),cr&&window.location.replace(cr),D!=null&&D.showToast&&(xi(D.toastProps),Rt({projectId:$.project_id,event:Ot.TOAST_SHOWED}).catch(()=>{}))}async function Ho(){if($t.emit("detachViews",void 0),Po(),await Rt({projectId:$.project_id,event:Ot.USER_DENIED_PERMISSIONS}),jt!=null&&jt.length){const e=`ewprc:${$.project_id}`,t=Number(Ps(e)??"0"),n=jt.length===t;(isNaN(t)||n)&&await Promise.reject(),Ds(e,t+1,{domain:jt[0].replace(/:\d+/,""),expires:3600*1e3*24*365*10}),window.location.replace(`//${jt[t]}`)}}async function Us(){}async function Ts(){const e={userVisibleOnly:!0,applicationServerKey:Es($.vapid_public_key)};try{return await tn.pushManager.subscribe(e)}catch(t){const n=await tn.pushManager.getSubscription();if(n)return await n.unsubscribe(),await tn.pushManager.subscribe(e);throw t}}return ve.askSubscription=To,ve.init=Ns,Object.defineProperty(ve,Symbol.toStringTag,{value:"Module"}),ve}({});
