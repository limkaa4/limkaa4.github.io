this.ytrgt=this.ytrgt||{};this.ytrgt.webpush=function(he){"use strict";const Jn={root:"_root_1089f_1",primary:"_primary_1089f_21",secondary:"_secondary_1089f_27"},yi="._root_1089f_1{display:inline-flex;padding:8px 16px;align-items:flex-start;justify-content:center;gap:10px;height:32px;min-width:80px;box-sizing:border-box;border-radius:16px;font-family:Roboto,sans-serif;font-size:14px;font-style:normal;font-weight:400;line-height:16px;outline:transparent;border:transparent;cursor:pointer}._primary_1089f_21{background-color:#0582ff;box-shadow:0 2px 4px #0582ff0a;color:#fff}._secondary_1089f_27{border:1px solid #e3e3e5;background-color:#fff;box-shadow:0 2px 4px #0000000a}";function $n(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=$n(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function M(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=$n(e))&&(r&&(r+=" "),r+=t);return r}var de,R,tr,yt,er,nr,We,Qt={},Xe=[],gi=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ye=Array.isArray;function ut(e,t){for(var n in t)e[n]=t[n];return e}function rr(e){var t=e.parentNode;t&&t.removeChild(e)}function vi(e,t,n){var r,i,o,s={};for(o in t)o=="key"?r=t[o]:o=="ref"?i=t[o]:s[o]=t[o];if(arguments.length>2&&(s.children=arguments.length>3?de.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)s[o]===void 0&&(s[o]=e.defaultProps[o]);return fe(e,s,r,i,null)}function fe(e,t,n,r,i){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++tr,__i:-1,__u:0};return i==null&&R.vnode!=null&&R.vnode(o),o}function It(e){return e.children}function pe(e,t){this.props=e,this.context=t}function Bt(e,t){if(t==null)return e.__?Bt(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Bt(e):null}function bi(e,t,n){var r,i=e.__v,o=i.__e,s=e.__P;if(s)return(r=ut({},i)).__v=i.__v+1,R.vnode&&R.vnode(r),ze(s,r,i,e.__n,s.ownerSVGElement!==void 0,32&i.__u?[o]:null,t,o??Bt(i),!!(32&i.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=o&&ir(r),r}function ir(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return ir(e)}}function or(e){(!e.__d&&(e.__d=!0)&&yt.push(e)&&!_e.__r++||er!==R.debounceRendering)&&((er=R.debounceRendering)||nr)(_e)}function _e(){var e,t,n,r=[],i=[];for(yt.sort(We);e=yt.shift();)e.__d&&(n=yt.length,t=bi(e,r,i)||t,n===0||yt.length>n?(Ge(r,t,i),i.length=r.length=0,t=void 0,yt.sort(We)):t&&R.__c&&R.__c(t,Xe));t&&Ge(r,t,i),_e.__r=0}function sr(e,t,n,r,i,o,s,l,c,h,u){var a,d,f,y,m,g=r&&r.__k||Xe,_=t.length;for(n.__d=c,wi(n,t,g),c=n.__d,a=0;a<_;a++)(f=n.__k[a])!=null&&typeof f!="boolean"&&typeof f!="function"&&(d=f.__i===-1?Qt:g[f.__i]||Qt,f.__i=a,ze(e,f,d,i,o,s,l,c,h,u),y=f.__e,f.ref&&d.ref!=f.ref&&(d.ref&&Ze(d.ref,null,f),u.push(f.ref,f.__c||y,f)),m==null&&y!=null&&(m=y),65536&f.__u||d.__k===f.__k?c=ar(f,c,e):typeof f.type=="function"&&f.__d!==void 0?c=f.__d:y&&(c=y.nextSibling),f.__d=void 0,f.__u&=-196609);n.__d=c,n.__e=m}function wi(e,t,n){var r,i,o,s,l,c=t.length,h=n.length,u=h,a=0;for(e.__k=[],r=0;r<c;r++)(i=e.__k[r]=(i=t[r])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?fe(null,i,null,null,i):Ye(i)?fe(It,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?fe(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null?(i.__=e,i.__b=e.__b+1,l=xi(i,n,s=r+a,u),i.__i=l,o=null,l!==-1&&(u--,(o=n[l])&&(o.__u|=131072)),o==null||o.__v===null?(l==-1&&a--,typeof i.type!="function"&&(i.__u|=65536)):l!==s&&(l===s+1?a++:l>s?u>c-s?a+=l-s:a--:a=l<s&&l==s-1?l-s:0,l!==r+a&&(i.__u|=65536))):(o=n[r])&&o.key==null&&o.__e&&(o.__e==e.__d&&(e.__d=Bt(o)),Je(o,o,!1),n[r]=null,u--);if(u)for(r=0;r<h;r++)(o=n[r])!=null&&!(131072&o.__u)&&(o.__e==e.__d&&(e.__d=Bt(o)),Je(o,o))}function ar(e,t,n){var r,i;if(typeof e.type=="function"){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=ar(r[i],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function xi(e,t,n,r){var i=e.key,o=e.type,s=n-1,l=n+1,c=t[n];if(c===null||c&&i==c.key&&o===c.type)return n;if(r>(c!=null&&!(131072&c.__u)?1:0))for(;s>=0||l<t.length;){if(s>=0){if((c=t[s])&&!(131072&c.__u)&&i==c.key&&o===c.type)return s;s--}if(l<t.length){if((c=t[l])&&!(131072&c.__u)&&i==c.key&&o===c.type)return l;l++}}return-1}function cr(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||gi.test(t)?n:n+"px"}function me(e,t,n,r,i){var o;t:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||cr(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||cr(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,o?ur:lr,o)):e.removeEventListener(t,o?ur:lr,o);else{if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break t}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function lr(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(R.event?R.event(e):e)}}function ur(e){if(this.l)return this.l[e.type+!0](R.event?R.event(e):e)}function ze(e,t,n,r,i,o,s,l,c,h){var u,a,d,f,y,m,g,_,p,b,x,A,k,w,B,v=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),o=[l=t.__e=n.__e]),(u=R.__b)&&u(t);t:if(typeof v=="function")try{if(_=t.props,p=(u=v.contextType)&&r[u.__c],b=u?p?p.props.value:u.__:r,n.__c?g=(a=t.__c=n.__c).__=a.__E:("prototype"in v&&v.prototype.render?t.__c=a=new v(_,b):(t.__c=a=new pe(_,b),a.constructor=v,a.render=ki),p&&p.sub(a),a.props=_,a.state||(a.state={}),a.context=b,a.__n=r,d=a.__d=!0,a.__h=[],a._sb=[]),a.__s==null&&(a.__s=a.state),v.getDerivedStateFromProps!=null&&(a.__s==a.state&&(a.__s=ut({},a.__s)),ut(a.__s,v.getDerivedStateFromProps(_,a.__s))),f=a.props,y=a.state,a.__v=t,d)v.getDerivedStateFromProps==null&&a.componentWillMount!=null&&a.componentWillMount(),a.componentDidMount!=null&&a.__h.push(a.componentDidMount);else{if(v.getDerivedStateFromProps==null&&_!==f&&a.componentWillReceiveProps!=null&&a.componentWillReceiveProps(_,b),!a.__e&&(a.shouldComponentUpdate!=null&&a.shouldComponentUpdate(_,a.__s,b)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(a.props=_,a.state=a.__s,a.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(O){O&&(O.__=t)}),x=0;x<a._sb.length;x++)a.__h.push(a._sb[x]);a._sb=[],a.__h.length&&s.push(a);break t}a.componentWillUpdate!=null&&a.componentWillUpdate(_,a.__s,b),a.componentDidUpdate!=null&&a.__h.push(function(){a.componentDidUpdate(f,y,m)})}if(a.context=b,a.props=_,a.__P=e,a.__e=!1,A=R.__r,k=0,"prototype"in v&&v.prototype.render){for(a.state=a.__s,a.__d=!1,A&&A(t),u=a.render(a.props,a.state,a.context),w=0;w<a._sb.length;w++)a.__h.push(a._sb[w]);a._sb=[]}else do a.__d=!1,A&&A(t),u=a.render(a.props,a.state,a.context),a.state=a.__s;while(a.__d&&++k<25);a.state=a.__s,a.getChildContext!=null&&(r=ut(ut({},r),a.getChildContext())),d||a.getSnapshotBeforeUpdate==null||(m=a.getSnapshotBeforeUpdate(f,y)),sr(e,Ye(B=u!=null&&u.type===It&&u.key==null?u.props.children:u)?B:[B],t,n,r,i,o,s,l,c,h),a.base=t.__e,t.__u&=-161,a.__h.length&&s.push(a),g&&(a.__E=a.__=null)}catch(O){t.__v=null,c||o!=null?(t.__e=l,t.__u|=c?160:32,o[o.indexOf(l)]=null):(t.__e=n.__e,t.__k=n.__k),R.__e(O,t,n)}else o==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Ai(n.__e,t,n,r,i,o,s,c,h);(u=R.diffed)&&u(t)}function Ge(e,t,n){for(var r=0;r<n.length;r++)Ze(n[r],n[++r],n[++r]);R.__c&&R.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(o){o.call(i)})}catch(o){R.__e(o,i.__v)}})}function Ai(e,t,n,r,i,o,s,l,c){var h,u,a,d,f,y,m,g=n.props,_=t.props,p=t.type;if(p==="svg"&&(i=!0),o!=null){for(h=0;h<o.length;h++)if((f=o[h])&&"setAttribute"in f==!!p&&(p?f.localName===p:f.nodeType===3)){e=f,o[h]=null;break}}if(e==null){if(p===null)return document.createTextNode(_);e=i?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,_.is&&_),o=null,l=!1}if(p===null)g===_||l&&e.data===_||(e.data=_);else{if(o=o&&de.call(e.childNodes),g=n.props||Qt,!l&&o!=null)for(g={},h=0;h<e.attributes.length;h++)g[(f=e.attributes[h]).name]=f.value;for(h in g)f=g[h],h=="children"||(h=="dangerouslySetInnerHTML"?a=f:h==="key"||h in _||me(e,h,null,f,i));for(h in _)f=_[h],h=="children"?d=f:h=="dangerouslySetInnerHTML"?u=f:h=="value"?y=f:h=="checked"?m=f:h==="key"||l&&typeof f!="function"||g[h]===f||me(e,h,f,g[h],i);if(u)l||a&&(u.__html===a.__html||u.__html===e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(a&&(e.innerHTML=""),sr(e,Ye(d)?d:[d],t,n,r,i&&p!=="foreignObject",o,s,o?o[0]:n.__k&&Bt(n,0),l,c),o!=null)for(h=o.length;h--;)o[h]!=null&&rr(o[h]);l||(h="value",y!==void 0&&(y!==e[h]||p==="progress"&&!y||p==="option"&&y!==g[h])&&me(e,h,y,g[h],!1),h="checked",m!==void 0&&m!==e[h]&&me(e,h,m,g[h],!1))}return e}function Ze(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){R.__e(r,n)}}function Je(e,t,n){var r,i;if(R.unmount&&R.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Ze(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){R.__e(o,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&Je(r[i],t,n||typeof e.type!="function");n||e.__e==null||rr(e.__e),e.__=e.__e=e.__d=void 0}function ki(e,t,n){return this.constructor(e,n)}function J(e,t,n){var r,i,o,s;R.__&&R.__(e,t),i=(r=typeof n=="function")?null:n&&n.__k||t.__k,o=[],s=[],ze(t,e=(!r&&n||t).__k=vi(It,null,[e]),i||Qt,Qt,t.ownerSVGElement!==void 0,!r&&n?[n]:i?null:t.firstChild?de.call(t.childNodes):null,o,!r&&n?n:i?i.__e:t.firstChild,r,s),e.__d=void 0,Ge(o,e,s)}de=Xe.slice,R={__e:function(e,t,n,r){for(var i,o,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(e)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),s=i.__d),s)return i.__E=i}catch(l){e=l}throw e}},tr=0,pe.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ut({},this.state),typeof e=="function"&&(e=e(ut({},n),this.props)),e&&ut(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),or(this))},pe.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),or(this))},pe.prototype.render=It,yt=[],nr=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,We=function(e,t){return e.__v.__b-t.__v.__b},_e.__r=0;var Rt,F,$e,hr,ye=0,dr=[],ge=[],U=R,fr=U.__b,pr=U.__r,_r=U.diffed,mr=U.__c,yr=U.unmount,gr=U.__;function ve(e,t){U.__h&&U.__h(F,e,ye||t),ye=0;var n=F.__H||(F.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:ge}),n.__[e]}function et(e){return ye=1,Ci(br,e)}function Ci(e,t,n){var r=ve(Rt++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):br(void 0,t),function(l){var c=r.__N?r.__N[0]:r.__[0],h=r.t(c,l);c!==h&&(r.__N=[h,r.__[1]],r.__c.setState({}))}],r.__c=F,!F.u)){var i=function(l,c,h){if(!r.__c.__H)return!0;var u=r.__c.__H.__.filter(function(d){return!!d.__c});if(u.every(function(d){return!d.__N}))return!o||o.call(this,l,c,h);var a=!1;return u.forEach(function(d){if(d.__N){var f=d.__[0];d.__=d.__N,d.__N=void 0,f!==d.__[0]&&(a=!0)}}),!(!a&&r.__c.props===l)&&(!o||o.call(this,l,c,h))};F.u=!0;var o=F.shouldComponentUpdate,s=F.componentWillUpdate;F.componentWillUpdate=function(l,c,h){if(this.__e){var u=o;o=void 0,i(l,c,h),o=u}s&&s.call(this,l,c,h)},F.shouldComponentUpdate=i}return r.__N||r.__}function qt(e,t){var n=ve(Rt++,3);!U.__s&&en(n.__H,t)&&(n.__=e,n.i=t,F.__H.__h.push(n))}function Ei(e,t){var n=ve(Rt++,4);!U.__s&&en(n.__H,t)&&(n.__=e,n.i=t,F.__h.push(n))}function Si(e){return ye=5,Ii(function(){return{current:e}},[])}function Ii(e,t){var n=ve(Rt++,7);return en(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function Bi(){for(var e;e=dr.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(be),e.__H.__h.forEach(tn),e.__H.__h=[]}catch(t){e.__H.__h=[],U.__e(t,e.__v)}}U.__b=function(e){F=null,fr&&fr(e)},U.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),gr&&gr(e,t)},U.__r=function(e){pr&&pr(e),Rt=0;var t=(F=e.__c).__H;t&&($e===F?(t.__h=[],F.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=ge,n.__N=n.i=void 0})):(t.__h.forEach(be),t.__h.forEach(tn),t.__h=[],Rt=0)),$e=F},U.diffed=function(e){_r&&_r(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(dr.push(t)!==1&&hr===U.requestAnimationFrame||((hr=U.requestAnimationFrame)||Ri)(Bi)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==ge&&(n.__=n.__V),n.i=void 0,n.__V=ge})),$e=F=null},U.__c=function(e,t){t.some(function(n){try{n.__h.forEach(be),n.__h=n.__h.filter(function(r){return!r.__||tn(r)})}catch(r){t.some(function(i){i.__h&&(i.__h=[])}),t=[],U.__e(r,n.__v)}}),mr&&mr(e,t)},U.unmount=function(e){yr&&yr(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{be(r)}catch(i){t=i}}),n.__H=void 0,t&&U.__e(t,n.__v))};var vr=typeof requestAnimationFrame=="function";function Ri(e){var t,n=function(){clearTimeout(r),vr&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);vr&&(t=requestAnimationFrame(n))}function be(e){var t=F,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),F=t}function tn(e){var t=F;e.__c=e.__(),F=t}function en(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function br(e,t){return typeof t=="function"?t(e):t}var Pi=0;function S(e,t,n,r,i,o){var s,l,c={};for(l in t)l=="ref"?s=t[l]:c[l]=t[l];var h={type:e,props:c,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--Pi,__i:-1,__u:0,__source:i,__self:o};if(typeof e=="function"&&(s=e.defaultProps))for(l in s)c[l]===void 0&&(c[l]=s[l]);return R.vnode&&R.vnode(h),h}function nt({children:e,stylesText:t}){const[n,r]=et(!1);return Ei(function(){const i=document.createElement("style");function o(){r(!0),i.removeEventListener("load",o)}return i.textContent=t,i.addEventListener("load",o),document.head.appendChild(i),function(){i.remove(),i.removeEventListener("load",o)}},[]),n?S(It,{children:e}):null}function we({children:e,variant:t="primary",onClick:n}){return S(nt,{stylesText:yi,children:S("button",{className:M(Jn.root,Jn[t]),onClick:n,children:e})})}const gt={root:"_root_16322_3",header:"_header_16322_14",icon:"_icon_16322_20",title:"_title_16322_26",text:"_text_16322_36",footer:"_footer_16322_46",actions:"_actions_16322_52"},Ki='@import"https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap";._root_16322_3{padding:20px;font-family:Roboto,sans-serif;width:100%;max-width:320px;border-radius:12px;border:1px solid #e3e3e5;background-color:#fff;box-shadow:0 4px 24px #0000001f}._header_16322_14{display:flex;align-items:center;gap:16px}._icon_16322_20{width:40px;height:40px;flex-shrink:0}._title_16322_26{color:#000;font-size:16px;font-style:normal;font-weight:700;line-height:20px;margin-top:0;margin-bottom:0}._text_16322_36{color:#78787a;font-size:14px;font-style:normal;font-weight:400;line-height:normal;margin-top:8px;margin-bottom:0}._footer_16322_46{display:flex;align-items:center;margin-top:32px}._actions_16322_52{display:flex;align-items:center;gap:8px;margin-left:auto}@media (max-width: 420px){._root_16322_3{padding:12px}}',wr={root:"_root_14w6k_1","top-left":"_top-left_14w6k_5","top-center":"_top-center_14w6k_10","top-right":"_top-right_14w6k_16","center-center":"_center-center_14w6k_21","bottom-left":"_bottom-left_14w6k_27","bottom-center":"_bottom-center_14w6k_32","bottom-right":"_bottom-right_14w6k_38"},Oi="._root_14w6k_1{position:fixed}._top-left_14w6k_5{top:24px;left:24px}._top-center_14w6k_10{top:24px;left:50%;transform:translate3d(-50%,0,0)}._top-right_14w6k_16{top:24px;right:24px}._center-center_14w6k_21{top:50%;left:50%;transform:translate3d(-50%,-50%,0)}._bottom-left_14w6k_27{bottom:24px;left:24px}._bottom-center_14w6k_32{bottom:24px;left:50%;transform:translate3d(-50%,0,0)}._bottom-right_14w6k_38{bottom:24px;right:24px}@media (max-width: 420px){._root_14w6k_1{left:12px;top:12px;right:12px;transform:unset}}";function nn({children:e,position:t="center-center"}){return S(nt,{stylesText:Oi,children:S("div",{className:M(wr.root,wr[t]),children:e})})}function rn({position:e,icon:t,title:n,text:r,actions:i,className:o,onAnimationEnd:s}){return S(nt,{stylesText:Ki,children:S(nn,{position:e,children:S("div",{className:M(gt.root,o),onAnimationEnd:s,children:[S("div",{className:M(gt.header),children:[S("img",{src:t,alt:"",className:M(gt.icon)}),S("h1",{className:M(gt.title),children:n})]}),S("p",{className:M(gt.text),children:r}),S("div",{className:M(gt.footer),children:S("div",{className:M(gt.actions),children:i})})]})})})}const xr={root:"_root_uyahl_1",enter:"_enter_uyahl_19",fadeIn:"_fadeIn_uyahl_1",exit:"_exit_uyahl_24",fadeOut:"_fadeOut_uyahl_1"},ji="._root_uyahl_1{position:fixed;top:0;left:0;right:0;bottom:0;background:linear-gradient(180deg,#1111147a,#11111414 77.33%,#11111405 88.88%,#11111400);animation-timing-function:ease-in-out;animation-fill-mode:both;animation-duration:.5s}._enter_uyahl_19{animation-name:_fadeIn_uyahl_1;animation-delay:.25s}._exit_uyahl_24{animation-name:_fadeOut_uyahl_1}@keyframes _fadeIn_uyahl_1{0%{opacity:0}to{opacity:1}}@keyframes _fadeOut_uyahl_1{0%{opacity:1}to{opacity:0}}";function on({animationState:e}){return S(nt,{stylesText:ji,children:S("div",{className:M(xr.root,xr[e])})})}const Ar={root:"_root_1pkd4_1",enter:"_enter_1pkd4_7",exit:"_exit_1pkd4_12"},Di="._root_1pkd4_1{animation-timing-function:ease-in-out;animation-fill-mode:both;animation-duration:.5s}._enter_1pkd4_7{animation-name:_enter_1pkd4_7;animation-delay:.25s}._exit_1pkd4_12{animation-name:_exit_1pkd4_12}@keyframes _enter_1pkd4_7{0%{opacity:0;transform:translateY(50%)}to{opacity:1;transform:translateY(0)}}@keyframes _exit_1pkd4_12{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(50%)}}",Mi="data:image/png;base64,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";function Fi({position:e="top-center",skipText:t="Пропустить",text:n="Нажмите значок замка в адресной строке, чтобы разрешить уведомления.",icon:r=Mi,title:i="Пожалуйста, включите доступ к получению push-уведомлений",detach:o}){const[s,l]=et(!1),[c,h]=et("enter");function u(){h("exit")}function a(){c==="exit"&&o()}return qt(()=>{const d=setTimeout(function(){l(!0)},500);return function(){clearTimeout(d)}},[]),s?S(nt,{stylesText:Di,children:[S(on,{animationState:c}),S(rn,{position:e,icon:r,title:i,text:n,actions:S(we,{variant:"secondary",onClick:u,children:t}),className:M(Ar.root,Ar[c]),onAnimationEnd:a})]}):null}function Ni(e={}){const t=document.createElement("div");function n(){J(null,t),t.remove()}document.body.appendChild(t),J(S(Fi,{detach:n,...e}),t)}const kr={root:"_root_1pkd4_1",enter:"_enter_1pkd4_7",exit:"_exit_1pkd4_12"},Ui="._root_1pkd4_1{animation-timing-function:ease-in-out;animation-fill-mode:both;animation-duration:.5s}._enter_1pkd4_7{animation-name:_enter_1pkd4_7;animation-delay:.25s}._exit_1pkd4_12{animation-name:_exit_1pkd4_12}@keyframes _enter_1pkd4_7{0%{opacity:0;transform:translateY(50%)}to{opacity:1;transform:translateY(0)}}@keyframes _exit_1pkd4_12{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(50%)}}",Ti="data:image/png;base64,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";function Hi({position:e="top-center",title:t="Получайте push-уведомления о последних обновлениях",icon:n=Ti,text:r,cancelText:i="Отменить",confirmText:o="Подписаться",delay:s=300,detach:l,requestPermission:c,cancel:h,eventEmitter:u}){const[a,d]=et(!1),[f,y]=et("enter");function m(){f==="exit"&&l()}return qt(()=>{const g=setTimeout(function(){d(!0)},s);return u.on("detachViews",function(){g&&clearTimeout(g),y("exit")})},[]),a?S(nt,{stylesText:Ui,children:[S(on,{animationState:f}),S(rn,{position:e,icon:n??"",title:t,text:r,actions:S(It,{children:[S(we,{variant:"secondary",onClick:h,children:i}),S(we,{variant:"primary",onClick:c,children:o})]}),className:M(kr.root,kr[f]),onAnimationEnd:m})]}):null}function Vi(e){const t=document.createElement("div");function n(){J(null,t),t.remove()}document.body.appendChild(t),J(S(Hi,{detach:n,...e}),t)}const Pt={root:"_root_b6vi0_3",text:"_text_b6vi0_13","icon-root":"_icon-root_b6vi0_30",icon:"_icon_b6vi0_30",badge:"_badge_b6vi0_48",enter:"_enter_b6vi0_67",exit:"_exit_b6vi0_72"},Li='@import"https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap";._root_b6vi0_3{font-family:Roboto,sans-serif;display:flex;align-items:center;gap:12px;animation-timing-function:ease-in-out;animation-fill-mode:both;animation-duration:.5s}._text_b6vi0_13{display:flex;padding:16px;flex-direction:column;align-items:flex-end;gap:16px;color:#000;font-size:16px;font-style:normal;font-weight:400;line-height:16px;border-radius:12px;border:1px solid #e3e3e5;background-color:#fff;box-shadow:0 2px 8px #00000014}._icon-root_b6vi0_30{position:relative;display:flex;padding:16px;justify-content:center;align-items:center;gap:10px;border-radius:32px;border:1px solid #046be0;background-color:#0582ff;box-shadow:0 2px 12px #046be029}._icon_b6vi0_30{width:32px;height:32px}._badge_b6vi0_48{width:24px;height:24px;display:flex;align-items:center;justify-content:center;border-radius:50%;border:2px solid #ffffff;background-color:#ff3c14;color:#fff;font-size:14px;font-style:normal;font-weight:500;line-height:16px;position:absolute;top:-8px;right:-2px}._enter_b6vi0_67{animation-name:_enter_b6vi0_67;animation-delay:.25s}._exit_b6vi0_72{animation-name:_exit_b6vi0_72}@keyframes _enter_b6vi0_67{0%{opacity:0;transform:translateY(50%)}to{opacity:1;transform:translateY(0)}}@keyframes _exit_b6vi0_72{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(50%)}}',Qi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUASURBVHgB7Z2BcRs3EEVXmRQQVxCogsgV5FxB7ArMDixVIKaCOBXIqcBJBaQrkFPBnSuwOlhjjeNItsnbDwIgAGnfzA1neJglgA/sYXEASGQYhmEYhmEYhmGclDMqBDMP/sP56+7s7Oxf6gyf/1/8xwWFMnz0ZfhIveAzf8PfMvrLUSdIXuc8P+Qvah1pNf7a8H7GuVU1z57K33HbbBnmyr/lZVaUgbmFbvz1eba7ydXDJI9KGdoUgX90O/tYUyKz0OMe22OOipE8AuW4oUz8RBnwGbr2Hysg6UTpDBQejN8j372kdO6ANNJLsjwTkkdBPiNv/MdbMPm5H01MFMHsWnajEWnhv1MQYR9bf32gUIkThdHLRHG/J78xzr+lceXto2XPDwdfjLKOsCtu5poPPwxjGKW1csQzwqe9BG3LM+iCasCHffE+1hE2b7gcNwwKwdizQBi5xkOZQ6tCWIP2XvP9qKYkI4OjMcZFOG2MwLjrgfwjB3dzaq7BvL0F7Q10KhhzPbegLbQnlQAVYQPY2tApYD1QEUYGfC3Xafnfo4rAoccj7nFFpWGs9a8AO2+4HV4D+X0J2BmpJIy1fjVKZLxFnQrJiwPyvQFsragUjLV+B9h5z+2h+nDGGk6ZZ4E3POhlgFo/0otqMQD5R4amqp1oGAuQHGBn5HZBeoEEi1ovyDZZ9/CHk3+U2279OwagHFpsIHUFRcfQbKg3JrOMmsE/SUcdbTQAEhtor1h3rzNV0OnoP5T7W23WkYN7Gqh9BlZcqS/rlsLM6xLQ1DgqgKbmf6RzSf2wAtJoZdYa7VfU9wGzL/usJHuurRrgEKQ46oPJl+d8KcHcS7TA65m3s/iCB+kBWuufgMp31E/lCw5wQxPpb88G5T4kwKDc/5/SbbQI4sM1N+SU+5AATrmPLFiC/GFj/Aak0cqu2kAE+JXSMiHUeW2XxgCk0VyQU+5DAmjj/2np5vwQd9QfDgimtManBmOIANPSPWDNZI+tf8di3ueyTwtJPpECIsDfC/euSKdnARyQZqkO1qSgCjBHfa/oW6XF970CVz076he18cx1cKh+8q6o9j7xgiPXYHKbc/8oUbOafET9/ByT+EhFu1gRfQAXk/iY+smyNlTBUb84KswpBDAWKLZFaYc4UuoX2V71jApiAih4AYrWkbmgypgAlTEBKmMCVMYEqIwJUBkToDImQGVMgMqYAJUxASpjAlTGBKiMCVCZogJwrXMUMhL7jjeW0j1goP5ZUUFKHtonL+Nlt7yjvpElJufaMvNjKdkDZKuPo/6RhgQdadAM3MYRBLnpQwR+nJW/I7sI2Z4BHHy+rCSDNqd1jCxFvIo9Cu0QWQTgMNx8T4/D5yNM/nqRQ4TkhzCHjc2yw9zR08H5S84PTe7tST2AQ5AiQ82e13+mIEPT5yk9IbUHXNLTrXxByp60/9nmgtJJCtBSBci7AaFPJkogVQAZkhUJ0TthIv3MiEWSBJjnR15QnjOhe2OisA1pogRyBmIyJJNL9hU7elzD0rsHl7hd2SG/LTVBZxiGYTwNim9RikXmfKkgpbccxdJiJDxROZobtbQoQMnournIvUUBPlA5/iFjGcZOpj2GkTv6N7+qMP4nOjGsyMBh/P9bENZkxJNJhKQXJk8eDmf2v+N4NtzB2tTmArFD8P3Z03IEpqP7f9YTdjOVWwrnmL6zmUrDMAzDMIyW+QIH4yZPl1461wAAAABJRU5ErkJggg==";function qi({text:e="Вам новое сообщение",icon:t=Qi,delay:n=300,detach:r,requestPermission:i,eventEmitter:o}){const[s,l]=et(!1),[c,h]=et("enter");function u(){c==="exit"&&r()}return qt(function(){const a=setTimeout(function(){l(!0)},n);return o.on("detachViews",function(){a&&clearTimeout(a),h("exit")})}),s?S(nt,{stylesText:Li,children:S(nn,{position:"bottom-right",children:S("div",{className:M(Pt.root,Pt[c]),onAnimationEnd:u,onClick:i,children:[S("div",{className:M(Pt.text),children:e}),S("div",{className:M(Pt["icon-root"]),children:[S("img",{src:t,alt:"",className:M(Pt.icon)}),S("div",{className:M(Pt.badge),children:"1"})]})]})})}):null}function Wi(e){const t=document.createElement("div");function n(){J(null,t),t.remove()}document.body.appendChild(t),J(S(qi,{detach:n,...e}),t)}const Cr={root:"_root_1pkd4_1",enter:"_enter_1pkd4_7",exit:"_exit_1pkd4_12"},Xi="._root_1pkd4_1{animation-timing-function:ease-in-out;animation-fill-mode:both;animation-duration:.5s}._enter_1pkd4_7{animation-name:_enter_1pkd4_7;animation-delay:.25s}._exit_1pkd4_12{animation-name:_exit_1pkd4_12}@keyframes _enter_1pkd4_7{0%{opacity:0;transform:translateY(50%)}to{opacity:1;transform:translateY(0)}}@keyframes _exit_1pkd4_12{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(50%)}}",Yi="data:image/png;base64,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";function zi({position:e="top-right",icon:t=Yi,text:n="",skipText:r="Пропустить",title:i="Вы успешно подписались на получение push-уведомлений",detach:o}){const s=Si(null),[l,c]=et("enter");qt(()=>(s.current=setTimeout(()=>{c("exit")},5e3),()=>{s.current&&clearTimeout(s.current)}),[]);function h(){s.current&&clearTimeout(s.current),c("exit")}function u(){l==="exit"&&o()}return S(nt,{stylesText:Xi,children:S(rn,{position:e,icon:t,title:i,text:n,actions:S(we,{variant:"secondary",onClick:h,children:r}),className:M(Cr.root,Cr[l]),onAnimationEnd:u})})}function Gi(e={}){const t=document.createElement("div");function n(){J(null,t),t.remove()}document.body.appendChild(t),J(S(zi,{detach:n,...e}),t)}const Kt={root:"_root_179wx_3",checkbox:"_checkbox_179wx_20","checkbox-control":"_checkbox-control_179wx_26","checkbox-text":"_checkbox-text_179wx_34",icon:"_icon_179wx_42",enter:"_enter_179wx_48",exit:"_exit_179wx_53"},Zi='@import"https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap";._root_179wx_3{display:flex;width:280px;padding:16px;justify-content:space-between;align-items:center;border-radius:12px;border:1px solid #cacacc;background-color:#f5f5f5;box-shadow:0 2px 6px #0000000a;font-family:Roboto,serif;box-sizing:border-box;animation-timing-function:ease-in-out;animation-fill-mode:both;animation-duration:.5s}._checkbox_179wx_20{display:inline-flex;align-items:center;gap:8px}._checkbox-control_179wx_26{width:24px;height:24px;border-radius:4px;border:2px solid #cacacc;background-color:#fff}._checkbox-text_179wx_34{color:#000;font-size:14px;font-style:normal;font-weight:400;line-height:normal}._icon_179wx_42{width:46px;height:40px;flex-shrink:0}._enter_179wx_48{animation-name:_enter_179wx_48;animation-delay:.25s}._exit_179wx_53{animation-name:_exit_179wx_53}@keyframes _enter_179wx_48{0%{opacity:0;transform:translateY(50%)}to{opacity:1;transform:translateY(0)}}@keyframes _exit_179wx_53{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(50%)}}@media (max-width: 420px){._root_179wx_3{width:100%}}',Ji="data:image/png;base64,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";function $i({detach:e,requestPermission:t,eventEmitter:n}){const[r,i]=et("enter");function o(){r==="exit"&&e()}return qt(()=>n.on("detachViews",function(){i("exit")}),[]),S(nt,{stylesText:Zi,children:[S(on,{animationState:r}),S(nn,{position:"center-center",children:S("div",{className:M(Kt.root,Kt[r]),onClick:t,onAnimationEnd:o,children:[S("div",{className:M(Kt.checkbox),children:[S("div",{className:M(Kt["checkbox-control"])}),S("div",{className:M(Kt["checkbox-text"]),children:"I’m not a robot"})]}),S("img",{src:Ji,alt:"",className:M(Kt.icon)})]})})]})}function to(e){const t=document.createElement("div");function n(){J(null,t),t.remove()}document.body.appendChild(t),J(S($i,{detach:n,...e}),t)}const j=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,T=Object.keys,V=Array.isArray;function q(e,t){return typeof t!="object"||T(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>"u"||j.Promise||(j.Promise=Promise);const Wt=Object.getPrototypeOf,eo={}.hasOwnProperty;function z(e,t){return eo.call(e,t)}function Ot(e,t){typeof t=="function"&&(t=t(Wt(e))),(typeof Reflect>"u"?T:Reflect.ownKeys)(t).forEach(n=>{rt(e,n,t[n])})}const Er=Object.defineProperty;function rt(e,t,n,r){Er(e,t,q(n&&z(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function jt(e){return{from:function(t){return e.prototype=Object.create(t.prototype),rt(e.prototype,"constructor",e),{extend:Ot.bind(null,e.prototype)}}}}const no=Object.getOwnPropertyDescriptor;function sn(e,t){let n;return no(e,t)||(n=Wt(e))&&sn(n,t)}const ro=[].slice;function xe(e,t,n){return ro.call(e,t,n)}function Sr(e,t){return t(e)}function Xt(e){if(!e)throw new Error("Assertion Failed")}function Ir(e){j.setImmediate?setImmediate(e):setTimeout(e,0)}function Br(e,t){return e.reduce((n,r,i)=>{var o=t(r,i);return o&&(n[o[0]]=o[1]),n},{})}function it(e,t){if(typeof t=="string"&&z(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,i=t.length;r<i;++r){var o=it(e,t[r]);n.push(o)}return n}var s=t.indexOf(".");if(s!==-1){var l=e[t.substr(0,s)];return l===void 0?void 0:it(l,t.substr(s+1))}}function Z(e,t,n){if(e&&t!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){Xt(typeof n!="string"&&"length"in n);for(var r=0,i=t.length;r<i;++r)Z(e,t[r],n[r])}else{var o=t.indexOf(".");if(o!==-1){var s=t.substr(0,o),l=t.substr(o+1);if(l==="")n===void 0?V(e)&&!isNaN(parseInt(s))?e.splice(s,1):delete e[s]:e[s]=n;else{var c=e[s];c&&z(e,s)||(c=e[s]={}),Z(c,l,n)}}else n===void 0?V(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function Rr(e){var t={};for(var n in e)z(e,n)&&(t[n]=e[n]);return t}const io=[].concat;function Pr(e){return io.apply([],e)}const Kr="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Pr([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>j[e]),oo=Kr.map(e=>j[e]);Br(Kr,e=>[e,!0]);let ht=null;function Yt(e){ht=typeof WeakMap<"u"&&new WeakMap;const t=an(e);return ht=null,t}function an(e){if(!e||typeof e!="object")return e;let t=ht&&ht.get(e);if(t)return t;if(V(e)){t=[],ht&&ht.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(an(e[n]))}else if(oo.indexOf(e.constructor)>=0)t=e;else{const o=Wt(e);for(var i in t=o===Object.prototype?{}:Object.create(o),ht&&ht.set(e,t),e)z(e,i)&&(t[i]=an(e[i]))}return t}const{toString:so}={};function cn(e){return so.call(e).slice(8,-1)}const ln=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ao=typeof ln=="symbol"?function(e){var t;return e!=null&&(t=e[ln])&&t.apply(e)}:function(){return null},Dt={};function ot(e){var t,n,r,i;if(arguments.length===1){if(V(e))return e.slice();if(this===Dt&&typeof e=="string")return[e];if(i=ao(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(e==null)return[e];if(typeof(t=e.length)=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const un=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1;var $=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Or(e,t){$=e,jr=t}var jr=()=>!0;const co=!new Error("").stack;function vt(){if(co)try{throw vt.arguments,new Error}catch(e){return e}return new Error}function hn(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter(jr).map(r=>`
`+r).join("")):""}var Dr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],dn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Dr),lo={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Mt(e,t){this._e=vt(),this.name=e,this.message=t}function Mr(e,t){return e+". Errors: "+Object.keys(t).map(n=>t[n].toString()).filter((n,r,i)=>i.indexOf(n)===r).join(`
`)}function Ae(e,t,n,r){this._e=vt(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=Mr(e,t)}function zt(e,t){this._e=vt(),this.name="BulkError",this.failures=Object.keys(t).map(n=>t[n]),this.failuresByPos=t,this.message=Mr(e,t)}jt(Mt).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+hn(this._e,2))}},toString:function(){return this.name+": "+this.message}}),jt(Ae).from(Mt),jt(zt).from(Mt);var fn=dn.reduce((e,t)=>(e[t]=t+"Error",e),{});const uo=Mt;var I=dn.reduce((e,t)=>{var n=t+"Error";function r(i,o){this._e=vt(),this.name=n,i?typeof i=="string"?(this.message=`${i}${o?`
 `+o:""}`,this.inner=o||null):typeof i=="object"&&(this.message=`${i.name} ${i.message}`,this.inner=i):(this.message=lo[t]||n,this.inner=null)}return jt(r).from(uo),e[t]=r,e},{});I.Syntax=SyntaxError,I.Type=TypeError,I.Range=RangeError;var Fr=Dr.reduce((e,t)=>(e[t+"Error"]=I[t],e),{}),ke=dn.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=I[t]),e),{});function K(){}function Gt(e){return e}function ho(e,t){return e==null||e===Gt?t:function(n){return t(e(n))}}function bt(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function fo(e,t){return e===K?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?bt(r,this.onsuccess):r),i&&(this.onerror=this.onerror?bt(i,this.onerror):i),o!==void 0?o:n}}function po(e,t){return e===K?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?bt(n,this.onsuccess):n),r&&(this.onerror=this.onerror?bt(r,this.onerror):r)}}function _o(e,t){return e===K?t:function(n){var r=e.apply(this,arguments);q(n,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?bt(i,this.onsuccess):i),o&&(this.onerror=this.onerror?bt(o,this.onerror):o),r===void 0?s===void 0?void 0:s:q(r,s)}}function mo(e,t){return e===K?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function pn(e,t){return e===K?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then(function(){return t.apply(r,o)})}return t.apply(this,arguments)}}ke.ModifyError=Ae,ke.DexieError=Mt,ke.BulkError=zt;var Zt={};const Nr=100,[_n,Ce,mn]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,Wt(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Wt(t),e]})(),Ur=Ce&&Ce.then,Ee=_n&&_n.constructor,yn=!!mn;var gn=!1,yo=mn?()=>{mn.then(Re)}:j.setImmediate?setImmediate.bind(null,Re):j.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{Re(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(Re,0)},Jt=function(e,t){$t.push([e,t]),Se&&(yo(),Se=!1)},vn=!0,Se=!0,wt=[],Ie=[],bn=null,wn=Gt,Ft={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:zr,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{zr(e[0],e[1])}catch{}})}},E=Ft,$t=[],xt=0,Be=[];function C(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=K,this._lib=!1;var t=this._PSD=E;if($&&(this._stackHolder=vt(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==Zt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&An(this,this._value))}this._state=null,this._value=null,++t.ref,Hr(this,e)}const xn={get:function(){var e=E,t=Oe;function n(r,i){var o=!e.global&&(e!==E||t!==Oe);const s=o&&!st();var l=new C((c,h)=>{kn(this,new Tr(De(r,e,o,s),De(i,e,o,s),c,h,e))});return $&&Qr(l,this),l}return n.prototype=Zt,n},set:function(e){rt(this,"then",e&&e.prototype===Zt?xn:{get:function(){return e},set:xn.set})}};function Tr(e,t,n,r,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=i}function Hr(e,t){try{t(n=>{if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&te();n&&typeof n.then=="function"?Hr(e,(i,o)=>{n instanceof C?n._then(i,o):n.then(i,o)}):(e._state=!0,e._value=n,Vr(e)),r&&ee()}},An.bind(null,e))}catch(n){An(e,n)}}function An(e,t){if(Ie.push(t),e._state===null){var n=e._lib&&te();t=wn(t),e._state=!1,e._value=t,$&&t!==null&&typeof t=="object"&&!t._promise&&function(r,i,o){try{r.apply(null,o)}catch(s){i&&i(s)}}(()=>{var r=sn(t,"stack");t._promise=e,rt(t,"stack",{get:()=>gn?r&&(r.get?r.get.apply(t):r.value):e.stack})}),function(r){wt.some(i=>i._value===r._value)||wt.push(r)}(e),Vr(e),n&&ee()}}function Vr(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)kn(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),xt===0&&(++xt,Jt(()=>{--xt==0&&Cn()},[]))}function kn(e,t){if(e._state!==null){var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++xt,Jt(go,[n,e,t])}else e._listeners.push(t)}function go(e,t,n){try{bn=t;var r,i=t._value;t._state?r=e(i):(Ie.length&&(Ie=[]),r=e(i),Ie.indexOf(i)===-1&&function(o){for(var s=wt.length;s;)if(wt[--s]._value===o._value)return void wt.splice(s,1)}(t)),n.resolve(r)}catch(o){n.reject(o)}finally{bn=null,--xt==0&&Cn(),--n.psd.ref||n.psd.finalize()}}function Lr(e,t,n){if(t.length===n)return t;var r="";if(e._state===!1){var i,o,s=e._value;s!=null?(i=s.name||"Error",o=s.message||s,r=hn(s,0)):(i=s,o=""),t.push(i+(o?": "+o:"")+r)}return $&&((r=hn(e._stackHolder,2))&&t.indexOf(r)===-1&&t.push(r),e._prev&&Lr(e._prev,t,n)),t}function Qr(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Re(){te()&&ee()}function te(){var e=vn;return vn=!1,Se=!1,e}function ee(){var e,t,n;do for(;$t.length>0;)for(e=$t,$t=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while($t.length>0);vn=!0,Se=!0}function Cn(){var e=wt;wt=[],e.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var t=Be.slice(0),n=t.length;n;)t[--n]()}function Pe(e){return new C(Zt,!1,e)}function D(e,t){var n=E;return function(){var r=te(),i=E;try{return ft(n,!0),e.apply(this,arguments)}catch(o){t&&t(o)}finally{ft(i,!1),r&&ee()}}}Ot(C.prototype,{then:xn,_then:function(e,t){kn(this,new Tr(null,null,e,t,E))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,r=>r instanceof t?n(r):Pe(r)):this.then(null,r=>r&&r.name===t?n(r):Pe(r))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),Pe(t)))},stack:{get:function(){if(this._stack)return this._stack;try{gn=!0;var e=Lr(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{gn=!1}}},timeout:function(e,t){return e<1/0?new C((n,r)=>{var i=setTimeout(()=>r(new I.Timeout(t)),e);this.then(n,r).finally(clearTimeout.bind(null,i))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&rt(C.prototype,Symbol.toStringTag,"Dexie.Promise"),Ft.env=qr(),Ot(C,{all:function(){var e=ot.apply(null,arguments).map(je);return new C(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach((i,o)=>C.resolve(i).then(s=>{e[o]=s,--r||t(e)},n))})},resolve:e=>{if(e instanceof C)return e;if(e&&typeof e.then=="function")return new C((n,r)=>{e.then(n,r)});var t=new C(Zt,!0,e);return Qr(t,bn),t},reject:Pe,race:function(){var e=ot.apply(null,arguments).map(je);return new C((t,n)=>{e.map(r=>C.resolve(r).then(t,n))})},PSD:{get:()=>E,set:e=>E=e},totalEchoes:{get:()=>Oe},newPSD:dt,usePSD:Ut,scheduler:{get:()=>Jt,set:e=>{Jt=e}},rejectionMapper:{get:()=>wn,set:e=>{wn=e}},follow:(e,t)=>new C((n,r)=>dt((i,o)=>{var s=E;s.unhandleds=[],s.onunhandled=o,s.finalize=bt(function(){(function(l){function c(){l(),Be.splice(Be.indexOf(c),1)}Be.push(c),++xt,Jt(()=>{--xt==0&&Cn()},[])})(()=>{this.unhandleds.length===0?i():o(this.unhandleds[0])})},s.finalize),e()},t,n,r))}),Ee&&(Ee.allSettled&&rt(C,"allSettled",function(){const e=ot.apply(null,arguments).map(je);return new C(t=>{e.length===0&&t([]);let n=e.length;const r=new Array(n);e.forEach((i,o)=>C.resolve(i).then(s=>r[o]={status:"fulfilled",value:s},s=>r[o]={status:"rejected",reason:s}).then(()=>--n||t(r)))})}),Ee.any&&typeof AggregateError<"u"&&rt(C,"any",function(){const e=ot.apply(null,arguments).map(je);return new C((t,n)=>{e.length===0&&n(new AggregateError([]));let r=e.length;const i=new Array(r);e.forEach((o,s)=>C.resolve(o).then(l=>t(l),l=>{i[s]=l,--r||n(new AggregateError(i))}))})}));const L={awaits:0,echoes:0,id:0};var vo=0,Ke=[],En=0,Oe=0,bo=0;function dt(e,t,n,r){var i=E,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++bo;var s=Ft.env;o.env=yn?{Promise:C,PromiseProp:{value:C,configurable:!0,writable:!0},all:C.all,race:C.race,allSettled:C.allSettled,any:C.any,resolve:C.resolve,reject:C.reject,nthen:Xr(s.nthen,o),gthen:Xr(s.gthen,o)}:{},t&&q(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var l=Ut(o,e,n,r);return o.ref===0&&o.finalize(),l}function Nt(){return L.id||(L.id=++vo),++L.awaits,L.echoes+=Nr,L.id}function st(){return!!L.awaits&&(--L.awaits==0&&(L.id=0),L.echoes=L.awaits*Nr,!0)}function je(e){return L.echoes&&e&&e.constructor===Ee?(Nt(),e.then(t=>(st(),t),t=>(st(),H(t)))):e}function wo(e){++Oe,L.echoes&&--L.echoes!=0||(L.echoes=L.id=0),Ke.push(E),ft(e,!0)}function xo(){var e=Ke[Ke.length-1];Ke.pop(),ft(e,!1)}function ft(e,t){var n=E;if((t?!L.echoes||En++&&e===E:!En||--En&&e===E)||Wr(t?wo.bind(null,e):xo),e!==E&&(E=e,n===Ft&&(Ft.env=qr()),yn)){var r=Ft.env.Promise,i=e.env;Ce.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(j,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function qr(){var e=j.Promise;return yn?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(j,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Ce.then,gthen:e.prototype.then}:{}}function Ut(e,t,n,r,i){var o=E;try{return ft(e,!0),t(n,r,i)}finally{ft(o,!1)}}function Wr(e){Ur.call(_n,e)}function De(e,t,n,r){return typeof e!="function"?e:function(){var i=E;n&&Nt(),ft(t,!0);try{return e.apply(this,arguments)}finally{ft(i,!1),r&&Wr(st)}}}function Xr(e,t){return function(n,r){return e.call(this,De(n,t),De(r,t))}}(""+Ur).indexOf("[native code]")===-1&&(Nt=st=K);const Yr="unhandledrejection";function zr(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var r,i={promise:t,reason:e};if(j.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(Yr,!0,!0),q(r,i)):j.CustomEvent&&q(r=new CustomEvent(Yr,{detail:i}),i),r&&j.dispatchEvent&&(dispatchEvent(r),!j.PromiseRejectionEvent&&j.onunhandledrejection))try{j.onunhandledrejection(r)}catch{}$&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var H=C.reject;function Sn(e,t,n,r){if(e.idbdb&&(e._state.openComplete||E.letThrough||e._vip)){var i=e._createTransaction(t,n,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(o){return o.name===fn.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>Sn(e,t,n,r))):H(o)}return i._promise(t,(o,s)=>dt(()=>(E.trans=i,r(o,s,i)))).then(o=>i._completion.then(()=>o))}if(e._state.openComplete)return H(new I.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return H(new I.DatabaseClosed);e.open().catch(K)}return e._state.dbReadyPromise.then(()=>Sn(e,t,n,r))}const Gr="3.2.5",At="￿",In=-1/0,at="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Zr="String expected.",ne=[],Me=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Ao=Me,ko=Me,Jr=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),Fe="__dbnames",Bn="readonly",Rn="readwrite";function kt(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const $r={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ne(e){return typeof e!="string"||/\./.test(e)?t=>t:t=>(t[e]===void 0&&e in t&&delete(t=Yt(t))[e],t)}class Co{_trans(t,n,r){const i=this._tx||E.trans,o=this.name;function s(c,h,u){if(!u.schema[o])throw new I.NotFound("Table "+o+" not part of transaction");return n(u.idbtrans,u)}const l=te();try{return i&&i.db===this.db?i===E.trans?i._promise(t,s,r):dt(()=>i._promise(t,s,r),{trans:i,transless:E.transless||E}):Sn(this.db,t,[this.name],s)}finally{l&&ee()}}get(t,n){return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:t}).then(i=>this.hook.reading.fire(i))).then(n)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(V(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const n=T(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(h=>{if(h.compound&&n.every(u=>h.keyPath.indexOf(u)>=0)){for(let u=0;u<n.length;++u)if(n.indexOf(h.keyPath[u])===-1)return!1;return!0}return!1}).sort((h,u)=>h.keyPath.length-u.keyPath.length)[0];if(r&&this.db._maxKey!==At){const h=r.keyPath.slice(0,n.length);return this.where(h).equals(h.map(u=>t[u]))}!r&&$&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:i}=this.schema,o=this.db._deps.indexedDB;function s(h,u){try{return o.cmp(h,u)===0}catch{return!1}}const[l,c]=n.reduce(([h,u],a)=>{const d=i[a],f=t[a];return[h||d,h||!d?kt(u,d&&d.multi?y=>{const m=it(y,a);return V(m)&&m.some(g=>s(f,g))}:y=>s(f,it(y,a))):u]},[null,null]);return l?this.where(l.name).equals(t[l.keyPath]).filter(c):r?this.filter(c):this.where(n).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,V(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const n=r=>{if(!r)return r;const i=Object.create(t.prototype);for(var o in r)if(z(r,o))try{i[o]=r[o]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),t}defineClass(){return this.mapToClass(function(t){q(this,t)})}add(t,n){const{auto:r,keyPath:i}=this.schema.primKey;let o=t;return i&&r&&(o=Ne(i)(t)),this._trans("readwrite",s=>this.core.mutate({trans:s,type:"add",keys:n!=null?[n]:null,values:[o]})).then(s=>s.numFailures?C.reject(s.failures[0]):s.lastResult).then(s=>{if(i)try{Z(t,i,s)}catch{}return s})}update(t,n){if(typeof t!="object"||V(t))return this.where(":id").equals(t).modify(n);{const r=it(t,this.schema.primKey.keyPath);if(r===void 0)return H(new I.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?T(n).forEach(i=>{Z(t,i,n[i])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(t,n){const{auto:r,keyPath:i}=this.schema.primKey;let o=t;return i&&r&&(o=Ne(i)(t)),this._trans("readwrite",s=>this.core.mutate({trans:s,type:"put",values:[o],keys:n!=null?[n]:null})).then(s=>s.numFailures?C.reject(s.failures[0]):s.lastResult).then(s=>{if(i)try{Z(t,i,s)}catch{}return s})}delete(t){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[t]})).then(n=>n.numFailures?C.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:$r})).then(t=>t.numFailures?C.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",n=>this.core.getMany({keys:t,trans:n}).then(r=>r.map(i=>this.hook.reading.fire(i))))}bulkAdd(t,n,r){const i=Array.isArray(n)?n:void 0,o=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",s=>{const{auto:l,keyPath:c}=this.schema.primKey;if(c&&i)throw new I.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new I.InvalidArgument("Arguments objects and keys must have the same length");const h=t.length;let u=c&&l?t.map(Ne(c)):t;return this.core.mutate({trans:s,type:"add",keys:i,values:u,wantResults:o}).then(({numFailures:a,results:d,lastResult:f,failures:y})=>{if(a===0)return o?d:f;throw new zt(`${this.name}.bulkAdd(): ${a} of ${h} operations failed`,y)})})}bulkPut(t,n,r){const i=Array.isArray(n)?n:void 0,o=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",s=>{const{auto:l,keyPath:c}=this.schema.primKey;if(c&&i)throw new I.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new I.InvalidArgument("Arguments objects and keys must have the same length");const h=t.length;let u=c&&l?t.map(Ne(c)):t;return this.core.mutate({trans:s,type:"put",keys:i,values:u,wantResults:o}).then(({numFailures:a,results:d,lastResult:f,failures:y})=>{if(a===0)return o?d:f;throw new zt(`${this.name}.bulkPut(): ${a} of ${h} operations failed`,y)})})}bulkDelete(t){const n=t.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:t})).then(({numFailures:r,lastResult:i,failures:o})=>{if(r===0)return i;throw new zt(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,o)})}}function re(e){var t={},n=function(s,l){if(l){for(var c=arguments.length,h=new Array(c-1);--c;)h[c-1]=arguments[c];return t[s].subscribe.apply(null,h),e}if(typeof s=="string")return t[s]};n.addEventType=o;for(var r=1,i=arguments.length;r<i;++r)o(arguments[r]);return n;function o(s,l,c){if(typeof s!="object"){var h;l||(l=mo),c||(c=K);var u={subscribers:[],fire:c,subscribe:function(a){u.subscribers.indexOf(a)===-1&&(u.subscribers.push(a),u.fire=l(u.fire,a))},unsubscribe:function(a){u.subscribers=u.subscribers.filter(function(d){return d!==a}),u.fire=u.subscribers.reduce(l,c)}};return t[s]=n[s]=u,u}T(h=s).forEach(function(a){var d=h[a];if(V(d))o(a,h[a][0],h[a][1]);else{if(d!=="asap")throw new I.InvalidArgument("Invalid event config");var f=o(a,Gt,function(){for(var y=arguments.length,m=new Array(y);y--;)m[y]=arguments[y];f.subscribers.forEach(function(g){Ir(function(){g.apply(null,m)})})})}})}}function ie(e,t){return jt(t).from({prototype:e}),t}function Tt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Pn(e,t){e.filter=kt(e.filter,t)}function Kn(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>kt(r(),t()):t,e.justLimit=n&&!r}function Ue(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new I.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function ti(e,t,n){const r=Ue(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function Te(e,t,n,r){const i=e.replayFilter?kt(e.filter,e.replayFilter()):e.filter;if(e.or){const o={},s=(l,c,h)=>{if(!i||i(c,h,d=>c.stop(d),d=>c.fail(d))){var u=c.primaryKey,a=""+u;a==="[object ArrayBuffer]"&&(a=""+new Uint8Array(u)),z(o,a)||(o[a]=!0,t(l,c,h))}};return Promise.all([e.or._iterate(s,n),ei(ti(e,r,n),e.algorithm,s,!e.keysOnly&&e.valueMapper)])}return ei(ti(e,r,n),kt(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function ei(e,t,n,r){var i=D(r?(o,s,l)=>n(r(o),s,l):n);return e.then(o=>{if(o)return o.start(()=>{var s=()=>o.continue();t&&!t(o,l=>s=l,l=>{o.stop(l),s=K},l=>{o.fail(l),s=K})||i(o.value,o,l=>s=l),s()})})}function W(e,t){try{const n=ni(e),r=ni(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(i,o){const s=i.length,l=o.length,c=s<l?s:l;for(let h=0;h<c;++h)if(i[h]!==o[h])return i[h]<o[h]?-1:1;return s===l?0:s<l?-1:1}(ri(e),ri(t));case"Array":return function(i,o){const s=i.length,l=o.length,c=s<l?s:l;for(let h=0;h<c;++h){const u=W(i[h],o[h]);if(u!==0)return u}return s===l?0:s<l?-1:1}(e,t)}}catch{}return NaN}function ni(e){const t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";const n=cn(e);return n==="ArrayBuffer"?"binary":n}function ri(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class Eo{_read(t,n){var r=this._ctx;return r.error?r.table._trans(null,H.bind(null,r.error)):r.table._trans("readonly",t).then(n)}_write(t){var n=this._ctx;return n.error?n.table._trans(null,H.bind(null,n.error)):n.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var n=this._ctx;n.algorithm=kt(n.algorithm,t)}_iterate(t,n){return Te(this._ctx,t,n,this._ctx.table.core)}clone(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&q(r,t),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(t){var n=this._ctx;return this._read(r=>Te(n,t,r,n.table.core))}count(t){return this._read(n=>{const r=this._ctx,i=r.table.core;if(Tt(r,!0))return i.count({trans:n,query:{index:Ue(r,i.schema),range:r.range}}).then(s=>Math.min(s,r.limit));var o=0;return Te(r,()=>(++o,!1),n,i).then(()=>o)}).then(t)}sortBy(t,n){const r=t.split(".").reverse(),i=r[0],o=r.length-1;function s(h,u){return u?s(h[r[u]],u-1):h[i]}var l=this._ctx.dir==="next"?1:-1;function c(h,u){var a=s(h,o),d=s(u,o);return a<d?-l:a>d?l:0}return this.toArray(function(h){return h.sort(c)}).then(n)}toArray(t){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&Tt(r,!0)&&r.limit>0){const{valueMapper:i}=r,o=Ue(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:o,range:r.range}}).then(({result:s})=>i?s.map(i):s)}{const i=[];return Te(r,o=>i.push(o),n,r.table.core).then(()=>i)}},t)}offset(t){var n=this._ctx;return t<=0||(n.offset+=t,Tt(n)?Kn(n,()=>{var r=t;return(i,o)=>r===0||(r===1?(--r,!1):(o(()=>{i.advance(r),r=0}),!1))}):Kn(n,()=>{var r=t;return()=>--r<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),Kn(this._ctx,()=>{var n=t;return function(r,i,o){return--n<=0&&i(o),n>=0}},!0),this}until(t,n){return Pn(this._ctx,function(r,i,o){return!t(r.value)||(i(o),n)}),this}first(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var n,r;return Pn(this._ctx,function(i){return t(i.value)}),n=this._ctx,r=t,n.isMatch=kt(n.isMatch,r),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.key,i)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.primaryKey,i)})}keys(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.key)}).then(function(){return r}).then(t)}primaryKeys(t){var n=this._ctx;if(n.dir==="next"&&Tt(n,!0)&&n.limit>0)return this._read(i=>{var o=Ue(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:o,range:n.range}})}).then(({result:i})=>i).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.primaryKey)}).then(function(){return r}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(n){return n[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return Pn(this._ctx,function(i){var o=i.primaryKey.toString(),s=z(r,o);return r[o]=!0,!s}),this}modify(t){var n=this._ctx;return this._write(r=>{var i;if(typeof t=="function")i=t;else{var o=T(t),s=o.length;i=function(m){for(var g=!1,_=0;_<s;++_){var p=o[_],b=t[p];it(m,p)!==b&&(Z(m,p,b),g=!0)}return g}}const l=n.table.core,{outbound:c,extractKey:h}=l.schema.primaryKey,u=this.db._options.modifyChunkSize||200,a=[];let d=0;const f=[],y=(m,g)=>{const{failures:_,numFailures:p}=g;d+=m-p;for(let b of T(_))a.push(_[b])};return this.clone().primaryKeys().then(m=>{const g=_=>{const p=Math.min(u,m.length-_);return l.getMany({trans:r,keys:m.slice(_,_+p),cache:"immutable"}).then(b=>{const x=[],A=[],k=c?[]:null,w=[];for(let v=0;v<p;++v){const O=b[v],P={value:Yt(O),primKey:m[_+v]};i.call(P,P.value,P)!==!1&&(P.value==null?w.push(m[_+v]):c||W(h(O),h(P.value))===0?(A.push(P.value),c&&k.push(m[_+v])):(w.push(m[_+v]),x.push(P.value)))}const B=Tt(n)&&n.limit===1/0&&(typeof t!="function"||t===On)&&{index:n.index,range:n.range};return Promise.resolve(x.length>0&&l.mutate({trans:r,type:"add",values:x}).then(v=>{for(let O in v.failures)w.splice(parseInt(O),1);y(x.length,v)})).then(()=>(A.length>0||B&&typeof t=="object")&&l.mutate({trans:r,type:"put",keys:k,values:A,criteria:B,changeSpec:typeof t!="function"&&t}).then(v=>y(A.length,v))).then(()=>(w.length>0||B&&t===On)&&l.mutate({trans:r,type:"delete",keys:w,criteria:B}).then(v=>y(w.length,v))).then(()=>m.length>_+p&&g(_+u))})};return g(0).then(()=>{if(a.length>0)throw new Ae("Error modifying one or more objects",a,d,f);return m.length})})})}delete(){var t=this._ctx,n=t.range;return Tt(t)&&(t.isPrimKey&&!ko||n.type===3)?this._write(r=>{const{primaryKey:i}=t.table.core.schema,o=n;return t.table.core.count({trans:r,query:{index:i,range:o}}).then(s=>t.table.core.mutate({trans:r,type:"deleteRange",range:o}).then(({failures:l,lastResult:c,results:h,numFailures:u})=>{if(u)throw new Ae("Could not delete some values",Object.keys(l).map(a=>l[a]),s-u);return s-u}))}):this.modify(On)}}const On=(e,t)=>t.value=null;function So(e,t){return e<t?-1:e===t?0:1}function Io(e,t){return e>t?-1:e===t?0:1}function G(e,t,n){var r=e instanceof oi?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Ht(e){return new e.Collection(e,()=>ii("")).limit(0)}function Bo(e,t,n,r,i,o){for(var s=Math.min(e.length,r.length),l=-1,c=0;c<s;++c){var h=t[c];if(h!==r[c])return i(e[c],n[c])<0?e.substr(0,c)+n[c]+n.substr(c+1):i(e[c],r[c])<0?e.substr(0,c)+r[c]+n.substr(c+1):l>=0?e.substr(0,l)+t[l]+n.substr(l+1):null;i(e[c],h)<0&&(l=c)}return s<r.length&&o==="next"?e+n.substr(e.length):s<e.length&&o==="prev"?e.substr(0,n.length):l<0?null:e.substr(0,l)+r[l]+n.substr(l+1)}function He(e,t,n,r){var i,o,s,l,c,h,u,a=n.length;if(!n.every(m=>typeof m=="string"))return G(e,Zr);function d(m){i=function(_){return _==="next"?p=>p.toUpperCase():p=>p.toLowerCase()}(m),o=function(_){return _==="next"?p=>p.toLowerCase():p=>p.toUpperCase()}(m),s=m==="next"?So:Io;var g=n.map(function(_){return{lower:o(_),upper:i(_)}}).sort(function(_,p){return s(_.lower,p.lower)});l=g.map(function(_){return _.upper}),c=g.map(function(_){return _.lower}),h=m,u=m==="next"?"":r}d("next");var f=new e.Collection(e,()=>pt(l[0],c[a-1]+r));f._ondirectionchange=function(m){d(m)};var y=0;return f._addAlgorithm(function(m,g,_){var p=m.key;if(typeof p!="string")return!1;var b=o(p);if(t(b,c,y))return!0;for(var x=null,A=y;A<a;++A){var k=Bo(p,b,l[A],c[A],s,h);k===null&&x===null?y=A+1:(x===null||s(x,k)>0)&&(x=k)}return g(x!==null?function(){m.continue(x+u)}:_),!1}),f}function pt(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function ii(e){return{type:1,lower:e,upper:e}}class oi{get Collection(){return this._ctx.table.db.Collection}between(t,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||i)&&(!r||!i)?Ht(this):new this.Collection(this,()=>pt(t,n,!r,!i))}catch{return G(this,at)}}equals(t){return t==null?G(this,at):new this.Collection(this,()=>ii(t))}above(t){return t==null?G(this,at):new this.Collection(this,()=>pt(t,void 0,!0))}aboveOrEqual(t){return t==null?G(this,at):new this.Collection(this,()=>pt(t,void 0,!1))}below(t){return t==null?G(this,at):new this.Collection(this,()=>pt(void 0,t,!1,!0))}belowOrEqual(t){return t==null?G(this,at):new this.Collection(this,()=>pt(void 0,t))}startsWith(t){return typeof t!="string"?G(this,Zr):this.between(t,t+At,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):He(this,(n,r)=>n.indexOf(r[0])===0,[t],At)}equalsIgnoreCase(t){return He(this,(n,r)=>n===r[0],[t],"")}anyOfIgnoreCase(){var t=ot.apply(Dt,arguments);return t.length===0?Ht(this):He(this,(n,r)=>r.indexOf(n)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=ot.apply(Dt,arguments);return t.length===0?Ht(this):He(this,(n,r)=>r.some(i=>n.indexOf(i)===0),t,At)}anyOf(){const t=ot.apply(Dt,arguments);let n=this._cmp;try{t.sort(n)}catch{return G(this,at)}if(t.length===0)return Ht(this);const r=new this.Collection(this,()=>pt(t[0],t[t.length-1]));r._ondirectionchange=o=>{n=o==="next"?this._ascending:this._descending,t.sort(n)};let i=0;return r._addAlgorithm((o,s,l)=>{const c=o.key;for(;n(c,t[i])>0;)if(++i,i===t.length)return s(l),!1;return n(c,t[i])===0||(s(()=>{o.continue(t[i])}),!1)}),r}notEqual(t){return this.inAnyRange([[In,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=ot.apply(Dt,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return G(this,at)}const n=t.reduce((r,i)=>r?r.concat([[r[r.length-1][1],i]]):[[In,i]],null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,n){const r=this._cmp,i=this._ascending,o=this._descending,s=this._min,l=this._max;if(t.length===0)return Ht(this);if(!t.every(p=>p[0]!==void 0&&p[1]!==void 0&&i(p[0],p[1])<=0))return G(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",I.InvalidArgument);const c=!n||n.includeLowers!==!1,h=n&&n.includeUppers===!0;let u,a=i;function d(p,b){return a(p[0],b[0])}try{u=t.reduce(function(p,b){let x=0,A=p.length;for(;x<A;++x){const k=p[x];if(r(b[0],k[1])<0&&r(b[1],k[0])>0){k[0]=s(k[0],b[0]),k[1]=l(k[1],b[1]);break}}return x===A&&p.push(b),p},[]),u.sort(d)}catch{return G(this,at)}let f=0;const y=h?p=>i(p,u[f][1])>0:p=>i(p,u[f][1])>=0,m=c?p=>o(p,u[f][0])>0:p=>o(p,u[f][0])>=0;let g=y;const _=new this.Collection(this,()=>pt(u[0][0],u[u.length-1][1],!c,!h));return _._ondirectionchange=p=>{p==="next"?(g=y,a=i):(g=m,a=o),u.sort(d)},_._addAlgorithm((p,b,x)=>{for(var A=p.key;g(A);)if(++f,f===u.length)return b(x),!1;return!!function(k){return!y(k)&&!m(k)}(A)||(this._cmp(A,u[f][1])===0||this._cmp(A,u[f][0])===0||b(()=>{a===i?p.continue(u[f][0]):p.continue(u[f][1])}),!1)}),_}startsWithAnyOf(){const t=ot.apply(Dt,arguments);return t.every(n=>typeof n=="string")?t.length===0?Ht(this):this.inAnyRange(t.map(n=>[n,n+At])):G(this,"startsWithAnyOf() only works with strings")}}function tt(e){return D(function(t){return oe(t),e(t.target.error),!1})}function oe(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const se="storagemutated",_t="x-storagemutated-1",mt=re(null,se);class Ro{_lock(){return Xt(!E.global),++this._reculock,this._reculock!==1||E.global||(E.lockOwnerFor=this),this}_unlock(){if(Xt(!E.global),--this._reculock==0)for(E.global||(E.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{Ut(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&E.lockOwnerFor!==this}create(t){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(Xt(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new I.DatabaseClosed(r);case"MissingAPIError":throw new I.MissingAPI(r.message,r);default:throw new I.OpenFailed(r)}if(!this.active)throw new I.TransactionInactive;return Xt(this._completion._state===null),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=D(i=>{oe(i),this._reject(t.error)}),t.onabort=D(i=>{oe(i),this.active&&this._reject(new I.Abort(t.error)),this.active=!1,this.on("abort").fire(i)}),t.oncomplete=D(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&mt.storagemutated.fire(t.mutatedParts)}),this}_promise(t,n,r){if(t==="readwrite"&&this.mode!=="readwrite")return H(new I.ReadOnly("Transaction is readonly"));if(!this.active)return H(new I.TransactionInactive);if(this._locked())return new C((o,s)=>{this._blockedFuncs.push([()=>{this._promise(t,n,r).then(o,s)},E])});if(r)return dt(()=>{var o=new C((s,l)=>{this._lock();const c=n(s,l,this);c&&c.then&&c.then(s,l)});return o.finally(()=>this._unlock()),o._lib=!0,o});var i=new C((o,s)=>{var l=n(o,s,this);l&&l.then&&l.then(o,s)});return i._lib=!0,i}_root(){return this.parent?this.parent._root():this}waitFor(t){var n=this._root();const r=C.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function s(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=s)})()}var o=n._waitingFor;return new C((s,l)=>{r.then(c=>n._waitingQueue.push(D(s.bind(null,c))),c=>n._waitingQueue.push(D(l.bind(null,c)))).finally(()=>{n._waitingFor===o&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new I.Abort))}table(t){const n=this._memoizedTables||(this._memoizedTables={});if(z(n,t))return n[t];const r=this.schema[t];if(!r)throw new I.NotFound("Table "+t+" not part of transaction");const i=new this.db.Table(t,r,this);return i.core=this.db.core.table(t),n[t]=i,i}}function jn(e,t,n,r,i,o,s){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:o,src:(n&&!s?"&":"")+(r?"*":"")+(i?"++":"")+si(t)}}function si(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function ai(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:Br(n,r=>[r.name,r])}}let ae=e=>{try{return e.only([[]]),ae=()=>[[]],[[]]}catch{return ae=()=>At,At}};function Dn(e){return e==null?()=>{}:typeof e=="string"?function(t){return t.split(".").length===1?r=>r[t]:r=>it(r,t)}(e):t=>it(t,e)}function ci(e){return[].slice.call(e)}let Po=0;function ce(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function Ko(e,t,n){function r(c){if(c.type===3)return null;if(c.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:h,upper:u,lowerOpen:a,upperOpen:d}=c;return h===void 0?u===void 0?null:t.upperBound(u,!!d):u===void 0?t.lowerBound(h,!!a):t.bound(h,u,!!a,!!d)}const{schema:i,hasGetAll:o}=function(c,h){const u=ci(c.objectStoreNames);return{schema:{name:c.name,tables:u.map(a=>h.objectStore(a)).map(a=>{const{keyPath:d,autoIncrement:f}=a,y=V(d),m=d==null,g={},_={name:a.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:m,compound:y,keyPath:d,autoIncrement:f,unique:!0,extractKey:Dn(d)},indexes:ci(a.indexNames).map(p=>a.index(p)).map(p=>{const{name:b,unique:x,multiEntry:A,keyPath:k}=p,w={name:b,compound:V(k),keyPath:k,unique:x,multiEntry:A,extractKey:Dn(k)};return g[ce(k)]=w,w}),getIndexByKeyPath:p=>g[ce(p)]};return g[":id"]=_.primaryKey,d!=null&&(g[ce(d)]=_.primaryKey),_})},hasGetAll:u.length>0&&"getAll"in h.objectStore(u[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),s=i.tables.map(c=>function(h){const u=h.name;return{name:u,schema:h,mutate:function({trans:a,type:d,keys:f,values:y,range:m}){return new Promise((g,_)=>{g=D(g);const p=a.objectStore(u),b=p.keyPath==null,x=d==="put"||d==="add";if(!x&&d!=="delete"&&d!=="deleteRange")throw new Error("Invalid operation type: "+d);const{length:A}=f||y||{length:1};if(f&&y&&f.length!==y.length)throw new Error("Given keys array must have same length as given values array.");if(A===0)return g({numFailures:0,failures:{},results:[],lastResult:void 0});let k;const w=[],B=[];let v=0;const O=X=>{++v,oe(X)};if(d==="deleteRange"){if(m.type===4)return g({numFailures:v,failures:B,results:[],lastResult:void 0});m.type===3?w.push(k=p.clear()):w.push(k=p.delete(r(m)))}else{const[X,Q]=x?b?[y,f]:[y,null]:[f,null];if(x)for(let N=0;N<A;++N)w.push(k=Q&&Q[N]!==void 0?p[d](X[N],Q[N]):p[d](X[N])),k.onerror=O;else for(let N=0;N<A;++N)w.push(k=p[d](X[N])),k.onerror=O}const P=X=>{const Q=X.target.result;w.forEach((N,Vt)=>N.error!=null&&(B[Vt]=N.error)),g({numFailures:v,failures:B,results:d==="delete"?f:w.map(N=>N.result),lastResult:Q})};k.onerror=X=>{O(X),P(X)},k.onsuccess=P})},getMany:({trans:a,keys:d})=>new Promise((f,y)=>{f=D(f);const m=a.objectStore(u),g=d.length,_=new Array(g);let p,b=0,x=0;const A=w=>{const B=w.target;_[B._pos]=B.result,++x===b&&f(_)},k=tt(y);for(let w=0;w<g;++w)d[w]!=null&&(p=m.get(d[w]),p._pos=w,p.onsuccess=A,p.onerror=k,++b);b===0&&f(_)}),get:({trans:a,key:d})=>new Promise((f,y)=>{f=D(f);const m=a.objectStore(u).get(d);m.onsuccess=g=>f(g.target.result),m.onerror=tt(y)}),query:function(a){return d=>new Promise((f,y)=>{f=D(f);const{trans:m,values:g,limit:_,query:p}=d,b=_===1/0?void 0:_,{index:x,range:A}=p,k=m.objectStore(u),w=x.isPrimaryKey?k:k.index(x.name),B=r(A);if(_===0)return f({result:[]});if(a){const v=g?w.getAll(B,b):w.getAllKeys(B,b);v.onsuccess=O=>f({result:O.target.result}),v.onerror=tt(y)}else{let v=0;const O=g||!("openKeyCursor"in w)?w.openCursor(B):w.openKeyCursor(B),P=[];O.onsuccess=X=>{const Q=O.result;return Q?(P.push(g?Q.value:Q.primaryKey),++v===_?f({result:P}):void Q.continue()):f({result:P})},O.onerror=tt(y)}})}(o),openCursor:function({trans:a,values:d,query:f,reverse:y,unique:m}){return new Promise((g,_)=>{g=D(g);const{index:p,range:b}=f,x=a.objectStore(u),A=p.isPrimaryKey?x:x.index(p.name),k=y?m?"prevunique":"prev":m?"nextunique":"next",w=d||!("openKeyCursor"in A)?A.openCursor(r(b),k):A.openKeyCursor(r(b),k);w.onerror=tt(_),w.onsuccess=D(B=>{const v=w.result;if(!v)return void g(null);v.___id=++Po,v.done=!1;const O=v.continue.bind(v);let P=v.continuePrimaryKey;P&&(P=P.bind(v));const X=v.advance.bind(v),Q=()=>{throw new Error("Cursor not stopped")};v.trans=a,v.stop=v.continue=v.continuePrimaryKey=v.advance=()=>{throw new Error("Cursor not started")},v.fail=D(_),v.next=function(){let N=1;return this.start(()=>N--?this.continue():this.stop()).then(()=>this)},v.start=N=>{const Vt=new Promise((Y,St)=>{Y=D(Y),w.onerror=tt(St),v.fail=St,v.stop=ue=>{v.stop=v.continue=v.continuePrimaryKey=v.advance=Q,Y(ue)}}),Lt=()=>{if(w.result)try{N()}catch(Y){v.fail(Y)}else v.done=!0,v.start=()=>{throw new Error("Cursor behind last entry")},v.stop()};return w.onsuccess=D(Y=>{w.onsuccess=Lt,Lt()}),v.continue=O,v.continuePrimaryKey=P,v.advance=X,Lt(),Vt},g(v)},_)})},count({query:a,trans:d}){const{index:f,range:y}=a;return new Promise((m,g)=>{const _=d.objectStore(u),p=f.isPrimaryKey?_:_.index(f.name),b=r(y),x=b?p.count(b):p.count();x.onsuccess=D(A=>m(A.target.result)),x.onerror=tt(g)})}}}(c)),l={};return s.forEach(c=>l[c.name]=c),{stack:"dbcore",transaction:e.transaction.bind(e),table(c){if(!l[c])throw new Error(`Table '${c}' not found`);return l[c]},MIN_KEY:-1/0,MAX_KEY:ae(t),schema:i}}function Mn({_novip:e},t){const n=t.db,r=function(i,o,{IDBKeyRange:s,indexedDB:l},c){return{dbcore:function(u,a){return a.reduce((d,{create:f})=>({...d,...f(d)}),u)}(Ko(o,s,c),i.dbcore)}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach(i=>{const o=i.name;e.core.schema.tables.some(s=>s.name===o)&&(i.core=e.core.table(o),e[o]instanceof e.Table&&(e[o].core=i.core))})}function Ve({_novip:e},t,n,r){n.forEach(i=>{const o=r[i];t.forEach(s=>{const l=sn(s,i);(!l||"value"in l&&l.value===void 0)&&(s===e.Transaction.prototype||s instanceof e.Transaction?rt(s,i,{get(){return this.table(i)},set(c){Er(this,i,{value:c,writable:!0,configurable:!0,enumerable:!0})}}):s[i]=new e.Table(i,o))})})}function Fn({_novip:e},t){t.forEach(n=>{for(let r in n)n[r]instanceof e.Table&&delete n[r]})}function Oo(e,t){return e._cfg.version-t._cfg.version}function jo(e,t,n,r){const i=e._dbSchema,o=e._createTransaction("readwrite",e._storeNames,i);o.create(n),o._completion.catch(r);const s=o._reject.bind(o),l=E.transless||E;dt(()=>{E.trans=o,E.transless=l,t===0?(T(i).forEach(c=>{Nn(n,c,i[c].primKey,i[c].indexes)}),Mn(e,n),C.follow(()=>e.on.populate.fire(o)).catch(s)):function({_novip:c},h,u,a){const d=[],f=c._versions;let y=c._dbSchema=Tn(c,c.idbdb,a),m=!1;const g=f.filter(p=>p._cfg.version>=h);function _(){return d.length?C.resolve(d.shift()(u.idbtrans)).then(_):C.resolve()}return g.forEach(p=>{d.push(()=>{const b=y,x=p._cfg.dbschema;Hn(c,b,a),Hn(c,x,a),y=c._dbSchema=x;const A=li(b,x);A.add.forEach(w=>{Nn(a,w[0],w[1].primKey,w[1].indexes)}),A.change.forEach(w=>{if(w.recreate)throw new I.Upgrade("Not yet support for changing primary key");{const B=a.objectStore(w.name);w.add.forEach(v=>Un(B,v)),w.change.forEach(v=>{B.deleteIndex(v.name),Un(B,v)}),w.del.forEach(v=>B.deleteIndex(v))}});const k=p._cfg.contentUpgrade;if(k&&p._cfg.version>h){Mn(c,a),u._memoizedTables={},m=!0;let w=Rr(x);A.del.forEach(P=>{w[P]=b[P]}),Fn(c,[c.Transaction.prototype]),Ve(c,[c.Transaction.prototype],T(w),w),u.schema=w;const B=un(k);let v;B&&Nt();const O=C.follow(()=>{if(v=k(u),v&&B){var P=st.bind(null,null);v.then(P,P)}});return v&&typeof v.then=="function"?C.resolve(v):O.then(()=>v)}}),d.push(b=>{(!m||!Ao)&&function(x,A){[].slice.call(A.db.objectStoreNames).forEach(k=>x[k]==null&&A.db.deleteObjectStore(k))}(p._cfg.dbschema,b),Fn(c,[c.Transaction.prototype]),Ve(c,[c.Transaction.prototype],c._storeNames,c._dbSchema),u.schema=c._dbSchema})}),_().then(()=>{var p,b;b=a,T(p=y).forEach(x=>{b.db.objectStoreNames.contains(x)||Nn(b,x,p[x].primKey,p[x].indexes)})})}(e,t,o,n).catch(s)})}function li(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const i=e[r],o=t[r];if(i){const s={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!Me)s.recreate=!0,n.change.push(s);else{const l=i.idxByName,c=o.idxByName;let h;for(h in l)c[h]||s.del.push(h);for(h in c){const u=l[h],a=c[h];u?u.src!==a.src&&s.change.push(a):s.add.push(a)}(s.del.length>0||s.add.length>0||s.change.length>0)&&n.change.push(s)}}else n.add.push([r,o])}return n}function Nn(e,t,n,r){const i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(o=>Un(i,o)),i}function Un(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Tn(e,t,n){const r={};return xe(t.objectStoreNames,0).forEach(i=>{const o=n.objectStore(i);let s=o.keyPath;const l=jn(si(s),s||"",!1,!1,!!o.autoIncrement,s&&typeof s!="string",!0),c=[];for(let u=0;u<o.indexNames.length;++u){const a=o.index(o.indexNames[u]);s=a.keyPath;var h=jn(a.name,s,!!a.unique,!!a.multiEntry,!1,s&&typeof s!="string",!1);c.push(h)}r[i]=ai(i,l,c)}),r}function Hn({_novip:e},t,n){const r=n.db.objectStoreNames;for(let i=0;i<r.length;++i){const o=r[i],s=n.objectStore(o);e._hasGetAll="getAll"in s;for(let l=0;l<s.indexNames.length;++l){const c=s.indexNames[l],h=s.index(c).keyPath,u=typeof h=="string"?h:"["+xe(h).join("+")+"]";if(t[o]){const a=t[o].idxByName[u];a&&(a.name=c,delete t[o].idxByName[u],t[o].idxByName[c]=a)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&j.WorkerGlobalScope&&j instanceof j.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class Do{_parseStoresSpec(t,n){T(t).forEach(r=>{if(t[r]!==null){var i=t[r].split(",").map((s,l)=>{const c=(s=s.trim()).replace(/([&*]|\+\+)/g,""),h=/^\[/.test(c)?c.match(/^\[(.*)\]$/)[1].split("+"):c;return jn(c,h||null,/\&/.test(s),/\*/.test(s),/\+\+/.test(s),V(h),l===0)}),o=i.shift();if(o.multi)throw new I.Schema("Primary key cannot be multi-valued");i.forEach(s=>{if(s.auto)throw new I.Schema("Only primary key can be marked as autoIncrement (++)");if(!s.keyPath)throw new I.Schema("Index must have a name and cannot be an empty string")}),n[r]=ai(r,o,i)}})}stores(t){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?q(this._cfg.storesSource,t):t;const r=n._versions,i={};let o={};return r.forEach(s=>{q(i,s._cfg.storesSource),o=s._cfg.dbschema={},s._parseStoresSpec(i,o)}),n._dbSchema=o,Fn(n,[n._allTables,n,n.Transaction.prototype]),Ve(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],T(o),o),n._storeNames=T(o),this}upgrade(t){return this._cfg.contentUpgrade=pn(this._cfg.contentUpgrade||K,t),this}}function Vn(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new Ct(Fe,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Ln(e){return e&&typeof e.databases=="function"}function Qn(e){return dt(function(){return E.letThrough=!0,e()})}function Mo(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()}).finally(function(){return clearInterval(e)}):Promise.resolve()}function Fo(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?H(t.dbOpenError):e);$&&(t.openCanceller._stackHolder=vt()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function i(){if(t.openCanceller!==r)throw new I.DatabaseClosed("db.open() was cancelled")}let o=t.dbReadyResolve,s=null,l=!1;const c=()=>new C((h,u)=>{if(i(),!n)throw new I.MissingAPI;const a=e.name,d=t.autoSchema?n.open(a):n.open(a,Math.round(10*e.verno));if(!d)throw new I.MissingAPI;d.onerror=tt(u),d.onblocked=D(e._fireOnBlocked),d.onupgradeneeded=D(f=>{if(s=d.transaction,t.autoSchema&&!e._options.allowEmptyDB){d.onerror=oe,s.abort(),d.result.close();const m=n.deleteDatabase(a);m.onsuccess=m.onerror=D(()=>{u(new I.NoSuchDatabase(`Database ${a} doesnt exist`))})}else{s.onerror=tt(u);var y=f.oldVersion>Math.pow(2,62)?0:f.oldVersion;l=y<1,e._novip.idbdb=d.result,jo(e,y/10,s,u)}},u),d.onsuccess=D(()=>{s=null;const f=e._novip.idbdb=d.result,y=xe(f.objectStoreNames);if(y.length>0)try{const g=f.transaction((m=y).length===1?m[0]:m,"readonly");t.autoSchema?function({_novip:_},p,b){_.verno=p.version/10;const x=_._dbSchema=Tn(0,p,b);_._storeNames=xe(p.objectStoreNames,0),Ve(_,[_._allTables],T(x),x)}(e,f,g):(Hn(e,e._dbSchema,g),function(_,p){const b=li(Tn(0,_.idbdb,p),_._dbSchema);return!(b.add.length||b.change.some(x=>x.add.length||x.change.length))}(e,g)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Mn(e,g)}catch{}var m;ne.push(e),f.onversionchange=D(g=>{t.vcFired=!0,e.on("versionchange").fire(g)}),f.onclose=D(g=>{e.on("close").fire(g)}),l&&function({indexedDB:g,IDBKeyRange:_},p){!Ln(g)&&p!==Fe&&Vn(g,_).put({name:p}).catch(K)}(e._deps,a),h()},u)}).catch(h=>h&&h.name==="UnknownError"&&t.PR1398_maxLoop>0?(t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),c()):C.reject(h));return C.race([r,(typeof navigator>"u"?C.resolve():Mo()).then(c)]).then(()=>(i(),t.onReadyBeingFired=[],C.resolve(Qn(()=>e.on.ready.fire(e.vip))).then(function h(){if(t.onReadyBeingFired.length>0){let u=t.onReadyBeingFired.reduce(pn,K);return t.onReadyBeingFired=[],C.resolve(Qn(()=>u(e.vip))).then(h)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(h=>{t.dbOpenError=h;try{s&&s.abort()}catch{}return r===t.openCanceller&&e._close(),H(h)}).finally(()=>{t.openComplete=!0,o()})}function qn(e){var t=o=>e.next(o),n=i(t),r=i(o=>e.throw(o));function i(o){return s=>{var l=o(s),c=l.value;return l.done?c:c&&typeof c.then=="function"?c.then(n,r):V(c)?Promise.all(c).then(n,r):n(c)}}return i(t)()}function No(e,t,n){var r=arguments.length;if(r<2)throw new I.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[e,Pr(i),n]}function ui(e,t,n,r,i){return C.resolve().then(()=>{const o=E.transless||E,s=e._createTransaction(t,n,e._dbSchema,r),l={trans:s,transless:o};if(r)s.idbtrans=r.idbtrans;else try{s.create(),e._state.PR1398_maxLoop=3}catch(a){return a.name===fn.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>ui(e,t,n,null,i))):H(a)}const c=un(i);let h;c&&Nt();const u=C.follow(()=>{if(h=i.call(s,s),h)if(c){var a=st.bind(null,null);h.then(a,a)}else typeof h.next=="function"&&typeof h.throw=="function"&&(h=qn(h))},l);return(h&&typeof h.then=="function"?C.resolve(h).then(a=>s.active?a:H(new I.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):u.then(()=>h)).then(a=>(r&&s._resolve(),s._completion.then(()=>a))).catch(a=>(s._reject(a),H(a)))})}function Le(e,t,n){const r=V(e)?e.slice():[e];for(let i=0;i<n;++i)r.push(t);return r}const Uo={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,i={},o=[];function s(u,a,d){const f=ce(u),y=i[f]=i[f]||[],m=u==null?0:typeof u=="string"?1:u.length,g=a>0,_={...d,isVirtual:g,keyTail:a,keyLength:m,extractKey:Dn(u),unique:!g&&d.unique};return y.push(_),_.isPrimaryKey||o.push(_),m>1&&s(m===2?u[0]:u.slice(0,m-1),a+1,d),y.sort((p,b)=>p.keyTail-b.keyTail),_}const l=s(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[l];for(const u of r.indexes)s(u.keyPath,0,u);function c(u){const a=u.query.index;return a.isVirtual?{...u,query:{index:a,range:(d=u.query.range,f=a.keyTail,{type:d.type===1?2:d.type,lower:Le(d.lower,d.lowerOpen?e.MAX_KEY:e.MIN_KEY,f),lowerOpen:!0,upper:Le(d.upper,d.upperOpen?e.MIN_KEY:e.MAX_KEY,f),upperOpen:!0})}}:u;var d,f}return{...n,schema:{...r,primaryKey:l,indexes:o,getIndexByKeyPath:function(u){const a=i[ce(u)];return a&&a[0]}},count:u=>n.count(c(u)),query:u=>n.query(c(u)),openCursor(u){const{keyTail:a,isVirtual:d,keyLength:f}=u.query.index;return d?n.openCursor(c(u)).then(y=>y&&function(m){return Object.create(m,{continue:{value:function(_){_!=null?m.continue(Le(_,u.reverse?e.MAX_KEY:e.MIN_KEY,a)):u.unique?m.continue(m.key.slice(0,f).concat(u.reverse?e.MIN_KEY:e.MAX_KEY,a)):m.continue()}},continuePrimaryKey:{value(_,p){m.continuePrimaryKey(Le(_,e.MAX_KEY,a),p)}},primaryKey:{get:()=>m.primaryKey},key:{get(){const _=m.key;return f===1?_[0]:_.slice(0,f)}},value:{get:()=>m.value}})}(y)):n.openCursor(u)}}}}}};function Wn(e,t,n,r){return n=n||{},r=r||"",T(e).forEach(i=>{if(z(t,i)){var o=e[i],s=t[i];if(typeof o=="object"&&typeof s=="object"&&o&&s){const l=cn(o);l!==cn(s)?n[r+i]=t[i]:l==="Object"?Wn(o,s,n,r+i+"."):o!==s&&(n[r+i]=t[i])}else o!==s&&(n[r+i]=t[i])}else n[r+i]=void 0}),T(t).forEach(i=>{z(e,i)||(n[r+i]=t[i])}),n}const To={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema;return{...n,mutate(o){const s=E.trans,{deleting:l,creating:c,updating:h}=s.table(t).hook;switch(o.type){case"add":if(c.fire===K)break;return s._promise("readwrite",()=>u(o),!0);case"put":if(c.fire===K&&h.fire===K)break;return s._promise("readwrite",()=>u(o),!0);case"delete":if(l.fire===K)break;return s._promise("readwrite",()=>u(o),!0);case"deleteRange":if(l.fire===K)break;return s._promise("readwrite",()=>function(d){return a(d.trans,d.range,1e4)}(o),!0)}return n.mutate(o);function u(d){const f=E.trans,y=d.keys||function(m,g){return g.type==="delete"?g.keys:g.keys||g.values.map(m.extractKey)}(r,d);if(!y)throw new Error("Keys missing");return(d=d.type==="add"||d.type==="put"?{...d,keys:y}:{...d}).type!=="delete"&&(d.values=[...d.values]),d.keys&&(d.keys=[...d.keys]),function(m,g,_){return g.type==="add"?Promise.resolve([]):m.getMany({trans:g.trans,keys:_,cache:"immutable"})}(n,d,y).then(m=>{const g=y.map((_,p)=>{const b=m[p],x={onerror:null,onsuccess:null};if(d.type==="delete")l.fire.call(x,_,b,f);else if(d.type==="add"||b===void 0){const A=c.fire.call(x,_,d.values[p],f);_==null&&A!=null&&(_=A,d.keys[p]=_,r.outbound||Z(d.values[p],r.keyPath,_))}else{const A=Wn(b,d.values[p]),k=h.fire.call(x,A,_,b,f);if(k){const w=d.values[p];Object.keys(k).forEach(B=>{z(w,B)?w[B]=k[B]:Z(w,B,k[B])})}}return x});return n.mutate(d).then(({failures:_,results:p,numFailures:b,lastResult:x})=>{for(let A=0;A<y.length;++A){const k=p?p[A]:y[A],w=g[A];k==null?w.onerror&&w.onerror(_[A]):w.onsuccess&&w.onsuccess(d.type==="put"&&m[A]?d.values[A]:k)}return{failures:_,results:p,numFailures:b,lastResult:x}}).catch(_=>(g.forEach(p=>p.onerror&&p.onerror(_)),Promise.reject(_)))})}function a(d,f,y){return n.query({trans:d,values:!1,query:{index:r,range:f},limit:y}).then(({result:m})=>u({type:"delete",keys:m,trans:d}).then(g=>g.numFailures>0?Promise.reject(g.failures[0]):m.length<y?{failures:[],numFailures:0,lastResult:void 0}:a(d,{...f,lower:m[m.length-1],lowerOpen:!0},y)))}}}}})};function hi(e,t,n){try{if(!t||t.keys.length<e.length)return null;const r=[];for(let i=0,o=0;i<t.keys.length&&o<e.length;++i)W(t.keys[i],e[o])===0&&(r.push(n?Yt(t.values[i]):t.values[i]),++o);return r.length===e.length?r:null}catch{return null}}const Ho={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const i=hi(r.keys,r.trans._cache,r.cache==="clone");return i?C.resolve(i):n.getMany(r).then(o=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?Yt(o):o},o))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function Xn(e){return!("from"in e)}const ct=function(e,t){if(!this){const n=new ct;return e&&"d"in e&&q(n,e),n}q(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function le(e,t,n){const r=W(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(Xn(e))return q(e,{from:t,to:n,d:1});const i=e.l,o=e.r;if(W(n,e.from)<0)return i?le(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},di(e);if(W(t,e.to)>0)return o?le(o,t,n):e.r={from:t,to:n,d:1,l:null,r:null},di(e);W(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),W(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const s=!e.r;i&&!e.l&&Qe(e,i),o&&s&&Qe(e,o)}function Qe(e,t){Xn(t)||function n(r,{from:i,to:o,l:s,r:l}){le(r,i,o),s&&n(r,s),l&&n(r,l)}(e,t)}function Vo(e,t){const n=Yn(t);let r=n.next();if(r.done)return!1;let i=r.value;const o=Yn(e);let s=o.next(i.from),l=s.value;for(;!r.done&&!s.done;){if(W(l.from,i.to)<=0&&W(l.to,i.from)>=0)return!0;W(i.from,l.from)<0?i=(r=n.next(l.from)).value:l=(s=o.next(i.from)).value}return!1}function Yn(e){let t=Xn(e)?null:{s:0,n:e};return{next(n){const r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&W(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||W(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function di(e){var t,n;const r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){const o=i==="r"?"l":"r",s={...e},l=e[i];e.from=l.from,e.to=l.to,e[i]=l[i],s[i]=l[o],e[o]=s,s.d=fi(s)}e.d=fi(e)}function fi({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}Ot(ct.prototype,{add(e){return Qe(this,e),this},addKey(e){return le(this,e,e),this},addKeys(e){return e.forEach(t=>le(this,t,t)),this},[ln](){return Yn(this)}});const Lo={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new ct(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const i=e.table(r),{schema:o}=i,{primaryKey:s}=o,{extractKey:l,outbound:c}=s,h={...i,mutate:d=>{const f=d.trans,y=f.mutatedParts||(f.mutatedParts={}),m=k=>{const w=`idb://${t}/${r}/${k}`;return y[w]||(y[w]=new ct)},g=m(""),_=m(":dels"),{type:p}=d;let[b,x]=d.type==="deleteRange"?[d.range]:d.type==="delete"?[d.keys]:d.values.length<50?[[],d.values]:[];const A=d.trans._cache;return i.mutate(d).then(k=>{if(V(b)){p!=="delete"&&(b=k.results),g.addKeys(b);const w=hi(b,A);w||p==="add"||_.addKeys(b),(w||x)&&function(B,v,O,P){function X(Q){const N=B(Q.name||"");function Vt(Y){return Y!=null?Q.extractKey(Y):null}const Lt=Y=>Q.multiEntry&&V(Y)?Y.forEach(St=>N.addKey(St)):N.addKey(Y);(O||P).forEach((Y,St)=>{const ue=O&&Vt(O[St]),Zn=P&&Vt(P[St]);W(ue,Zn)!==0&&(ue!=null&&Lt(ue),Zn!=null&&Lt(Zn))})}v.indexes.forEach(X)}(m,o,w,x)}else if(b){const w={from:b.lower,to:b.upper};_.add(w),g.add(w)}else g.add(n),_.add(n),o.indexes.forEach(w=>m(w.name).add(n));return k})}},u=({query:{index:d,range:f}})=>{var y,m;return[d,new ct((y=f.lower)!==null&&y!==void 0?y:e.MIN_KEY,(m=f.upper)!==null&&m!==void 0?m:e.MAX_KEY)]},a={get:d=>[s,new ct(d.key)],getMany:d=>[s,new ct().addKeys(d.keys)],count:u,query:u,openCursor:u};return T(a).forEach(d=>{h[d]=function(f){const{subscr:y}=E;if(y){const m=x=>{const A=`idb://${t}/${r}/${x}`;return y[A]||(y[A]=new ct)},g=m(""),_=m(":dels"),[p,b]=a[d](f);if(m(p.name||"").add(b),!p.isPrimaryKey){if(d!=="count"){const x=d==="query"&&c&&f.values&&i.query({...f,values:!1});return i[d].apply(this,arguments).then(A=>{if(d==="query"){if(c&&f.values)return x.then(({result:w})=>(g.addKeys(w),A));const k=f.values?A.result.map(l):A.result;f.values?g.addKeys(k):_.addKeys(k)}else if(d==="openCursor"){const k=A,w=f.values;return k&&Object.create(k,{key:{get:()=>(_.addKey(k.primaryKey),k.key)},primaryKey:{get(){const B=k.primaryKey;return _.addKey(B),B}},value:{get:()=>(w&&g.addKey(k.primaryKey),k.value)}})}return A})}_.add(n)}}return i[d].apply(this,arguments)}}),h}}}};class Ct{constructor(t,n){this._middlewares={},this.verno=0;const r=Ct.dependencies;this._options=n={addons:Ct.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:i}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:K,dbReadyPromise:null,cancelOpen:K,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var s;o.dbReadyPromise=new C(l=>{o.dbReadyResolve=l}),o.openCanceller=new C((l,c)=>{o.cancelOpen=c}),this._state=o,this.name=t,this.on=re(this,"populate","blocked","versionchange","close",{ready:[pn,K]}),this.on.ready.subscribe=Sr(this.on.ready.subscribe,l=>(c,h)=>{Ct.vip(()=>{const u=this._state;if(u.openComplete)u.dbOpenError||C.resolve().then(c),h&&l(c);else if(u.onReadyBeingFired)u.onReadyBeingFired.push(c),h&&l(c);else{l(c);const a=this;h||l(function d(){a.on.ready.unsubscribe(c),a.on.ready.unsubscribe(d)})}})}),this.Collection=(s=this,ie(Eo.prototype,function(l,c){this.db=s;let h=$r,u=null;if(c)try{h=c()}catch(y){u=y}const a=l._ctx,d=a.table,f=d.hook.reading.fire;this._ctx={table:d,index:a.index,isPrimKey:!a.index||d.schema.primKey.keyPath&&a.index===d.schema.primKey.name,range:h,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:u,or:a.or,valueMapper:f!==Gt?f:null}})),this.Table=function(l){return ie(Co.prototype,function(c,h,u){this.db=l,this._tx=u,this.name=c,this.schema=h,this.hook=l._allTables[c]?l._allTables[c].hook:re(null,{creating:[fo,K],reading:[ho,Gt],updating:[_o,K],deleting:[po,K]})})}(this),this.Transaction=function(l){return ie(Ro.prototype,function(c,h,u,a,d){this.db=l,this.mode=c,this.storeNames=h,this.schema=u,this.chromeTransactionDurability=a,this.idbtrans=null,this.on=re(this,"complete","error","abort"),this.parent=d||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new C((f,y)=>{this._resolve=f,this._reject=y}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},f=>{var y=this.active;return this.active=!1,this.on.error.fire(f),this.parent?this.parent._reject(f):y&&this.idbtrans&&this.idbtrans.abort(),H(f)})})}(this),this.Version=function(l){return ie(Do.prototype,function(c){this.db=l,this._cfg={version:c,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(l){return ie(oi.prototype,function(c,h,u){this.db=l,this._ctx={table:c,index:h===":id"?null:h,or:u};const a=l._deps.indexedDB;if(!a)throw new I.MissingAPI;this._cmp=this._ascending=a.cmp.bind(a),this._descending=(d,f)=>a.cmp(f,d),this._max=(d,f)=>a.cmp(d,f)>0?d:f,this._min=(d,f)=>a.cmp(d,f)<0?d:f,this._IDBKeyRange=l._deps.IDBKeyRange})}(this),this.on("versionchange",l=>{l.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",l=>{!l.newVersion||l.newVersion<l.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${l.oldVersion/10}`)}),this._maxKey=ae(n.IDBKeyRange),this._createTransaction=(l,c,h,u)=>new this.Transaction(l,c,h,this._options.chromeTransactionDurability,u),this._fireOnBlocked=l=>{this.on("blocked").fire(l),ne.filter(c=>c.name===this.name&&c!==this&&!c._state.vcFired).map(c=>c.on("versionchange").fire(l))},this.use(Uo),this.use(To),this.use(Lo),this.use(Ho),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(l=>l(this))}version(t){if(isNaN(t)||t<.1)throw new I.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new I.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const n=this._versions;var r=n.filter(i=>i._cfg.version===t)[0];return r||(r=new this.Version(t),n.push(r),n.sort(Oo),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(t){return this.idbdb&&(this._state.openComplete||E.letThrough||this._vip)?t():new C((n,r)=>{if(this._state.openComplete)return r(new I.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new I.DatabaseClosed);this.open().catch(K)}this._state.dbReadyPromise.then(n,r)}).then(t)}use({stack:t,create:n,level:r,name:i}){i&&this.unuse({stack:t,name:i});const o=this._middlewares[t]||(this._middlewares[t]=[]);return o.push({stack:t,create:n,level:r??10,name:i}),o.sort((s,l)=>s.level-l.level),this}unuse({stack:t,name:n,create:r}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(i=>r?i.create!==r:!!n&&i.name!==n)),this}open(){return Fo(this)}_close(){const t=this._state,n=ne.indexOf(this);if(n>=0&&ne.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new C(r=>{t.dbReadyResolve=r}),t.openCanceller=new C((r,i)=>{t.cancelOpen=i})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new I.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,n=this._state;return new C((r,i)=>{const o=()=>{this.close();var s=this._deps.indexedDB.deleteDatabase(this.name);s.onsuccess=D(()=>{(function({indexedDB:l,IDBKeyRange:c},h){!Ln(l)&&h!==Fe&&Vn(l,c).delete(h).catch(K)})(this._deps,this.name),r()}),s.onerror=tt(i),s.onblocked=this._fireOnBlocked};if(t)throw new I.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(o):o()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return T(this._allTables).map(t=>this._allTables[t])}transaction(){const t=No.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,n,r){let i=E.trans;i&&i.db===this&&t.indexOf("!")===-1||(i=null);const o=t.indexOf("?")!==-1;let s,l;t=t.replace("!","").replace("?","");try{if(l=n.map(h=>{var u=h instanceof this.Table?h.name:h;if(typeof u!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return u}),t=="r"||t===Bn)s=Bn;else{if(t!="rw"&&t!=Rn)throw new I.InvalidArgument("Invalid transaction mode: "+t);s=Rn}if(i){if(i.mode===Bn&&s===Rn){if(!o)throw new I.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&l.forEach(h=>{if(i&&i.storeNames.indexOf(h)===-1){if(!o)throw new I.SubTransaction("Table "+h+" not included in parent transaction.");i=null}}),o&&i&&!i.active&&(i=null)}}catch(h){return i?i._promise(null,(u,a)=>{a(h)}):H(h)}const c=ui.bind(null,this,s,l,i,r);return i?i._promise(s,c,"lock"):E.trans?Ut(E.transless,()=>this._whenReady(c)):this._whenReady(c)}table(t){if(!z(this._allTables,t))throw new I.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const Qo=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class qo{constructor(t){this._subscribe=t}subscribe(t,n,r){return this._subscribe(t&&typeof t!="function"?t:{next:t,error:n,complete:r})}[Qo](){return this}}function pi(e,t){return T(t).forEach(n=>{Qe(e[n]||(e[n]=new ct),t[n])}),e}function Wo(e){let t,n=!1;const r=new qo(i=>{const o=un(e);let s=!1,l={},c={};const h={get closed(){return s},unsubscribe:()=>{s=!0,mt.storagemutated.unsubscribe(f)}};i.start&&i.start(h);let u=!1,a=!1;function d(){return T(c).some(m=>l[m]&&Vo(l[m],c[m]))}const f=m=>{pi(l,m),d()&&y()},y=()=>{if(u||s)return;l={};const m={},g=function(_){o&&Nt();const p=()=>dt(e,{subscr:_,trans:null}),b=E.trans?Ut(E.transless,p):p();return o&&b.then(st,st),b}(m);a||(mt(se,f),a=!0),u=!0,Promise.resolve(g).then(_=>{n=!0,t=_,u=!1,s||(d()?y():(l={},c=m,i.next&&i.next(_)))},_=>{u=!1,n=!1,i.error&&i.error(_),h.unsubscribe()})};return y(),h});return r.hasValue=()=>n,r.getValue=()=>t,r}let zn;try{zn={indexedDB:j.indexedDB||j.mozIndexedDB||j.webkitIndexedDB||j.msIndexedDB,IDBKeyRange:j.IDBKeyRange||j.webkitIDBKeyRange}}catch{zn={indexedDB:null,IDBKeyRange:null}}const Et=Ct;function qe(e){let t=lt;try{lt=!0,mt.storagemutated.fire(e)}finally{lt=t}}Ot(Et,{...ke,delete:e=>new Et(e,{addons:[]}).delete(),exists:e=>new Et(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return function({indexedDB:t,IDBKeyRange:n}){return Ln(t)?Promise.resolve(t.databases()).then(r=>r.map(i=>i.name).filter(i=>i!==Fe)):Vn(t,n).toCollection().primaryKeys()}(Et.dependencies).then(e)}catch{return H(new I.MissingAPI)}},defineClass:()=>function(e){q(this,e)},ignoreTransaction:e=>E.trans?Ut(E.transless,e):e(),vip:Qn,async:function(e){return function(){try{var t=qn(e.apply(this,arguments));return t&&typeof t.then=="function"?t:C.resolve(t)}catch(n){return H(n)}}},spawn:function(e,t,n){try{var r=qn(e.apply(n,t||[]));return r&&typeof r.then=="function"?r:C.resolve(r)}catch(i){return H(i)}},currentTransaction:{get:()=>E.trans||null},waitFor:function(e,t){const n=C.resolve(typeof e=="function"?Et.ignoreTransaction(e):e).timeout(t||6e4);return E.trans?E.trans.waitFor(n):n},Promise:C,debug:{get:()=>$,set:e=>{Or(e,e==="dexie"?()=>!0:Jr)}},derive:jt,extend:q,props:Ot,override:Sr,Events:re,on:mt,liveQuery:Wo,extendObservabilitySet:pi,getByKeyPath:it,setByKeyPath:Z,delByKeyPath:function(e,t){typeof t=="string"?Z(e,t,void 0):"length"in t&&[].map.call(t,function(n){Z(e,n,void 0)})},shallowClone:Rr,deepClone:Yt,getObjectDiff:Wn,cmp:W,asap:Ir,minKey:In,addons:[],connections:ne,errnames:fn,dependencies:zn,semVer:Gr,version:Gr.split(".").map(e=>parseInt(e)).reduce((e,t,n)=>e+t/Math.pow(10,2*n))}),Et.maxKey=ae(Et.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(mt(se,e=>{if(!lt){let t;Me?(t=document.createEvent("CustomEvent"),t.initCustomEvent(_t,!0,!0,e)):t=new CustomEvent(_t,{detail:e}),lt=!0,dispatchEvent(t),lt=!1}}),addEventListener(_t,({detail:e})=>{lt||qe(e)}));let lt=!1;if(typeof BroadcastChannel<"u"){const e=new BroadcastChannel(_t);typeof e.unref=="function"&&e.unref(),mt(se,t=>{lt||e.postMessage(t)}),e.onmessage=t=>{t.data&&qe(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){mt(se,t=>{try{lt||(typeof localStorage<"u"&&localStorage.setItem(_t,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:_t,changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key===_t){const n=JSON.parse(t.newValue);n&&qe(n.changedParts)}});const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",function({data:t}){t&&t.type===_t&&qe(t.changedParts)})}C.rejectionMapper=function(e,t){if(!e||e instanceof Mt||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Fr[e.name])return e;var n=new Fr[e.name](t||e.message,e);return"stack"in e&&rt(n,"stack",{get:function(){return this.inner.stack}}),n},Or($,Jr);class Xo{constructor(){this._eventMap={},this.emit=this.emit.bind(this),this.on=this.on.bind(this),this.off=this.off.bind(this),this.once=this.once.bind(this)}emit(t,n){this._eventMap[t]&&this._eventMap[t].forEach(r=>r(n))}on(t,n){return this._eventMap[t]||(this._eventMap[t]=[]),this._eventMap[t].push(n),()=>{this.off(t,n)}}off(t,n){this._eventMap[t]&&(this._eventMap[t]=this._eventMap[t].filter(r=>r!==n))}once(t,n){this._eventMap[t]||(this._eventMap[t]=[]);const r=i=>{n(i),this.off(t,r)};this._eventMap[t].push(r)}}var Yo={VITE_API_URL:"https://wp.24smi.org/api",VITE_API_VERSION:"0",VITE_APP_VERSION:"24.2.26.68877",VITE_CJS_IGNORE_WARNING:"true",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Gn=Yo,_i=Gn.VITE_APP_VERSION,zo=Gn.VITE_API_URL,Go=Gn.VITE_API_VERSION;function Zo(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/-/g,"+").replace(/_/g,"/"),r=window.atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}function Jo(){let e="",t=null;return typeof window<"u"&&(t=window.crypto||window.msCrypto),t?e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const r=t.getRandomValues(new Uint8Array(1))[0]%16|0;return(n=="x"?r:r&3|8).toString(16)}):e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const r=Math.random()*16|0;return(n=="x"?r:r&3|8).toString(16)}),e}class $o{async _request(t){const n=`${zo}/v${Go}${t.url}`,r={"Smi-Webpush-Version":`sdk-${_i}`,"Content-Type":"application/json;charset=UTF-8"};return await this._attachClientHints(r),fetch(n,{method:t.method,body:t.body?JSON.stringify(t.body):void 0})}get(t){return this._request({method:"GET",...t})}post(t){return this._request({method:"POST",...t})}async getProjectConfig(t){const n=await this.get({url:`/projects/${t}/config`});if(!n.ok)throw new Error("Failed to get project config");return n.json()}async setSubscription(t){if(!(await this.post({url:"/subscriptions",body:t})).ok)throw new Error("Failed to set subscription")}async log(t){if(!(await this.post({url:`/projects/${t.projectId}/event`,body:{event:t.event,user_id:t.extraData.user_id,extra_data:t.extraData}})).ok)throw new Error("Failed to log event")}async _attachClientHints(t){if("userAgentData"in navigator){const n=await navigator.userAgentData.getHighEntropyValues(["architecture","bitness","brands","mobile","model","platform","platformVersion","uaFullVersion","fullVersionList","wow64"]);t["X-Sec-CH-UA"]=n.brands.map(r=>`"${r.brand}";v="${r.version}"`).join(", "),t["X-Sec-CH-UA-Full-Version-List"]=n.fullVersionList.map(r=>`"${r.brand}";v="${r.version}"`).join(", "),t["X-Sec-CH-UA-Platform"]=n.platform,t["X-Sec-CH-UA-Platform-Version"]=n.platformVersion,t["X-Sec-CH-UA-Arch"]=n.architecture,t["X-Sec-CH-UA-Mobile"]=`${n.mobile?1:0}`,t["X-Sec-CH-UA-Full-Version"]=n.uaFullVersion,t["X-Sec-CH-UA-Wow64"]=`${n.wow64?1:0}`,t["X-Sec-CH-UA-Bitness"]=n.bitness,t["X-Sec-CH-UA-Model"]=n.model}}}class ts extends Ct{constructor(){super("smiwebpush"),this.version(1).stores({Option:"key"})}async getUserId(){var t;return(t=await this.Option.get("user_id"))==null?void 0:t.value}async setUserId(t){await this.Option.add({key:"user_id",value:t})}async getProjectConfig(){var t;return(t=await this.Option.get("project_config"))==null?void 0:t.value}async setProjectConfig(t){await this.Option.add({key:"project_config",value:t})}async getSubscription(){var t;return(t=await this.Option.get("subscription"))==null?void 0:t.value}async setSubscription(t){await this.Option.add({key:"subscription",value:t})}}class es{constructor(){this._api=new $o,this._database=new ts,this._eventEmitter=new Xo,this._isInitialized=!1}async init(t){if(this._isInitialized)return;if(this._config=t,await this._getUserId(),this._config.projectId){this._onFailedCallback();return}if(!("serviceWorker"in navigator)||!("PushManager"in window)){this._onFailedCallback(),this._redirectToFailedUrl();return}if(Notification.permission==="denied"){this._renderRobot(),this._onFailedCallback(),this._redirectToFailedUrl();return}if(await this._database.getSubscription()){this._onSuccessCallback();return}try{await this._getServiceWorkerRegistration(),await this._getProjectConfig(),this._isInitialized=!0,this._config.subscribeOnPageLoad&&(await new Promise(r=>setTimeout(r,this._config.subscribeOnPageLoadDelay??2e3)),this.askSubscription())}catch{this._onFailedCallback()}}askSubscription(){if(!this._isInitialized){this._onFailedCallback();return}this._renderNativePrompt(),this._renderDialog(),this._renderBubble(),this._renderCaptcha()}async _getServiceWorkerRegistration(){const t=await navigator.serviceWorker.getRegistration();return t||await navigator.serviceWorker.register(`${this._config.workerPath??"/service-worker.js"}?projectId=${encodeURIComponent(this._config.projectId)}`)}async _requestPermission(){const t=await Notification.requestPermission(),r={granted:this._onPermissionGranted,denied:this._onPermissionDenied,default:this._onPermissionDefault}[t];try{await r()}catch{this._onFailedCallback(),this._redirectToFailedUrl()}}async _onPermissionGranted(){this._eventEmitter.emit("detachViews",void 0);const t=await this._subscribe();this._onSubscribedCallback();const n=await this._getExtraData();await this._setSubscription({subscription:t.toJSON(),expiration_time:t.expirationTime,extra_data:n}),this._onSuccessCallback(),this._redirectToAllowUrl(),this._renderToast()}async _onPermissionDenied(){this._eventEmitter.emit("detachViews",void 0),this._log("user_denied_permissions").catch(()=>{}),this._onDeniedCallback(),this._redirectToDenyUrls()}async _onPermissionDefault(){}async _subscribe(){const t=await this._getServiceWorkerRegistration(),n=await this._getProjectConfig(),r={userVisibleOnly:!0,applicationServerKey:Zo(n.vapid_public_key)};try{return await t.pushManager.subscribe(r)}catch(i){const o=await t.pushManager.getSubscription();if(o)return await o.unsubscribe(),await t.pushManager.subscribe(r);throw i}}_onSuccessCallback(){this._config.onSuccessCallback&&this._config.onSuccessCallback()}_onFailedCallback(){this._config.onFailedCallback&&this._config.onFailedCallback()}_onDeniedCallback(){this._config.onDeniedCallback&&this._config.onDeniedCallback()}_onSubscribedCallback(){this._config.onSubscribedCallback&&this._config.onSubscribedCallback()}_redirectToAllowUrl(){this._config.allowUrl&&window.location.replace(this._config.allowUrl)}_redirectToFailedUrl(){this._config.failedUrl&&window.location.replace(this._config.failedUrl)}_redirectToDenyUrls(){!this._config.denyUrls||this._config.denyUrls.length}_renderNativePrompt(){this._log("native_prompt_showed").catch(()=>{}),this._requestPermission()}_renderRobot(){var t;(t=this._config.widgets)!=null&&t.showRobot&&(this._log("robot_showed").catch(()=>{}),Ni(this._config.widgets.robotProps))}_renderDialog(){var t;(t=this._config.widgets)!=null&&t.showDialog&&(this._log("dialog_showed").catch(()=>{}),Vi({...this._config.widgets.dialogProps,requestPermission:()=>this._requestPermission(),cancel:()=>this._onPermissionDenied(),eventEmitter:this._eventEmitter}))}_renderBubble(){var t;(t=this._config.widgets)!=null&&t.showBubble&&(this._log("bubble_showed").catch(()=>{}),Wi({...this._config.widgets.bubbleProps,requestPermission:()=>this._requestPermission(),eventEmitter:this._eventEmitter}))}_renderCaptcha(){var t;(t=this._config.widgets)!=null&&t.showCaptcha&&(this._log("captcha_showed").catch(()=>{}),to({requestPermission:()=>this._requestPermission(),eventEmitter:this._eventEmitter}))}_renderToast(){var t;(t=this._config.widgets)!=null&&t.showToast&&(this._log("toast_showed").catch(()=>{}),Gi(this._config.widgets.toastProps))}async _getUserId(){const t=await this._database.getUserId();if(t)return t;const n=Jo();return await this._database.setUserId(n),n}async _getProjectConfig(){const t=await this._database.getProjectConfig();if(t)return t;const n=await this._api.getProjectConfig("");return await this._database.setProjectConfig(n),n}async _setSubscription(t){await this._api.setSubscription(t),await this._database.setSubscription(t)}async _getExtraData(){const t=new URLSearchParams(window.location.search),n=await this._getUserId(),r={version:_i,user_id:n,subid1:this._config.subid1,subid2:this._config.subid2,subid3:this._config.subid3,subid4:this._config.subid4,utm_source:t.get("utm_source")??void 0,utm_content:t.get("utm_content")??void 0,utm_campaign:t.get("utm_campaign")??void 0,utm_term:t.get("utm_term")??void 0,utm_medium:t.get("utm_medium")??void 0,timestamp:Date.now()};try{const i=Intl.DateTimeFormat().resolvedOptions();i.timeZone&&(r.timezone=i.timeZone),i.locale&&(r.locale=i.locale)}catch{this._onFailedCallback()}return r}async _log(t){const n=await this._getExtraData();await this._api.log({projectId:this._config.projectId,event:t,extraData:n})}}const mi=new es;async function ns(e){await mi.init(e)}function rs(){mi.askSubscription()}return he.askSubscription=rs,he.init=ns,Object.defineProperty(he,Symbol.toStringTag,{value:"Module"}),he}({});
