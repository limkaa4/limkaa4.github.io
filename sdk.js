this.ytrgt=this.ytrgt||{};this.ytrgt.webpush=function(vt){"use strict";const hr={root:"_root_1089f_1",primary:"_primary_1089f_21",secondary:"_secondary_1089f_27"},Lo="._root_1089f_1{display:inline-flex;padding:8px 16px;align-items:flex-start;justify-content:center;gap:10px;height:32px;min-width:80px;box-sizing:border-box;border-radius:16px;font-family:Roboto,sans-serif;font-size:14px;font-style:normal;font-weight:400;line-height:16px;outline:transparent;border:transparent;cursor:pointer}._primary_1089f_21{background-color:#0582ff;box-shadow:0 2px 4px #0582ff0a;color:#fff}._secondary_1089f_27{border:1px solid #e3e3e5;background-color:#fff;box-shadow:0 2px 4px #0000000a}";function dr(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=dr(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function M(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=dr(t))&&(r&&(r+=" "),r+=e);return r}var bt,O,fr,ve,pr,_r,nn,Je={},rn=[],Vo=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,on=Array.isArray;function de(t,e){for(var n in e)t[n]=e[n];return t}function mr(t){var e=t.parentNode;e&&e.removeChild(t)}function Qo(t,e,n){var r,o,i,s={};for(i in e)i=="key"?r=e[i]:i=="ref"?o=e[i]:s[i]=e[i];if(arguments.length>2&&(s.children=arguments.length>3?bt.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)s[i]===void 0&&(s[i]=t.defaultProps[i]);return xt(t,s,r,o,null)}function xt(t,e,n,r,o){var i={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++fr,__i:-1,__u:0};return o==null&&O.vnode!=null&&O.vnode(i),i}function Pe(t){return t.children}function wt(t,e){this.props=t,this.context=e}function De(t,e){if(e==null)return t.__?De(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?De(t):null}function Wo(t,e,n){var r,o=t.__v,i=o.__e,s=t.__P;if(s)return(r=de({},o)).__v=o.__v+1,O.vnode&&O.vnode(r),sn(s,r,o,t.__n,s.ownerSVGElement!==void 0,32&o.__u?[i]:null,e,i??De(o),!!(32&o.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=i&&yr(r),r}function yr(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return yr(t)}}function gr(t){(!t.__d&&(t.__d=!0)&&ve.push(t)&&!At.__r++||pr!==O.debounceRendering)&&((pr=O.debounceRendering)||_r)(At)}function At(){var t,e,n,r=[],o=[];for(ve.sort(nn);t=ve.shift();)t.__d&&(n=ve.length,e=Wo(t,r,o)||e,n===0||ve.length>n?(an(r,e,o),o.length=r.length=0,e=void 0,ve.sort(nn)):e&&O.__c&&O.__c(e,rn));e&&an(r,e,o),At.__r=0}function vr(t,e,n,r,o,i,s,a,u,h,l){var c,d,f,y,m,g=r&&r.__k||rn,_=e.length;for(n.__d=u,qo(n,e,g),u=n.__d,c=0;c<_;c++)(f=n.__k[c])!=null&&typeof f!="boolean"&&typeof f!="function"&&(d=f.__i===-1?Je:g[f.__i]||Je,f.__i=c,sn(t,f,d,o,i,s,a,u,h,l),y=f.__e,f.ref&&d.ref!=f.ref&&(d.ref&&cn(d.ref,null,f),l.push(f.ref,f.__c||y,f)),m==null&&y!=null&&(m=y),65536&f.__u||d.__k===f.__k?u=br(f,u,t):typeof f.type=="function"&&f.__d!==void 0?u=f.__d:y&&(u=y.nextSibling),f.__d=void 0,f.__u&=-196609);n.__d=u,n.__e=m}function qo(t,e,n){var r,o,i,s,a,u=e.length,h=n.length,l=h,c=0;for(t.__k=[],r=0;r<u;r++)(o=t.__k[r]=(o=e[r])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?xt(null,o,null,null,o):on(o)?xt(Pe,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?xt(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=t,o.__b=t.__b+1,a=Yo(o,n,s=r+c,l),o.__i=a,i=null,a!==-1&&(l--,(i=n[a])&&(i.__u|=131072)),i==null||i.__v===null?(a==-1&&c--,typeof o.type!="function"&&(o.__u|=65536)):a!==s&&(a===s+1?c++:a>s?l>u-s?c+=a-s:c--:c=a<s&&a==s-1?a-s:0,a!==r+c&&(o.__u|=65536))):(i=n[r])&&i.key==null&&i.__e&&(i.__e==t.__d&&(t.__d=De(i)),un(i,i,!1),n[r]=null,l--);if(l)for(r=0;r<h;r++)(i=n[r])!=null&&!(131072&i.__u)&&(i.__e==t.__d&&(t.__d=De(i)),un(i,i))}function br(t,e,n){var r,o;if(typeof t.type=="function"){for(r=t.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=t,e=br(r[o],e,n));return e}t.__e!=e&&(n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function Yo(t,e,n,r){var o=t.key,i=t.type,s=n-1,a=n+1,u=e[n];if(u===null||u&&o==u.key&&i===u.type)return n;if(r>(u!=null&&!(131072&u.__u)?1:0))for(;s>=0||a<e.length;){if(s>=0){if((u=e[s])&&!(131072&u.__u)&&o==u.key&&i===u.type)return s;s--}if(a<e.length){if((u=e[a])&&!(131072&u.__u)&&o==u.key&&i===u.type)return a;a++}}return-1}function xr(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Vo.test(e)?n:n+"px"}function kt(t,e,n,r,o){var i;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||xr(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||xr(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")i=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=n,n?r?n.u=r.u:(n.u=Date.now(),t.addEventListener(e,i?Ar:wr,i)):t.removeEventListener(e,i?Ar:wr,i);else{if(o)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e!=="role"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,n))}}function wr(t){if(this.l){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(O.event?O.event(t):t)}}function Ar(t){if(this.l)return this.l[t.type+!0](O.event?O.event(t):t)}function sn(t,e,n,r,o,i,s,a,u,h){var l,c,d,f,y,m,g,_,p,b,w,A,k,x,B,v=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),i=[a=e.__e=n.__e]),(l=O.__b)&&l(e);e:if(typeof v=="function")try{if(_=e.props,p=(l=v.contextType)&&r[l.__c],b=l?p?p.props.value:l.__:r,n.__c?g=(c=e.__c=n.__c).__=c.__E:("prototype"in v&&v.prototype.render?e.__c=c=new v(_,b):(e.__c=c=new wt(_,b),c.constructor=v,c.render=zo),p&&p.sub(c),c.props=_,c.state||(c.state={}),c.context=b,c.__n=r,d=c.__d=!0,c.__h=[],c._sb=[]),c.__s==null&&(c.__s=c.state),v.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=de({},c.__s)),de(c.__s,v.getDerivedStateFromProps(_,c.__s))),f=c.props,y=c.state,c.__v=e,d)v.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(v.getDerivedStateFromProps==null&&_!==f&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(_,b),!c.__e&&(c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(_,c.__s,b)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(c.props=_,c.state=c.__s,c.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(K){K&&(K.__=e)}),w=0;w<c._sb.length;w++)c.__h.push(c._sb[w]);c._sb=[],c.__h.length&&s.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(_,c.__s,b),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(f,y,m)})}if(c.context=b,c.props=_,c.__P=t,c.__e=!1,A=O.__r,k=0,"prototype"in v&&v.prototype.render){for(c.state=c.__s,c.__d=!1,A&&A(e),l=c.render(c.props,c.state,c.context),x=0;x<c._sb.length;x++)c.__h.push(c._sb[x]);c._sb=[]}else do c.__d=!1,A&&A(e),l=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++k<25);c.state=c.__s,c.getChildContext!=null&&(r=de(de({},r),c.getChildContext())),d||c.getSnapshotBeforeUpdate==null||(m=c.getSnapshotBeforeUpdate(f,y)),vr(t,on(B=l!=null&&l.type===Pe&&l.key==null?l.props.children:l)?B:[B],e,n,r,o,i,s,a,u,h),c.base=e.__e,e.__u&=-161,c.__h.length&&s.push(c),g&&(c.__E=c.__=null)}catch(K){e.__v=null,u||i!=null?(e.__e=a,e.__u|=u?160:32,i[i.indexOf(a)]=null):(e.__e=n.__e,e.__k=n.__k),O.__e(K,e,n)}else i==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Go(n.__e,e,n,r,o,i,s,u,h);(l=O.diffed)&&l(e)}function an(t,e,n){for(var r=0;r<n.length;r++)cn(n[r],n[++r],n[++r]);O.__c&&O.__c(e,t),t.some(function(o){try{t=o.__h,o.__h=[],t.some(function(i){i.call(o)})}catch(i){O.__e(i,o.__v)}})}function Go(t,e,n,r,o,i,s,a,u){var h,l,c,d,f,y,m,g=n.props,_=e.props,p=e.type;if(p==="svg"&&(o=!0),i!=null){for(h=0;h<i.length;h++)if((f=i[h])&&"setAttribute"in f==!!p&&(p?f.localName===p:f.nodeType===3)){t=f,i[h]=null;break}}if(t==null){if(p===null)return document.createTextNode(_);t=o?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,_.is&&_),i=null,a=!1}if(p===null)g===_||a&&t.data===_||(t.data=_);else{if(i=i&&bt.call(t.childNodes),g=n.props||Je,!a&&i!=null)for(g={},h=0;h<t.attributes.length;h++)g[(f=t.attributes[h]).name]=f.value;for(h in g)f=g[h],h=="children"||(h=="dangerouslySetInnerHTML"?c=f:h==="key"||h in _||kt(t,h,null,f,o));for(h in _)f=_[h],h=="children"?d=f:h=="dangerouslySetInnerHTML"?l=f:h=="value"?y=f:h=="checked"?m=f:h==="key"||a&&typeof f!="function"||g[h]===f||kt(t,h,f,g[h],o);if(l)a||c&&(l.__html===c.__html||l.__html===t.innerHTML)||(t.innerHTML=l.__html),e.__k=[];else if(c&&(t.innerHTML=""),vr(t,on(d)?d:[d],e,n,r,o&&p!=="foreignObject",i,s,i?i[0]:n.__k&&De(n,0),a,u),i!=null)for(h=i.length;h--;)i[h]!=null&&mr(i[h]);a||(h="value",y!==void 0&&(y!==t[h]||p==="progress"&&!y||p==="option"&&y!==g[h])&&kt(t,h,y,g[h],!1),h="checked",m!==void 0&&m!==t[h]&&kt(t,h,m,g[h],!1))}return t}function cn(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){O.__e(r,n)}}function un(t,e,n){var r,o;if(O.unmount&&O.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||cn(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){O.__e(i,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(o=0;o<r.length;o++)r[o]&&un(r[o],e,n||typeof t.type!="function");n||t.__e==null||mr(t.__e),t.__=t.__e=t.__d=void 0}function zo(t,e,n){return this.constructor(t,n)}function ee(t,e,n){var r,o,i,s;O.__&&O.__(t,e),o=(r=typeof n=="function")?null:n&&n.__k||e.__k,i=[],s=[],sn(e,t=(!r&&n||e).__k=Qo(Pe,null,[t]),o||Je,Je,e.ownerSVGElement!==void 0,!r&&n?[n]:o?null:e.firstChild?bt.call(e.childNodes):null,i,!r&&n?n:o?o.__e:e.firstChild,r,s),t.__d=void 0,an(i,t,s)}bt=rn.slice,O={__e:function(t,e,n,r){for(var o,i,s;e=e.__;)if((o=e.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(t)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(t,r||{}),s=o.__d),s)return o.__E=o}catch(a){t=a}throw t}},fr=0,wt.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=de({},this.state),typeof t=="function"&&(t=t(de({},n),this.props)),t&&de(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),gr(this))},wt.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),gr(this))},wt.prototype.render=Pe,ve=[],_r=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,nn=function(t,e){return t.__v.__b-e.__v.__b},At.__r=0;var Ne,F,ln,kr,Ct=0,Cr=[],Et=[],U=O,Er=U.__b,Sr=U.__r,Ir=U.diffed,Br=U.__c,Or=U.unmount,Rr=U.__;function St(t,e){U.__h&&U.__h(F,t,Ct||e),Ct=0;var n=F.__H||(F.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:Et}),n.__[t]}function re(t){return Ct=1,Xo(Kr,t)}function Xo(t,e,n){var r=St(Ne++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):Kr(void 0,e),function(a){var u=r.__N?r.__N[0]:r.__[0],h=r.t(u,a);u!==h&&(r.__N=[h,r.__[1]],r.__c.setState({}))}],r.__c=F,!F.u)){var o=function(a,u,h){if(!r.__c.__H)return!0;var l=r.__c.__H.__.filter(function(d){return!!d.__c});if(l.every(function(d){return!d.__N}))return!i||i.call(this,a,u,h);var c=!1;return l.forEach(function(d){if(d.__N){var f=d.__[0];d.__=d.__N,d.__N=void 0,f!==d.__[0]&&(c=!0)}}),!(!c&&r.__c.props===a)&&(!i||i.call(this,a,u,h))};F.u=!0;var i=F.shouldComponentUpdate,s=F.componentWillUpdate;F.componentWillUpdate=function(a,u,h){if(this.__e){var l=i;i=void 0,o(a,u,h),i=l}s&&s.call(this,a,u,h)},F.shouldComponentUpdate=o}return r.__N||r.__}function Ze(t,e){var n=St(Ne++,3);!U.__s&&dn(n.__H,e)&&(n.__=t,n.i=e,F.__H.__h.push(n))}function Jo(t,e){var n=St(Ne++,4);!U.__s&&dn(n.__H,e)&&(n.__=t,n.i=e,F.__h.push(n))}function Zo(t){return Ct=5,$o(function(){return{current:t}},[])}function $o(t,e){var n=St(Ne++,7);return dn(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function ei(){for(var t;t=Cr.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(It),t.__H.__h.forEach(hn),t.__H.__h=[]}catch(e){t.__H.__h=[],U.__e(e,t.__v)}}U.__b=function(t){F=null,Er&&Er(t)},U.__=function(t,e){e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Rr&&Rr(t,e)},U.__r=function(t){Sr&&Sr(t),Ne=0;var e=(F=t.__c).__H;e&&(ln===F?(e.__h=[],F.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Et,n.__N=n.i=void 0})):(e.__h.forEach(It),e.__h.forEach(hn),e.__h=[],Ne=0)),ln=F},U.diffed=function(t){Ir&&Ir(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Cr.push(e)!==1&&kr===U.requestAnimationFrame||((kr=U.requestAnimationFrame)||ti)(ei)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Et&&(n.__=n.__V),n.i=void 0,n.__V=Et})),ln=F=null},U.__c=function(t,e){e.some(function(n){try{n.__h.forEach(It),n.__h=n.__h.filter(function(r){return!r.__||hn(r)})}catch(r){e.some(function(o){o.__h&&(o.__h=[])}),e=[],U.__e(r,n.__v)}}),Br&&Br(t,e)},U.unmount=function(t){Or&&Or(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{It(r)}catch(o){e=o}}),n.__H=void 0,e&&U.__e(e,n.__v))};var jr=typeof requestAnimationFrame=="function";function ti(t){var e,n=function(){clearTimeout(r),jr&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);jr&&(e=requestAnimationFrame(n))}function It(t){var e=F,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),F=e}function hn(t){var e=F;t.__c=t.__(),F=e}function dn(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function Kr(t,e){return typeof e=="function"?e(t):e}var ni=0;function S(t,e,n,r,o,i){var s,a,u={};for(a in e)a=="ref"?s=e[a]:u[a]=e[a];var h={type:t,props:u,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--ni,__i:-1,__u:0,__source:o,__self:i};if(typeof t=="function"&&(s=t.defaultProps))for(a in s)u[a]===void 0&&(u[a]=s[a]);return O.vnode&&O.vnode(h),h}function oe({children:t,stylesText:e}){const[n,r]=re(!1);return Jo(function(){const o=document.createElement("style");function i(){r(!0),o.removeEventListener("load",i)}return o.textContent=e,o.addEventListener("load",i),document.head.appendChild(o),function(){o.remove(),o.removeEventListener("load",i)}},[]),n?S(Pe,{children:t}):null}function Bt({children:t,variant:e="primary",onClick:n}){return S(oe,{stylesText:Lo,children:S("button",{className:M(hr.root,hr[e]),onClick:n,children:t})})}const be={root:"_root_16322_3",header:"_header_16322_14",icon:"_icon_16322_20",title:"_title_16322_26",text:"_text_16322_36",footer:"_footer_16322_46",actions:"_actions_16322_52"},ri='@import"https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap";._root_16322_3{padding:20px;font-family:Roboto,sans-serif;width:100%;max-width:320px;border-radius:12px;border:1px solid #e3e3e5;background-color:#fff;box-shadow:0 4px 24px #0000001f}._header_16322_14{display:flex;align-items:center;gap:16px}._icon_16322_20{width:40px;height:40px;flex-shrink:0}._title_16322_26{color:#000;font-size:16px;font-style:normal;font-weight:700;line-height:20px;margin-top:0;margin-bottom:0}._text_16322_36{color:#78787a;font-size:14px;font-style:normal;font-weight:400;line-height:normal;margin-top:8px;margin-bottom:0}._footer_16322_46{display:flex;align-items:center;margin-top:32px}._actions_16322_52{display:flex;align-items:center;gap:8px;margin-left:auto}@media (max-width: 420px){._root_16322_3{padding:12px}}',Pr={root:"_root_14w6k_1","top-left":"_top-left_14w6k_5","top-center":"_top-center_14w6k_10","top-right":"_top-right_14w6k_16","center-center":"_center-center_14w6k_21","bottom-left":"_bottom-left_14w6k_27","bottom-center":"_bottom-center_14w6k_32","bottom-right":"_bottom-right_14w6k_38"},oi="._root_14w6k_1{position:fixed}._top-left_14w6k_5{top:24px;left:24px}._top-center_14w6k_10{top:24px;left:50%;transform:translate3d(-50%,0,0)}._top-right_14w6k_16{top:24px;right:24px}._center-center_14w6k_21{top:50%;left:50%;transform:translate3d(-50%,-50%,0)}._bottom-left_14w6k_27{bottom:24px;left:24px}._bottom-center_14w6k_32{bottom:24px;left:50%;transform:translate3d(-50%,0,0)}._bottom-right_14w6k_38{bottom:24px;right:24px}@media (max-width: 420px){._root_14w6k_1{left:12px;top:12px;right:12px;transform:unset}}";function fn({children:t,position:e="center-center"}){return S(oe,{stylesText:oi,children:S("div",{className:M(Pr.root,Pr[e]),children:t})})}function pn({position:t,icon:e,title:n,text:r,actions:o,className:i,onAnimationEnd:s}){return S(oe,{stylesText:ri,children:S(fn,{position:t,children:S("div",{className:M(be.root,i),onAnimationEnd:s,children:[S("div",{className:M(be.header),children:[S("img",{src:e,alt:"",className:M(be.icon)}),S("h1",{className:M(be.title),children:n})]}),S("p",{className:M(be.text),children:r}),S("div",{className:M(be.footer),children:S("div",{className:M(be.actions),children:o})})]})})})}const Dr={root:"_root_uyahl_1",enter:"_enter_uyahl_19",fadeIn:"_fadeIn_uyahl_1",exit:"_exit_uyahl_24",fadeOut:"_fadeOut_uyahl_1"},ii="._root_uyahl_1{position:fixed;top:0;left:0;right:0;bottom:0;background:linear-gradient(180deg,#1111147a,#11111414 77.33%,#11111405 88.88%,#11111400);animation-timing-function:ease-in-out;animation-fill-mode:both;animation-duration:.5s}._enter_uyahl_19{animation-name:_fadeIn_uyahl_1;animation-delay:.25s}._exit_uyahl_24{animation-name:_fadeOut_uyahl_1}@keyframes _fadeIn_uyahl_1{0%{opacity:0}to{opacity:1}}@keyframes _fadeOut_uyahl_1{0%{opacity:1}to{opacity:0}}";function _n({animationState:t}){return S(oe,{stylesText:ii,children:S("div",{className:M(Dr.root,Dr[t])})})}const Nr={root:"_root_1pkd4_1",enter:"_enter_1pkd4_7",exit:"_exit_1pkd4_12"},si="._root_1pkd4_1{animation-timing-function:ease-in-out;animation-fill-mode:both;animation-duration:.5s}._enter_1pkd4_7{animation-name:_enter_1pkd4_7;animation-delay:.25s}._exit_1pkd4_12{animation-name:_exit_1pkd4_12}@keyframes _enter_1pkd4_7{0%{opacity:0;transform:translateY(50%)}to{opacity:1;transform:translateY(0)}}@keyframes _exit_1pkd4_12{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(50%)}}",ai="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAuCSURBVHgB7Z3/bhxXFcfPXe8iYQm8QCQaqVgulqACRXErpIIUKZs/UZPY0xfAfoKkT5D4CUieoNsnGLtpxZ/egAVEgnSrCBSBCiYghUgprPtHKuHVXu537tzNZD2zc2d2fpwZz0dae727Ho/nO+fcc879JagGuK7bJWpvEMk1otZFIagrJZ6LNf0Jqd6n7unfFEfqvZF6Yh6fqdfUdzkkGg8dxxlRxRFUQVz3Xk+dOgS97H9fo1zwbgAltriP745zbUAVoxICawvtbKuLvKl+VIKGWWMhwKIH6jz21fkMHOfnR8QctgLPiNojngzU+X3IWWx2Avvu9xfqwm1ReZaaAtGH2NzcOBuBtbB0i/haqy2qzZZ3Hed6nxhQusC+xX6QX6BUFgjQJrtlC12awDWy2Bi8SHynLNdduMAqeFpTOauy2LoLOwva6KXdooOxFhXI/v69G0rcT+nMiQvktiqefKo81y0qkEIs+OxabRRw20tXirDm3C34bFttFAgoYc0f3aScyc2CdaFiSbkjkfs/UW3kHRVpv085kYvAvkt2SZcVG2LJz2VnLrDrfoLiv1u/vDZv8hE50zZYtSmqvDg5aMRNw7Rd3qIMyUzg/f2PVf1YwC1XqH7Mji6uob6W2ZCJi8YJTSayTw2Z0WqJ7c3Nqx/SgiwscCNufmQh8kIC6/bCc8sNuSEdlUbtUUpSC+ynQihgNG1uvoyULavo+t0hpSBVkKXF7ahouRG3ALpIO133V2uUgpRRdKdJhQrFS6FcXR1MRmKBVbv7y0bcUtjQpd9kJBJYdxw0teXyEDeTdlBYB1lNUMUGFXS137ItaSaw4CaoYoLSYPyB7YetBFau+VbT7rKiZ+uqY11045rZYuWqLSy4g8itEZcfVq56rgX7Q1sPqMIsLy/TO+/8hFZWvvnK68fHX9Lh4W/p5GRMFefKvCG5MRYsrBtzrpw//9opcQFeW139HtWAublxpMCqEd+uQ2B1/vx357z3GtWAnu9pQ5ljwa1Cx+/mxcrKSuR75859hzqdNlWfaE8bKnBdrNdGwHq4abkWZcURFixuUA14880fxH6mJu0wCPW4pwT274TKD3ddX/++Z8FxINiyuREqQGhbHOK/vMnXxAGkOG+/fVG52Q59/vnf6MmTf1n9HqzywoUfkS0Q+OTkRP2Nv8d+Fueyvv6G93jx4it68OAP6vsL4gG0w6oDgVeCP/hVq/j/sgAg7qVLP/W+G3AhHz/+S6TQuPgQCxc/DTg2HlHAI+CGmz2nw8PfcxFZVbfGbwRXB5oRGMFV+blvmLhBcDGfP/+PKlYce5aHz+GBlAgiLwKOjSLI8+dfeMcGiMRx7Hnnw0dk8b7jXL1jfppx0SKz8biLgMpT1MUEeG91Fe+/Tlnz8maxz5FNU3J4+DsqH2/RmqnA0yBLu2ceMwDnicsVRvl0Lzi0JxBFL/WICQioqoZNgFYcWH5KExR4k5iAi8UnMo0H52ob4ReDnGoZEHjSIyYguHn48DOqCvMi75KY1jE8gf0EmVWfL6LYrKwYN4yOvL/wHoiSTYS8KPys16Nrih5+ZOAt6EncePr0WeqcFiI+ffpv74HnYaCKhdwWfyNtYId0jSfQlAZG4MscBUaemxRYFNw7LDX++F96D7T5q6uve0WSpEKnOcdi8JrcO77AshZLLSD6fvz4r6ncL9wsHhA5SW06K1efPa2L+NrWORPPrsFO52vWn3306E+ZpCoImCDahQs/tvo835wdXYhut6VXSueJTW8QyEpcA46FY9rAuyjT3mj5jTFLVla+EfsZWFweRQYc0+a4uv7NdVRIa63l72fADpuAx/Qu5QWOHZeq6R6sHxJHpJzAgnVjzAl01tsEOnkXGGwLLkizOI4MabXEihJ4wsqCIaxNZ31RBQZTGIkDvUlpc/a8wM4zaDxKFxhuDnkorCBsDHMYRRb3USyxOS9E3uhmhGexycPzR0Bg0S2jyGFExQWxjZaDFHkBUVGzzY3xv1y69DPPvb+spj0rrfOkXVYOjItga62zmItXFHrkyDhRtIwbGGLjgRv54OA3VDyyW+iC4EHSigvKsIaTk/9RWuYNvs+Z8gRehDImjGEEZRWppMAN9lRS4OXlr1PRLDpasywg8IhKYJEgqYyLvUjNucwuxba/nWrhuTBmBKCOa+bvJhENn8XvFBVJI0hKU29GKoc0qbwRH+KotCo5IuFgQR/pBHJN25wYN0ZRAifJ03FOT5780xO1/L5iOUJnwxExAHc7Bo7bdtPNm9idNevra1afQwXr4ODX3k3LZCCAJ/A/iBG4OA8fxi+sCreZpgKWFBQpbNpf3Jj8RlfK45Zug3kB92ZTa9YzD/NtZWx7tXgNfDeIYUtvYc4PPXRmfkEDlpVnXyyHPunFEHDR2M6FH2jDEIHGYebqZo1tn3SRNfHkSFjwmKUFA9uaM7rpshQZ4tpOIOfRLRjFeNjSk4V5WnGSTgWIvOhSDMivcZwkqwPwHTYrjqCtGfg+5Dh0NsmwWQCBEfXOWwUgirDZ+9Vm4o01MgPf76svW8SMNF2KejL2hic2Itt5Q25wfBRMolbDy+sci6E1wFcjMMt2+Ny5b1NaILQZvK4nn301daforIA7zqKmjZvj0aM/Ez+0ptM1Olz33n+J0QxDuFpYYhVABY5ZsDVynGvfwpNgdyErK67S2lVFFFyS4TW5HgGBxT4xwbY8yAWcK1IrRuyZJwGBT/rEBGYXywpeY6I7A/NsKrC/eNaAGMA3t4yG0Zoig+Ay/7PrZCk3LXtUMpguErcQGsYam5ESZogqUpZFXbsukepxzHjowQUrXkQ/73wePPgj8UC+slvpjMBw0+3S92gwK8eFLWUYNXvf9OYkncD96jHmTyAPWwWA2VKGFHTP4NSeDa77UZ/LindmvwXkrWb0h437RntoO4HbgBsHIzFsgNCIE8zkNC7iCiH6W1tXd4Kvha0221dfWAiMC4cREknBjWAWJrUBnfW24gKz3AM3pJSnNpM+NWzW38FjQBUH9Wibrjy4e56d9YkZhu2+EjUuepdqgI2V8e2sT4q8G/ZqqMD6TuDZhZiEOLeLNpR3f64t6Bq83g97Z87MBrlDFSdOQN6jMZIwifS4kQLXpS1GThv9XvyQIP5EWy+Im5tU+bYYbjrMUvXk7GdUfeZ7WovdR+9h78IeNbAjLO+dxWJ24RgHYDd2uoFGUi7FethYgVUnxJG6V2qRNtWJyYTu2mzzHuuiDY2r5gQCq6tW/ZMJJoA3rpoJSoOlK7Yftha4cdVcELs2rtmQaAkHf8Olu9RQClKi3X256ZUNKdboGN8mZgP0zgbi6L33rt2khCQWWA/tGTt1qFVXB1xr+3b3ld+klLjuJxsqWEdkzXI54hqhDKr9VpJ2N0jqZZQc591hHTok+CN30ooLFlonSxW59xqR8wTiXt+jBUjtooNw2Za2Xnji9mlBMhEYNCJnSTbigswEBkrkLV/kJvBKxygLtxwkU4GB3oe4c8B1Lya+IBUSjg5eMzwq5UAjcmKUqG1nkWg5ilwENqgeKJTVblBDJCg/CjG+7c8Ny5xcBQau+7Eqr8nSp8MwZKQ7DpLVlpOSu8CgcdmnGCiXvJOHS56lEIENymXfJu2yz6o1F2K1QQoVGGhrXrrNZYJbgQyKstoghQts0FuQI2euvdseqMdu2LyhIihNYIOugLVu1U9o5LUoWpQj7PQsiAl+qRPtczXWTopmQCVa7CxsBDZo1y23K9ZGj4QQe5ify0VYAzuBDX4w1vOF7hFPBnpdk5N+XoWKRWErcBAjtrKSTVX56VF5aRZEHHIXNUglBJ7Fj8A3hJCXpcQW9XkFaOJI/Y2h+hv3sfYjN/drQyUFnkVZuLLo9gZExx5QQtBFZemw8q6/fe5ayK+NXu5XIZWQ4ki1ocd6EU9EwONhFSw0jv8DD84DrVpVgaIAAAAASUVORK5CYII=";function ci({position:t="top-center",skipText:e="Пропустить",text:n="Нажмите значок замка в адресной строке, чтобы разрешить уведомления.",icon:r=ai,title:o="Пожалуйста, включите доступ к получению push-уведомлений",detach:i}){const[s,a]=re(!1),[u,h]=re("enter");function l(){h("exit")}function c(){u==="exit"&&i()}return Ze(()=>{const d=setTimeout(function(){a(!0)},500);return function(){clearTimeout(d)}},[]),s?S(oe,{stylesText:si,children:[S(_n,{animationState:u}),S(pn,{position:t,icon:r,title:o,text:n,actions:S(Bt,{variant:"secondary",onClick:l,children:e}),className:M(Nr.root,Nr[u]),onAnimationEnd:c})]}):null}function ui(t={}){const e=document.createElement("div");function n(){ee(null,e),e.remove()}document.body.appendChild(e),ee(S(ci,{detach:n,...t}),e)}const Mr={root:"_root_1pkd4_1",enter:"_enter_1pkd4_7",exit:"_exit_1pkd4_12"},li="._root_1pkd4_1{animation-timing-function:ease-in-out;animation-fill-mode:both;animation-duration:.5s}._enter_1pkd4_7{animation-name:_enter_1pkd4_7;animation-delay:.25s}._exit_1pkd4_12{animation-name:_exit_1pkd4_12}@keyframes _enter_1pkd4_7{0%{opacity:0;transform:translateY(50%)}to{opacity:1;transform:translateY(0)}}@keyframes _exit_1pkd4_12{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(50%)}}";class hi{constructor(){this._eventMap={},this.emit=this.emit.bind(this),this.on=this.on.bind(this),this.off=this.off.bind(this),this.once=this.once.bind(this)}emit(e,n){this._eventMap[e]&&this._eventMap[e].forEach(r=>r(n))}on(e,n){return this._eventMap[e]||(this._eventMap[e]=[]),this._eventMap[e].push(n),()=>{this.off(e,n)}}off(e,n){this._eventMap[e]&&(this._eventMap[e]=this._eventMap[e].filter(r=>r!==n))}once(e,n){this._eventMap[e]||(this._eventMap[e]=[]);const r=o=>{n(o),this.off(e,r)};this._eventMap[e].push(r)}}const $e=new hi,di="data:image/png;base64,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";function fi({position:t="top-center",title:e="Получайте push-уведомления о последних обновлениях",icon:n=di,text:r,cancelText:o="Отменить",confirmText:i="Подписаться",delay:s=300,detach:a,requestPermission:u,cancel:h}){const[l,c]=re(!1),[d,f]=re("enter");function y(){d==="exit"&&a()}return Ze(()=>{const m=setTimeout(function(){c(!0)},s);return $e.on("detachViews",function(){m&&clearTimeout(m),f("exit")})},[]),l?S(oe,{stylesText:li,children:[S(_n,{animationState:d}),S(pn,{position:t,icon:n??"",title:e,text:r,actions:S(Pe,{children:[S(Bt,{variant:"secondary",onClick:h,children:o}),S(Bt,{variant:"primary",onClick:u,children:i})]}),className:M(Mr.root,Mr[d]),onAnimationEnd:y})]}):null}function pi(t){const e=document.createElement("div");function n(){ee(null,e),e.remove()}document.body.appendChild(e),ee(S(fi,{detach:n,...t}),e)}const Me={root:"_root_b6vi0_3",text:"_text_b6vi0_13","icon-root":"_icon-root_b6vi0_30",icon:"_icon_b6vi0_30",badge:"_badge_b6vi0_48",enter:"_enter_b6vi0_67",exit:"_exit_b6vi0_72"},_i='@import"https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap";._root_b6vi0_3{font-family:Roboto,sans-serif;display:flex;align-items:center;gap:12px;animation-timing-function:ease-in-out;animation-fill-mode:both;animation-duration:.5s}._text_b6vi0_13{display:flex;padding:16px;flex-direction:column;align-items:flex-end;gap:16px;color:#000;font-size:16px;font-style:normal;font-weight:400;line-height:16px;border-radius:12px;border:1px solid #e3e3e5;background-color:#fff;box-shadow:0 2px 8px #00000014}._icon-root_b6vi0_30{position:relative;display:flex;padding:16px;justify-content:center;align-items:center;gap:10px;border-radius:32px;border:1px solid #046be0;background-color:#0582ff;box-shadow:0 2px 12px #046be029}._icon_b6vi0_30{width:32px;height:32px}._badge_b6vi0_48{width:24px;height:24px;display:flex;align-items:center;justify-content:center;border-radius:50%;border:2px solid #ffffff;background-color:#ff3c14;color:#fff;font-size:14px;font-style:normal;font-weight:500;line-height:16px;position:absolute;top:-8px;right:-2px}._enter_b6vi0_67{animation-name:_enter_b6vi0_67;animation-delay:.25s}._exit_b6vi0_72{animation-name:_exit_b6vi0_72}@keyframes _enter_b6vi0_67{0%{opacity:0;transform:translateY(50%)}to{opacity:1;transform:translateY(0)}}@keyframes _exit_b6vi0_72{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(50%)}}',mi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUASURBVHgB7Z2BcRs3EEVXmRQQVxCogsgV5FxB7ArMDixVIKaCOBXIqcBJBaQrkFPBnSuwOlhjjeNItsnbDwIgAGnfzA1neJglgA/sYXEASGQYhmEYhmEYhmGclDMqBDMP/sP56+7s7Oxf6gyf/1/8xwWFMnz0ZfhIveAzf8PfMvrLUSdIXuc8P+Qvah1pNf7a8H7GuVU1z57K33HbbBnmyr/lZVaUgbmFbvz1eba7ydXDJI9KGdoUgX90O/tYUyKz0OMe22OOipE8AuW4oUz8RBnwGbr2Hysg6UTpDBQejN8j372kdO6ANNJLsjwTkkdBPiNv/MdbMPm5H01MFMHsWnajEWnhv1MQYR9bf32gUIkThdHLRHG/J78xzr+lceXto2XPDwdfjLKOsCtu5poPPwxjGKW1csQzwqe9BG3LM+iCasCHffE+1hE2b7gcNwwKwdizQBi5xkOZQ6tCWIP2XvP9qKYkI4OjMcZFOG2MwLjrgfwjB3dzaq7BvL0F7Q10KhhzPbegLbQnlQAVYQPY2tApYD1QEUYGfC3Xafnfo4rAoccj7nFFpWGs9a8AO2+4HV4D+X0J2BmpJIy1fjVKZLxFnQrJiwPyvQFsragUjLV+B9h5z+2h+nDGGk6ZZ4E3POhlgFo/0otqMQD5R4amqp1oGAuQHGBn5HZBeoEEi1ovyDZZ9/CHk3+U2279OwagHFpsIHUFRcfQbKg3JrOMmsE/SUcdbTQAEhtor1h3rzNV0OnoP5T7W23WkYN7Gqh9BlZcqS/rlsLM6xLQ1DgqgKbmf6RzSf2wAtJoZdYa7VfU9wGzL/usJHuurRrgEKQ46oPJl+d8KcHcS7TA65m3s/iCB+kBWuufgMp31E/lCw5wQxPpb88G5T4kwKDc/5/SbbQI4sM1N+SU+5AATrmPLFiC/GFj/Aak0cqu2kAE+JXSMiHUeW2XxgCk0VyQU+5DAmjj/2np5vwQd9QfDgimtManBmOIANPSPWDNZI+tf8di3ueyTwtJPpECIsDfC/euSKdnARyQZqkO1qSgCjBHfa/oW6XF970CVz076he18cx1cKh+8q6o9j7xgiPXYHKbc/8oUbOafET9/ByT+EhFu1gRfQAXk/iY+smyNlTBUb84KswpBDAWKLZFaYc4UuoX2V71jApiAih4AYrWkbmgypgAlTEBKmMCVMYEqIwJUBkToDImQGVMgMqYAJUxASpjAlTGBKiMCVCZogJwrXMUMhL7jjeW0j1goP5ZUUFKHtonL+Nlt7yjvpElJufaMvNjKdkDZKuPo/6RhgQdadAM3MYRBLnpQwR+nJW/I7sI2Z4BHHy+rCSDNqd1jCxFvIo9Cu0QWQTgMNx8T4/D5yNM/nqRQ4TkhzCHjc2yw9zR08H5S84PTe7tST2AQ5AiQ82e13+mIEPT5yk9IbUHXNLTrXxByp60/9nmgtJJCtBSBci7AaFPJkogVQAZkhUJ0TthIv3MiEWSBJjnR15QnjOhe2OisA1pogRyBmIyJJNL9hU7elzD0rsHl7hd2SG/LTVBZxiGYTwNim9RikXmfKkgpbccxdJiJDxROZobtbQoQMnournIvUUBPlA5/iFjGcZOpj2GkTv6N7+qMP4nOjGsyMBh/P9bENZkxJNJhKQXJk8eDmf2v+N4NtzB2tTmArFD8P3Z03IEpqP7f9YTdjOVWwrnmL6zmUrDMAzDMIyW+QIH4yZPl1461wAAAABJRU5ErkJggg==";function yi({text:t="Вам новое сообщение",icon:e=mi,delay:n=300,detach:r,requestPermission:o}){const[i,s]=re(!1),[a,u]=re("enter");function h(){a==="exit"&&r()}return Ze(function(){const l=setTimeout(function(){s(!0)},n);return $e.on("detachViews",function(){l&&clearTimeout(l),u("exit")})}),i?S(oe,{stylesText:_i,children:S(fn,{position:"bottom-right",children:S("div",{className:M(Me.root,Me[a]),onAnimationEnd:h,onClick:o,children:[S("div",{className:M(Me.text),children:t}),S("div",{className:M(Me["icon-root"]),children:[S("img",{src:e,alt:"",className:M(Me.icon)}),S("div",{className:M(Me.badge),children:"1"})]})]})})}):null}function gi(t){const e=document.createElement("div");function n(){ee(null,e),e.remove()}document.body.appendChild(e),ee(S(yi,{detach:n,...t}),e)}const Fr={root:"_root_1pkd4_1",enter:"_enter_1pkd4_7",exit:"_exit_1pkd4_12"},vi="._root_1pkd4_1{animation-timing-function:ease-in-out;animation-fill-mode:both;animation-duration:.5s}._enter_1pkd4_7{animation-name:_enter_1pkd4_7;animation-delay:.25s}._exit_1pkd4_12{animation-name:_exit_1pkd4_12}@keyframes _enter_1pkd4_7{0%{opacity:0;transform:translateY(50%)}to{opacity:1;transform:translateY(0)}}@keyframes _exit_1pkd4_12{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(50%)}}",bi="data:image/png;base64,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";function xi({position:t="top-right",icon:e=bi,text:n="",skipText:r="Пропустить",title:o="Вы успешно подписались на получение push-уведомлений",detach:i}){const s=Zo(null),[a,u]=re("enter");Ze(()=>(s.current=setTimeout(()=>{u("exit")},5e3),()=>{s.current&&clearTimeout(s.current)}),[]);function h(){s.current&&clearTimeout(s.current),u("exit")}function l(){a==="exit"&&i()}return S(oe,{stylesText:vi,children:S(pn,{position:t,icon:e,title:o,text:n,actions:S(Bt,{variant:"secondary",onClick:h,children:r}),className:M(Fr.root,Fr[a]),onAnimationEnd:l})})}function wi(t={}){const e=document.createElement("div");function n(){ee(null,e),e.remove()}document.body.appendChild(e),ee(S(xi,{detach:n,...t}),e)}const P=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,H=Object.keys,V=Array.isArray;function q(t,e){return typeof e!="object"||H(e).forEach(function(n){t[n]=e[n]}),t}typeof Promise>"u"||P.Promise||(P.Promise=Promise);const et=Object.getPrototypeOf,Ai={}.hasOwnProperty;function X(t,e){return Ai.call(t,e)}function Fe(t,e){typeof e=="function"&&(e=e(et(t))),(typeof Reflect>"u"?H:Reflect.ownKeys)(e).forEach(n=>{ie(t,n,e[n])})}const Tr=Object.defineProperty;function ie(t,e,n,r){Tr(t,e,q(n&&X(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Te(t){return{from:function(e){return t.prototype=Object.create(e.prototype),ie(t.prototype,"constructor",t),{extend:Fe.bind(null,t.prototype)}}}}const ki=Object.getOwnPropertyDescriptor;function mn(t,e){let n;return ki(t,e)||(n=et(t))&&mn(n,e)}const Ci=[].slice;function Ot(t,e,n){return Ci.call(t,e,n)}function Ur(t,e){return e(t)}function tt(t){if(!t)throw new Error("Assertion Failed")}function Hr(t){P.setImmediate?setImmediate(t):setTimeout(t,0)}function Lr(t,e){return t.reduce((n,r,o)=>{var i=e(r,o);return i&&(n[i[0]]=i[1]),n},{})}function se(t,e){if(typeof e=="string"&&X(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var n=[],r=0,o=e.length;r<o;++r){var i=se(t,e[r]);n.push(i)}return n}var s=e.indexOf(".");if(s!==-1){var a=t[e.substr(0,s)];return a===void 0?void 0:se(a,e.substr(s+1))}}function Z(t,e,n){if(t&&e!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){tt(typeof n!="string"&&"length"in n);for(var r=0,o=e.length;r<o;++r)Z(t,e[r],n[r])}else{var i=e.indexOf(".");if(i!==-1){var s=e.substr(0,i),a=e.substr(i+1);if(a==="")n===void 0?V(t)&&!isNaN(parseInt(s))?t.splice(s,1):delete t[s]:t[s]=n;else{var u=t[s];u&&X(t,s)||(u=t[s]={}),Z(u,a,n)}}else n===void 0?V(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function Vr(t){var e={};for(var n in t)X(t,n)&&(e[n]=t[n]);return e}const Ei=[].concat;function Qr(t){return Ei.apply([],t)}const Wr="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Qr([8,16,32,64].map(t=>["Int","Uint","Float"].map(e=>e+t+"Array")))).filter(t=>P[t]),Si=Wr.map(t=>P[t]);Lr(Wr,t=>[t,!0]);let fe=null;function nt(t){fe=typeof WeakMap<"u"&&new WeakMap;const e=yn(t);return fe=null,e}function yn(t){if(!t||typeof t!="object")return t;let e=fe&&fe.get(t);if(e)return e;if(V(t)){e=[],fe&&fe.set(t,e);for(var n=0,r=t.length;n<r;++n)e.push(yn(t[n]))}else if(Si.indexOf(t.constructor)>=0)e=t;else{const i=et(t);for(var o in e=i===Object.prototype?{}:Object.create(i),fe&&fe.set(t,e),t)X(t,o)&&(e[o]=yn(t[o]))}return e}const{toString:Ii}={};function gn(t){return Ii.call(t).slice(8,-1)}const vn=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Bi=typeof vn=="symbol"?function(t){var e;return t!=null&&(e=t[vn])&&e.apply(t)}:function(){return null},Ue={};function ae(t){var e,n,r,o;if(arguments.length===1){if(V(t))return t.slice();if(this===Ue&&typeof t=="string")return[t];if(o=Bi(t)){for(n=[];!(r=o.next()).done;)n.push(r.value);return n}if(t==null)return[t];if(typeof(e=t.length)=="number"){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}const bn=typeof Symbol<"u"?t=>t[Symbol.toStringTag]==="AsyncFunction":()=>!1;var te=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function qr(t,e){te=t,Yr=e}var Yr=()=>!0;const Oi=!new Error("").stack;function xe(){if(Oi)try{throw xe.arguments,new Error}catch(t){return t}return new Error}function xn(t,e){var n=t.stack;return n?(e=e||0,n.indexOf(t.name)===0&&(e+=(t.name+t.message).split(`
`).length),n.split(`
`).slice(e).filter(Yr).map(r=>`
`+r).join("")):""}var Gr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],wn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Gr),Ri={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function He(t,e){this._e=xe(),this.name=t,this.message=e}function zr(t,e){return t+". Errors: "+Object.keys(e).map(n=>e[n].toString()).filter((n,r,o)=>o.indexOf(n)===r).join(`
`)}function Rt(t,e,n,r){this._e=xe(),this.failures=e,this.failedKeys=r,this.successCount=n,this.message=zr(t,e)}function rt(t,e){this._e=xe(),this.name="BulkError",this.failures=Object.keys(e).map(n=>e[n]),this.failuresByPos=e,this.message=zr(t,e)}Te(He).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+xn(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Te(Rt).from(He),Te(rt).from(He);var An=wn.reduce((t,e)=>(t[e]=e+"Error",t),{});const ji=He;var I=wn.reduce((t,e)=>{var n=e+"Error";function r(o,i){this._e=xe(),this.name=n,o?typeof o=="string"?(this.message=`${o}${i?`
 `+i:""}`,this.inner=i||null):typeof o=="object"&&(this.message=`${o.name} ${o.message}`,this.inner=o):(this.message=Ri[e]||n,this.inner=null)}return Te(r).from(ji),t[e]=r,t},{});I.Syntax=SyntaxError,I.Type=TypeError,I.Range=RangeError;var Xr=Gr.reduce((t,e)=>(t[e+"Error"]=I[e],t),{}),jt=wn.reduce((t,e)=>(["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=I[e]),t),{});function j(){}function ot(t){return t}function Ki(t,e){return t==null||t===ot?e:function(n){return e(t(n))}}function we(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function Pi(t,e){return t===j?e:function(){var n=t.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?we(r,this.onsuccess):r),o&&(this.onerror=this.onerror?we(o,this.onerror):o),i!==void 0?i:n}}function Di(t,e){return t===j?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?we(n,this.onsuccess):n),r&&(this.onerror=this.onerror?we(r,this.onerror):r)}}function Ni(t,e){return t===j?e:function(n){var r=t.apply(this,arguments);q(n,r);var o=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=e.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?we(o,this.onsuccess):o),i&&(this.onerror=this.onerror?we(i,this.onerror):i),r===void 0?s===void 0?void 0:s:q(r,s)}}function Mi(t,e){return t===j?e:function(){return e.apply(this,arguments)!==!1&&t.apply(this,arguments)}}function kn(t,e){return t===j?e:function(){var n=t.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,o=arguments.length,i=new Array(o);o--;)i[o]=arguments[o];return n.then(function(){return e.apply(r,i)})}return e.apply(this,arguments)}}jt.ModifyError=Rt,jt.DexieError=He,jt.BulkError=rt;var it={};const Jr=100,[Cn,Kt,En]=typeof Promise>"u"?[]:(()=>{let t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,et(t),t];const e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,et(e),t]})(),Zr=Kt&&Kt.then,Pt=Cn&&Cn.constructor,Sn=!!En;var In=!1,Fi=En?()=>{En.then(Ft)}:P.setImmediate?setImmediate.bind(null,Ft):P.MutationObserver?()=>{var t=document.createElement("div");new MutationObserver(()=>{Ft(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:()=>{setTimeout(Ft,0)},st=function(t,e){at.push([t,e]),Dt&&(Fi(),Dt=!1)},Bn=!0,Dt=!0,Ae=[],Nt=[],On=null,Rn=ot,Le={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:co,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(t=>{try{co(t[0],t[1])}catch{}})}},E=Le,at=[],ke=0,Mt=[];function C(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=j,this._lib=!1;var e=this._PSD=E;if(te&&(this._stackHolder=xe(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==it)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Kn(this,this._value))}this._state=null,this._value=null,++e.ref,eo(this,t)}const jn={get:function(){var t=E,e=Ht;function n(r,o){var i=!t.global&&(t!==E||e!==Ht);const s=i&&!ce();var a=new C((u,h)=>{Pn(this,new $r(Vt(r,t,i,s),Vt(o,t,i,s),u,h,t))});return te&&ro(a,this),a}return n.prototype=it,n},set:function(t){ie(this,"then",t&&t.prototype===it?jn:{get:function(){return t},set:jn.set})}};function $r(t,e,n,r,o){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=n,this.reject=r,this.psd=o}function eo(t,e){try{e(n=>{if(t._state===null){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&ct();n&&typeof n.then=="function"?eo(t,(o,i)=>{n instanceof C?n._then(o,i):n.then(o,i)}):(t._state=!0,t._value=n,to(t)),r&&ut()}},Kn.bind(null,t))}catch(n){Kn(t,n)}}function Kn(t,e){if(Nt.push(e),t._state===null){var n=t._lib&&ct();e=Rn(e),t._state=!1,t._value=e,te&&e!==null&&typeof e=="object"&&!e._promise&&function(r,o,i){try{r.apply(null,i)}catch(s){o&&o(s)}}(()=>{var r=mn(e,"stack");e._promise=t,ie(e,"stack",{get:()=>In?r&&(r.get?r.get.apply(e):r.value):t.stack})}),function(r){Ae.some(o=>o._value===r._value)||Ae.push(r)}(t),to(t),n&&ut()}}function to(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)Pn(t,e[n]);var o=t._PSD;--o.ref||o.finalize(),ke===0&&(++ke,st(()=>{--ke==0&&Dn()},[]))}function Pn(t,e){if(t._state!==null){var n=t._state?e.onFulfilled:e.onRejected;if(n===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++ke,st(Ti,[n,t,e])}else t._listeners.push(e)}function Ti(t,e,n){try{On=e;var r,o=e._value;e._state?r=t(o):(Nt.length&&(Nt=[]),r=t(o),Nt.indexOf(o)===-1&&function(i){for(var s=Ae.length;s;)if(Ae[--s]._value===i._value)return void Ae.splice(s,1)}(e)),n.resolve(r)}catch(i){n.reject(i)}finally{On=null,--ke==0&&Dn(),--n.psd.ref||n.psd.finalize()}}function no(t,e,n){if(e.length===n)return e;var r="";if(t._state===!1){var o,i,s=t._value;s!=null?(o=s.name||"Error",i=s.message||s,r=xn(s,0)):(o=s,i=""),e.push(o+(i?": "+i:"")+r)}return te&&((r=xn(t._stackHolder,2))&&e.indexOf(r)===-1&&e.push(r),t._prev&&no(t._prev,e,n)),e}function ro(t,e){var n=e?e._numPrev+1:0;n<100&&(t._prev=e,t._numPrev=n)}function Ft(){ct()&&ut()}function ct(){var t=Bn;return Bn=!1,Dt=!1,t}function ut(){var t,e,n;do for(;at.length>0;)for(t=at,at=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}while(at.length>0);Bn=!0,Dt=!0}function Dn(){var t=Ae;Ae=[],t.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var e=Mt.slice(0),n=e.length;n;)e[--n]()}function Tt(t){return new C(it,!1,t)}function N(t,e){var n=E;return function(){var r=ct(),o=E;try{return _e(n,!0),t.apply(this,arguments)}catch(i){e&&e(i)}finally{_e(o,!1),r&&ut()}}}Fe(C.prototype,{then:jn,_then:function(t,e){Pn(this,new $r(null,null,t,e,E))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],n=arguments[1];return typeof e=="function"?this.then(null,r=>r instanceof e?n(r):Tt(r)):this.then(null,r=>r&&r.name===e?n(r):Tt(r))},finally:function(t){return this.then(e=>(t(),e),e=>(t(),Tt(e)))},stack:{get:function(){if(this._stack)return this._stack;try{In=!0;var t=no(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=t),t}finally{In=!1}}},timeout:function(t,e){return t<1/0?new C((n,r)=>{var o=setTimeout(()=>r(new I.Timeout(e)),t);this.then(n,r).finally(clearTimeout.bind(null,o))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&ie(C.prototype,Symbol.toStringTag,"Dexie.Promise"),Le.env=oo(),Fe(C,{all:function(){var t=ae.apply(null,arguments).map(Lt);return new C(function(e,n){t.length===0&&e([]);var r=t.length;t.forEach((o,i)=>C.resolve(o).then(s=>{t[i]=s,--r||e(t)},n))})},resolve:t=>{if(t instanceof C)return t;if(t&&typeof t.then=="function")return new C((n,r)=>{t.then(n,r)});var e=new C(it,!0,t);return ro(e,On),e},reject:Tt,race:function(){var t=ae.apply(null,arguments).map(Lt);return new C((e,n)=>{t.map(r=>C.resolve(r).then(e,n))})},PSD:{get:()=>E,set:t=>E=t},totalEchoes:{get:()=>Ht},newPSD:pe,usePSD:Qe,scheduler:{get:()=>st,set:t=>{st=t}},rejectionMapper:{get:()=>Rn,set:t=>{Rn=t}},follow:(t,e)=>new C((n,r)=>pe((o,i)=>{var s=E;s.unhandleds=[],s.onunhandled=i,s.finalize=we(function(){(function(a){function u(){a(),Mt.splice(Mt.indexOf(u),1)}Mt.push(u),++ke,st(()=>{--ke==0&&Dn()},[])})(()=>{this.unhandleds.length===0?o():i(this.unhandleds[0])})},s.finalize),t()},e,n,r))}),Pt&&(Pt.allSettled&&ie(C,"allSettled",function(){const t=ae.apply(null,arguments).map(Lt);return new C(e=>{t.length===0&&e([]);let n=t.length;const r=new Array(n);t.forEach((o,i)=>C.resolve(o).then(s=>r[i]={status:"fulfilled",value:s},s=>r[i]={status:"rejected",reason:s}).then(()=>--n||e(r)))})}),Pt.any&&typeof AggregateError<"u"&&ie(C,"any",function(){const t=ae.apply(null,arguments).map(Lt);return new C((e,n)=>{t.length===0&&n(new AggregateError([]));let r=t.length;const o=new Array(r);t.forEach((i,s)=>C.resolve(i).then(a=>e(a),a=>{o[s]=a,--r||n(new AggregateError(o))}))})}));const Q={awaits:0,echoes:0,id:0};var Ui=0,Ut=[],Nn=0,Ht=0,Hi=0;function pe(t,e,n,r){var o=E,i=Object.create(o);i.parent=o,i.ref=0,i.global=!1,i.id=++Hi;var s=Le.env;i.env=Sn?{Promise:C,PromiseProp:{value:C,configurable:!0,writable:!0},all:C.all,race:C.race,allSettled:C.allSettled,any:C.any,resolve:C.resolve,reject:C.reject,nthen:so(s.nthen,i),gthen:so(s.gthen,i)}:{},e&&q(i,e),++o.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=Qe(i,t,n,r);return i.ref===0&&i.finalize(),a}function Ve(){return Q.id||(Q.id=++Ui),++Q.awaits,Q.echoes+=Jr,Q.id}function ce(){return!!Q.awaits&&(--Q.awaits==0&&(Q.id=0),Q.echoes=Q.awaits*Jr,!0)}function Lt(t){return Q.echoes&&t&&t.constructor===Pt?(Ve(),t.then(e=>(ce(),e),e=>(ce(),L(e)))):t}function Li(t){++Ht,Q.echoes&&--Q.echoes!=0||(Q.echoes=Q.id=0),Ut.push(E),_e(t,!0)}function Vi(){var t=Ut[Ut.length-1];Ut.pop(),_e(t,!1)}function _e(t,e){var n=E;if((e?!Q.echoes||Nn++&&t===E:!Nn||--Nn&&t===E)||io(e?Li.bind(null,t):Vi),t!==E&&(E=t,n===Le&&(Le.env=oo()),Sn)){var r=Le.env.Promise,o=t.env;Kt.then=o.nthen,r.prototype.then=o.gthen,(n.global||t.global)&&(Object.defineProperty(P,"Promise",o.PromiseProp),r.all=o.all,r.race=o.race,r.resolve=o.resolve,r.reject=o.reject,o.allSettled&&(r.allSettled=o.allSettled),o.any&&(r.any=o.any))}}function oo(){var t=P.Promise;return Sn?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(P,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:Kt.then,gthen:t.prototype.then}:{}}function Qe(t,e,n,r,o){var i=E;try{return _e(t,!0),e(n,r,o)}finally{_e(i,!1)}}function io(t){Zr.call(Cn,t)}function Vt(t,e,n,r){return typeof t!="function"?t:function(){var o=E;n&&Ve(),_e(e,!0);try{return t.apply(this,arguments)}finally{_e(o,!1),r&&io(ce)}}}function so(t,e){return function(n,r){return t.call(this,Vt(n,e),Vt(r,e))}}(""+Zr).indexOf("[native code]")===-1&&(Ve=ce=j);const ao="unhandledrejection";function co(t,e){var n;try{n=e.onuncatched(t)}catch{}if(n!==!1)try{var r,o={promise:e,reason:t};if(P.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(ao,!0,!0),q(r,o)):P.CustomEvent&&q(r=new CustomEvent(ao,{detail:o}),o),r&&P.dispatchEvent&&(dispatchEvent(r),!P.PromiseRejectionEvent&&P.onunhandledrejection))try{P.onunhandledrejection(r)}catch{}te&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${t.stack||t}`)}catch{}}var L=C.reject;function Mn(t,e,n,r){if(t.idbdb&&(t._state.openComplete||E.letThrough||t._vip)){var o=t._createTransaction(e,n,t._dbSchema);try{o.create(),t._state.PR1398_maxLoop=3}catch(i){return i.name===An.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>Mn(t,e,n,r))):L(i)}return o._promise(e,(i,s)=>pe(()=>(E.trans=o,r(i,s,o)))).then(i=>o._completion.then(()=>i))}if(t._state.openComplete)return L(new I.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return L(new I.DatabaseClosed);t.open().catch(j)}return t._state.dbReadyPromise.then(()=>Mn(t,e,n,r))}const uo="3.2.5",Ce="￿",Fn=-1/0,ue="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",lo="String expected.",lt=[],Qt=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Qi=Qt,Wi=Qt,ho=t=>!/(dexie\.js|dexie\.min\.js)/.test(t),Wt="__dbnames",Tn="readonly",Un="readwrite";function Ee(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}const fo={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function qt(t){return typeof t!="string"||/\./.test(t)?e=>e:e=>(e[t]===void 0&&t in e&&delete(e=nt(e))[t],e)}class qi{_trans(e,n,r){const o=this._tx||E.trans,i=this.name;function s(u,h,l){if(!l.schema[i])throw new I.NotFound("Table "+i+" not part of transaction");return n(l.idbtrans,l)}const a=ct();try{return o&&o.db===this.db?o===E.trans?o._promise(e,s,r):pe(()=>o._promise(e,s,r),{trans:o,transless:E.transless||E}):Mn(this.db,e,[this.name],s)}finally{a&&ut()}}get(e,n){return e&&e.constructor===Object?this.where(e).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:e}).then(o=>this.hook.reading.fire(o))).then(n)}where(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(V(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const n=H(e);if(n.length===1)return this.where(n[0]).equals(e[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(h=>{if(h.compound&&n.every(l=>h.keyPath.indexOf(l)>=0)){for(let l=0;l<n.length;++l)if(n.indexOf(h.keyPath[l])===-1)return!1;return!0}return!1}).sort((h,l)=>h.keyPath.length-l.keyPath.length)[0];if(r&&this.db._maxKey!==Ce){const h=r.keyPath.slice(0,n.length);return this.where(h).equals(h.map(l=>e[l]))}!r&&te&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:o}=this.schema,i=this.db._deps.indexedDB;function s(h,l){try{return i.cmp(h,l)===0}catch{return!1}}const[a,u]=n.reduce(([h,l],c)=>{const d=o[c],f=e[c];return[h||d,h||!d?Ee(l,d&&d.multi?y=>{const m=se(y,c);return V(m)&&m.some(g=>s(f,g))}:y=>s(f,se(y,c))):l]},[null,null]);return a?this.where(a.name).equals(e[a.keyPath]).filter(u):r?this.filter(u):this.where(n).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,V(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const n=r=>{if(!r)return r;const o=Object.create(e.prototype);for(var i in r)if(X(r,i))try{o[i]=r[i]}catch{}return o};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),e}defineClass(){return this.mapToClass(function(e){q(this,e)})}add(e,n){const{auto:r,keyPath:o}=this.schema.primKey;let i=e;return o&&r&&(i=qt(o)(e)),this._trans("readwrite",s=>this.core.mutate({trans:s,type:"add",keys:n!=null?[n]:null,values:[i]})).then(s=>s.numFailures?C.reject(s.failures[0]):s.lastResult).then(s=>{if(o)try{Z(e,o,s)}catch{}return s})}update(e,n){if(typeof e!="object"||V(e))return this.where(":id").equals(e).modify(n);{const r=se(e,this.schema.primKey.keyPath);if(r===void 0)return L(new I.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?H(n).forEach(o=>{Z(e,o,n[o])}):n(e,{value:e,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(e,n){const{auto:r,keyPath:o}=this.schema.primKey;let i=e;return o&&r&&(i=qt(o)(e)),this._trans("readwrite",s=>this.core.mutate({trans:s,type:"put",values:[i],keys:n!=null?[n]:null})).then(s=>s.numFailures?C.reject(s.failures[0]):s.lastResult).then(s=>{if(o)try{Z(e,o,s)}catch{}return s})}delete(e){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[e]})).then(n=>n.numFailures?C.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"deleteRange",range:fo})).then(e=>e.numFailures?C.reject(e.failures[0]):void 0)}bulkGet(e){return this._trans("readonly",n=>this.core.getMany({keys:e,trans:n}).then(r=>r.map(o=>this.hook.reading.fire(o))))}bulkAdd(e,n,r){const o=Array.isArray(n)?n:void 0,i=(r=r||(o?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",s=>{const{auto:a,keyPath:u}=this.schema.primKey;if(u&&o)throw new I.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new I.InvalidArgument("Arguments objects and keys must have the same length");const h=e.length;let l=u&&a?e.map(qt(u)):e;return this.core.mutate({trans:s,type:"add",keys:o,values:l,wantResults:i}).then(({numFailures:c,results:d,lastResult:f,failures:y})=>{if(c===0)return i?d:f;throw new rt(`${this.name}.bulkAdd(): ${c} of ${h} operations failed`,y)})})}bulkPut(e,n,r){const o=Array.isArray(n)?n:void 0,i=(r=r||(o?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",s=>{const{auto:a,keyPath:u}=this.schema.primKey;if(u&&o)throw new I.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new I.InvalidArgument("Arguments objects and keys must have the same length");const h=e.length;let l=u&&a?e.map(qt(u)):e;return this.core.mutate({trans:s,type:"put",keys:o,values:l,wantResults:i}).then(({numFailures:c,results:d,lastResult:f,failures:y})=>{if(c===0)return i?d:f;throw new rt(`${this.name}.bulkPut(): ${c} of ${h} operations failed`,y)})})}bulkDelete(e){const n=e.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:e})).then(({numFailures:r,lastResult:o,failures:i})=>{if(r===0)return o;throw new rt(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,i)})}}function ht(t){var e={},n=function(s,a){if(a){for(var u=arguments.length,h=new Array(u-1);--u;)h[u-1]=arguments[u];return e[s].subscribe.apply(null,h),t}if(typeof s=="string")return e[s]};n.addEventType=i;for(var r=1,o=arguments.length;r<o;++r)i(arguments[r]);return n;function i(s,a,u){if(typeof s!="object"){var h;a||(a=Mi),u||(u=j);var l={subscribers:[],fire:u,subscribe:function(c){l.subscribers.indexOf(c)===-1&&(l.subscribers.push(c),l.fire=a(l.fire,c))},unsubscribe:function(c){l.subscribers=l.subscribers.filter(function(d){return d!==c}),l.fire=l.subscribers.reduce(a,u)}};return e[s]=n[s]=l,l}H(h=s).forEach(function(c){var d=h[c];if(V(d))i(c,h[c][0],h[c][1]);else{if(d!=="asap")throw new I.InvalidArgument("Invalid event config");var f=i(c,ot,function(){for(var y=arguments.length,m=new Array(y);y--;)m[y]=arguments[y];f.subscribers.forEach(function(g){Hr(function(){g.apply(null,m)})})})}})}}function dt(t,e){return Te(e).from({prototype:t}),e}function We(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function Hn(t,e){t.filter=Ee(t.filter,e)}function Ln(t,e,n){var r=t.replayFilter;t.replayFilter=r?()=>Ee(r(),e()):e,t.justLimit=n&&!r}function Yt(t,e){if(t.isPrimKey)return e.primaryKey;const n=e.getIndexByKeyPath(t.index);if(!n)throw new I.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function po(t,e,n){const r=Yt(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:r,range:t.range}})}function Gt(t,e,n,r){const o=t.replayFilter?Ee(t.filter,t.replayFilter()):t.filter;if(t.or){const i={},s=(a,u,h)=>{if(!o||o(u,h,d=>u.stop(d),d=>u.fail(d))){var l=u.primaryKey,c=""+l;c==="[object ArrayBuffer]"&&(c=""+new Uint8Array(l)),X(i,c)||(i[c]=!0,e(a,u,h))}};return Promise.all([t.or._iterate(s,n),_o(po(t,r,n),t.algorithm,s,!t.keysOnly&&t.valueMapper)])}return _o(po(t,r,n),Ee(t.algorithm,o),e,!t.keysOnly&&t.valueMapper)}function _o(t,e,n,r){var o=N(r?(i,s,a)=>n(r(i),s,a):n);return t.then(i=>{if(i)return i.start(()=>{var s=()=>i.continue();e&&!e(i,a=>s=a,a=>{i.stop(a),s=j},a=>{i.fail(a),s=j})||o(i.value,i,a=>s=a),s()})})}function Y(t,e){try{const n=mo(t),r=mo(e);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return function(o,i){const s=o.length,a=i.length,u=s<a?s:a;for(let h=0;h<u;++h)if(o[h]!==i[h])return o[h]<i[h]?-1:1;return s===a?0:s<a?-1:1}(yo(t),yo(e));case"Array":return function(o,i){const s=o.length,a=i.length,u=s<a?s:a;for(let h=0;h<u;++h){const l=Y(o[h],i[h]);if(l!==0)return l}return s===a?0:s<a?-1:1}(t,e)}}catch{}return NaN}function mo(t){const e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";const n=gn(t);return n==="ArrayBuffer"?"binary":n}function yo(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}class Yi{_read(e,n){var r=this._ctx;return r.error?r.table._trans(null,L.bind(null,r.error)):r.table._trans("readonly",e).then(n)}_write(e){var n=this._ctx;return n.error?n.table._trans(null,L.bind(null,n.error)):n.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var n=this._ctx;n.algorithm=Ee(n.algorithm,e)}_iterate(e,n){return Gt(this._ctx,e,n,this._ctx.table.core)}clone(e){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&q(r,e),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(e){var n=this._ctx;return this._read(r=>Gt(n,e,r,n.table.core))}count(e){return this._read(n=>{const r=this._ctx,o=r.table.core;if(We(r,!0))return o.count({trans:n,query:{index:Yt(r,o.schema),range:r.range}}).then(s=>Math.min(s,r.limit));var i=0;return Gt(r,()=>(++i,!1),n,o).then(()=>i)}).then(e)}sortBy(e,n){const r=e.split(".").reverse(),o=r[0],i=r.length-1;function s(h,l){return l?s(h[r[l]],l-1):h[o]}var a=this._ctx.dir==="next"?1:-1;function u(h,l){var c=s(h,i),d=s(l,i);return c<d?-a:c>d?a:0}return this.toArray(function(h){return h.sort(u)}).then(n)}toArray(e){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&We(r,!0)&&r.limit>0){const{valueMapper:o}=r,i=Yt(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:i,range:r.range}}).then(({result:s})=>o?s.map(o):s)}{const o=[];return Gt(r,i=>o.push(i),n,r.table.core).then(()=>o)}},e)}offset(e){var n=this._ctx;return e<=0||(n.offset+=e,We(n)?Ln(n,()=>{var r=e;return(o,i)=>r===0||(r===1?(--r,!1):(i(()=>{o.advance(r),r=0}),!1))}):Ln(n,()=>{var r=e;return()=>--r<0})),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Ln(this._ctx,()=>{var n=e;return function(r,o,i){return--n<=0&&o(i),n>=0}},!0),this}until(e,n){return Hn(this._ctx,function(r,o,i){return!e(r.value)||(o(i),n)}),this}first(e){return this.limit(1).toArray(function(n){return n[0]}).then(e)}last(e){return this.reverse().first(e)}filter(e){var n,r;return Hn(this._ctx,function(o){return e(o.value)}),n=this._ctx,r=e,n.isMatch=Ee(n.isMatch,r),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,o){e(o.key,o)})}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,o){e(o.primaryKey,o)})}keys(e){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(o,i){r.push(i.key)}).then(function(){return r}).then(e)}primaryKeys(e){var n=this._ctx;if(n.dir==="next"&&We(n,!0)&&n.limit>0)return this._read(o=>{var i=Yt(n,n.table.core.schema);return n.table.core.query({trans:o,values:!1,limit:n.limit,query:{index:i,range:n.range}})}).then(({result:o})=>o).then(e);n.keysOnly=!n.isMatch;var r=[];return this.each(function(o,i){r.push(i.primaryKey)}).then(function(){return r}).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys(function(n){return n[0]}).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,n=e.index&&e.table.schema.idxByName[e.index];if(!n||!n.multi)return this;var r={};return Hn(this._ctx,function(o){var i=o.primaryKey.toString(),s=X(r,i);return r[i]=!0,!s}),this}modify(e){var n=this._ctx;return this._write(r=>{var o;if(typeof e=="function")o=e;else{var i=H(e),s=i.length;o=function(m){for(var g=!1,_=0;_<s;++_){var p=i[_],b=e[p];se(m,p)!==b&&(Z(m,p,b),g=!0)}return g}}const a=n.table.core,{outbound:u,extractKey:h}=a.schema.primaryKey,l=this.db._options.modifyChunkSize||200,c=[];let d=0;const f=[],y=(m,g)=>{const{failures:_,numFailures:p}=g;d+=m-p;for(let b of H(_))c.push(_[b])};return this.clone().primaryKeys().then(m=>{const g=_=>{const p=Math.min(l,m.length-_);return a.getMany({trans:r,keys:m.slice(_,_+p),cache:"immutable"}).then(b=>{const w=[],A=[],k=u?[]:null,x=[];for(let v=0;v<p;++v){const K=b[v],R={value:nt(K),primKey:m[_+v]};o.call(R,R.value,R)!==!1&&(R.value==null?x.push(m[_+v]):u||Y(h(K),h(R.value))===0?(A.push(R.value),u&&k.push(m[_+v])):(x.push(m[_+v]),w.push(R.value)))}const B=We(n)&&n.limit===1/0&&(typeof e!="function"||e===Vn)&&{index:n.index,range:n.range};return Promise.resolve(w.length>0&&a.mutate({trans:r,type:"add",values:w}).then(v=>{for(let K in v.failures)x.splice(parseInt(K),1);y(w.length,v)})).then(()=>(A.length>0||B&&typeof e=="object")&&a.mutate({trans:r,type:"put",keys:k,values:A,criteria:B,changeSpec:typeof e!="function"&&e}).then(v=>y(A.length,v))).then(()=>(x.length>0||B&&e===Vn)&&a.mutate({trans:r,type:"delete",keys:x,criteria:B}).then(v=>y(x.length,v))).then(()=>m.length>_+p&&g(_+l))})};return g(0).then(()=>{if(c.length>0)throw new Rt("Error modifying one or more objects",c,d,f);return m.length})})})}delete(){var e=this._ctx,n=e.range;return We(e)&&(e.isPrimKey&&!Wi||n.type===3)?this._write(r=>{const{primaryKey:o}=e.table.core.schema,i=n;return e.table.core.count({trans:r,query:{index:o,range:i}}).then(s=>e.table.core.mutate({trans:r,type:"deleteRange",range:i}).then(({failures:a,lastResult:u,results:h,numFailures:l})=>{if(l)throw new Rt("Could not delete some values",Object.keys(a).map(c=>a[c]),s-l);return s-l}))}):this.modify(Vn)}}const Vn=(t,e)=>e.value=null;function Gi(t,e){return t<e?-1:t===e?0:1}function zi(t,e){return t>e?-1:t===e?0:1}function J(t,e,n){var r=t instanceof vo?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function qe(t){return new t.Collection(t,()=>go("")).limit(0)}function Xi(t,e,n,r,o,i){for(var s=Math.min(t.length,r.length),a=-1,u=0;u<s;++u){var h=e[u];if(h!==r[u])return o(t[u],n[u])<0?t.substr(0,u)+n[u]+n.substr(u+1):o(t[u],r[u])<0?t.substr(0,u)+r[u]+n.substr(u+1):a>=0?t.substr(0,a)+e[a]+n.substr(a+1):null;o(t[u],h)<0&&(a=u)}return s<r.length&&i==="next"?t+n.substr(t.length):s<t.length&&i==="prev"?t.substr(0,n.length):a<0?null:t.substr(0,a)+r[a]+n.substr(a+1)}function zt(t,e,n,r){var o,i,s,a,u,h,l,c=n.length;if(!n.every(m=>typeof m=="string"))return J(t,lo);function d(m){o=function(_){return _==="next"?p=>p.toUpperCase():p=>p.toLowerCase()}(m),i=function(_){return _==="next"?p=>p.toLowerCase():p=>p.toUpperCase()}(m),s=m==="next"?Gi:zi;var g=n.map(function(_){return{lower:i(_),upper:o(_)}}).sort(function(_,p){return s(_.lower,p.lower)});a=g.map(function(_){return _.upper}),u=g.map(function(_){return _.lower}),h=m,l=m==="next"?"":r}d("next");var f=new t.Collection(t,()=>me(a[0],u[c-1]+r));f._ondirectionchange=function(m){d(m)};var y=0;return f._addAlgorithm(function(m,g,_){var p=m.key;if(typeof p!="string")return!1;var b=i(p);if(e(b,u,y))return!0;for(var w=null,A=y;A<c;++A){var k=Xi(p,b,a[A],u[A],s,h);k===null&&w===null?y=A+1:(w===null||s(w,k)>0)&&(w=k)}return g(w!==null?function(){m.continue(w+l)}:_),!1}),f}function me(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function go(t){return{type:1,lower:t,upper:t}}class vo{get Collection(){return this._ctx.table.db.Collection}between(e,n,r,o){r=r!==!1,o=o===!0;try{return this._cmp(e,n)>0||this._cmp(e,n)===0&&(r||o)&&(!r||!o)?qe(this):new this.Collection(this,()=>me(e,n,!r,!o))}catch{return J(this,ue)}}equals(e){return e==null?J(this,ue):new this.Collection(this,()=>go(e))}above(e){return e==null?J(this,ue):new this.Collection(this,()=>me(e,void 0,!0))}aboveOrEqual(e){return e==null?J(this,ue):new this.Collection(this,()=>me(e,void 0,!1))}below(e){return e==null?J(this,ue):new this.Collection(this,()=>me(void 0,e,!1,!0))}belowOrEqual(e){return e==null?J(this,ue):new this.Collection(this,()=>me(void 0,e))}startsWith(e){return typeof e!="string"?J(this,lo):this.between(e,e+Ce,!0,!0)}startsWithIgnoreCase(e){return e===""?this.startsWith(e):zt(this,(n,r)=>n.indexOf(r[0])===0,[e],Ce)}equalsIgnoreCase(e){return zt(this,(n,r)=>n===r[0],[e],"")}anyOfIgnoreCase(){var e=ae.apply(Ue,arguments);return e.length===0?qe(this):zt(this,(n,r)=>r.indexOf(n)!==-1,e,"")}startsWithAnyOfIgnoreCase(){var e=ae.apply(Ue,arguments);return e.length===0?qe(this):zt(this,(n,r)=>r.some(o=>n.indexOf(o)===0),e,Ce)}anyOf(){const e=ae.apply(Ue,arguments);let n=this._cmp;try{e.sort(n)}catch{return J(this,ue)}if(e.length===0)return qe(this);const r=new this.Collection(this,()=>me(e[0],e[e.length-1]));r._ondirectionchange=i=>{n=i==="next"?this._ascending:this._descending,e.sort(n)};let o=0;return r._addAlgorithm((i,s,a)=>{const u=i.key;for(;n(u,e[o])>0;)if(++o,o===e.length)return s(a),!1;return n(u,e[o])===0||(s(()=>{i.continue(e[o])}),!1)}),r}notEqual(e){return this.inAnyRange([[Fn,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=ae.apply(Ue,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return J(this,ue)}const n=e.reduce((r,o)=>r?r.concat([[r[r.length-1][1],o]]):[[Fn,o]],null);return n.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,n){const r=this._cmp,o=this._ascending,i=this._descending,s=this._min,a=this._max;if(e.length===0)return qe(this);if(!e.every(p=>p[0]!==void 0&&p[1]!==void 0&&o(p[0],p[1])<=0))return J(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",I.InvalidArgument);const u=!n||n.includeLowers!==!1,h=n&&n.includeUppers===!0;let l,c=o;function d(p,b){return c(p[0],b[0])}try{l=e.reduce(function(p,b){let w=0,A=p.length;for(;w<A;++w){const k=p[w];if(r(b[0],k[1])<0&&r(b[1],k[0])>0){k[0]=s(k[0],b[0]),k[1]=a(k[1],b[1]);break}}return w===A&&p.push(b),p},[]),l.sort(d)}catch{return J(this,ue)}let f=0;const y=h?p=>o(p,l[f][1])>0:p=>o(p,l[f][1])>=0,m=u?p=>i(p,l[f][0])>0:p=>i(p,l[f][0])>=0;let g=y;const _=new this.Collection(this,()=>me(l[0][0],l[l.length-1][1],!u,!h));return _._ondirectionchange=p=>{p==="next"?(g=y,c=o):(g=m,c=i),l.sort(d)},_._addAlgorithm((p,b,w)=>{for(var A=p.key;g(A);)if(++f,f===l.length)return b(w),!1;return!!function(k){return!y(k)&&!m(k)}(A)||(this._cmp(A,l[f][1])===0||this._cmp(A,l[f][0])===0||b(()=>{c===o?p.continue(l[f][0]):p.continue(l[f][1])}),!1)}),_}startsWithAnyOf(){const e=ae.apply(Ue,arguments);return e.every(n=>typeof n=="string")?e.length===0?qe(this):this.inAnyRange(e.map(n=>[n,n+Ce])):J(this,"startsWithAnyOf() only works with strings")}}function ne(t){return N(function(e){return ft(e),t(e.target.error),!1})}function ft(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}const pt="storagemutated",ye="x-storagemutated-1",ge=ht(null,pt);class Ji{_lock(){return tt(!E.global),++this._reculock,this._reculock!==1||E.global||(E.lockOwnerFor=this),this}_unlock(){if(tt(!E.global),--this._reculock==0)for(E.global||(E.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Qe(e[1],e[0])}catch{}}return this}_locked(){return this._reculock&&E.lockOwnerFor!==this}create(e){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(tt(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new I.DatabaseClosed(r);case"MissingAPIError":throw new I.MissingAPI(r.message,r);default:throw new I.OpenFailed(r)}if(!this.active)throw new I.TransactionInactive;return tt(this._completion._state===null),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=N(o=>{ft(o),this._reject(e.error)}),e.onabort=N(o=>{ft(o),this.active&&this._reject(new I.Abort(e.error)),this.active=!1,this.on("abort").fire(o)}),e.oncomplete=N(()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&ge.storagemutated.fire(e.mutatedParts)}),this}_promise(e,n,r){if(e==="readwrite"&&this.mode!=="readwrite")return L(new I.ReadOnly("Transaction is readonly"));if(!this.active)return L(new I.TransactionInactive);if(this._locked())return new C((i,s)=>{this._blockedFuncs.push([()=>{this._promise(e,n,r).then(i,s)},E])});if(r)return pe(()=>{var i=new C((s,a)=>{this._lock();const u=n(s,a,this);u&&u.then&&u.then(s,a)});return i.finally(()=>this._unlock()),i._lib=!0,i});var o=new C((i,s)=>{var a=n(i,s,this);a&&a.then&&a.then(i,s)});return o._lib=!0,o}_root(){return this.parent?this.parent._root():this}waitFor(e){var n=this._root();const r=C.resolve(e);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var o=n.idbtrans.objectStore(n.storeNames[0]);(function s(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(o.get(-1/0).onsuccess=s)})()}var i=n._waitingFor;return new C((s,a)=>{r.then(u=>n._waitingQueue.push(N(s.bind(null,u))),u=>n._waitingQueue.push(N(a.bind(null,u)))).finally(()=>{n._waitingFor===i&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new I.Abort))}table(e){const n=this._memoizedTables||(this._memoizedTables={});if(X(n,e))return n[e];const r=this.schema[e];if(!r)throw new I.NotFound("Table "+e+" not part of transaction");const o=new this.db.Table(e,r,this);return o.core=this.db.core.table(e),n[e]=o,o}}function Qn(t,e,n,r,o,i,s){return{name:t,keyPath:e,unique:n,multi:r,auto:o,compound:i,src:(n&&!s?"&":"")+(r?"*":"")+(o?"++":"")+bo(e)}}function bo(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function xo(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:Lr(n,r=>[r.name,r])}}let _t=t=>{try{return t.only([[]]),_t=()=>[[]],[[]]}catch{return _t=()=>Ce,Ce}};function Wn(t){return t==null?()=>{}:typeof t=="string"?function(e){return e.split(".").length===1?r=>r[e]:r=>se(r,e)}(t):e=>se(e,t)}function wo(t){return[].slice.call(t)}let Zi=0;function mt(t){return t==null?":id":typeof t=="string"?t:`[${t.join("+")}]`}function $i(t,e,n){function r(u){if(u.type===3)return null;if(u.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:h,upper:l,lowerOpen:c,upperOpen:d}=u;return h===void 0?l===void 0?null:e.upperBound(l,!!d):l===void 0?e.lowerBound(h,!!c):e.bound(h,l,!!c,!!d)}const{schema:o,hasGetAll:i}=function(u,h){const l=wo(u.objectStoreNames);return{schema:{name:u.name,tables:l.map(c=>h.objectStore(c)).map(c=>{const{keyPath:d,autoIncrement:f}=c,y=V(d),m=d==null,g={},_={name:c.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:m,compound:y,keyPath:d,autoIncrement:f,unique:!0,extractKey:Wn(d)},indexes:wo(c.indexNames).map(p=>c.index(p)).map(p=>{const{name:b,unique:w,multiEntry:A,keyPath:k}=p,x={name:b,compound:V(k),keyPath:k,unique:w,multiEntry:A,extractKey:Wn(k)};return g[mt(k)]=x,x}),getIndexByKeyPath:p=>g[mt(p)]};return g[":id"]=_.primaryKey,d!=null&&(g[mt(d)]=_.primaryKey),_})},hasGetAll:l.length>0&&"getAll"in h.objectStore(l[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(t,n),s=o.tables.map(u=>function(h){const l=h.name;return{name:l,schema:h,mutate:function({trans:c,type:d,keys:f,values:y,range:m}){return new Promise((g,_)=>{g=N(g);const p=c.objectStore(l),b=p.keyPath==null,w=d==="put"||d==="add";if(!w&&d!=="delete"&&d!=="deleteRange")throw new Error("Invalid operation type: "+d);const{length:A}=f||y||{length:1};if(f&&y&&f.length!==y.length)throw new Error("Given keys array must have same length as given values array.");if(A===0)return g({numFailures:0,failures:{},results:[],lastResult:void 0});let k;const x=[],B=[];let v=0;const K=G=>{++v,ft(G)};if(d==="deleteRange"){if(m.type===4)return g({numFailures:v,failures:B,results:[],lastResult:void 0});m.type===3?x.push(k=p.clear()):x.push(k=p.delete(r(m)))}else{const[G,W]=w?b?[y,f]:[y,null]:[f,null];if(w)for(let T=0;T<A;++T)x.push(k=W&&W[T]!==void 0?p[d](G[T],W[T]):p[d](G[T])),k.onerror=K;else for(let T=0;T<A;++T)x.push(k=p[d](G[T])),k.onerror=K}const R=G=>{const W=G.target.result;x.forEach((T,ze)=>T.error!=null&&(B[ze]=T.error)),g({numFailures:v,failures:B,results:d==="delete"?f:x.map(T=>T.result),lastResult:W})};k.onerror=G=>{K(G),R(G)},k.onsuccess=R})},getMany:({trans:c,keys:d})=>new Promise((f,y)=>{f=N(f);const m=c.objectStore(l),g=d.length,_=new Array(g);let p,b=0,w=0;const A=x=>{const B=x.target;_[B._pos]=B.result,++w===b&&f(_)},k=ne(y);for(let x=0;x<g;++x)d[x]!=null&&(p=m.get(d[x]),p._pos=x,p.onsuccess=A,p.onerror=k,++b);b===0&&f(_)}),get:({trans:c,key:d})=>new Promise((f,y)=>{f=N(f);const m=c.objectStore(l).get(d);m.onsuccess=g=>f(g.target.result),m.onerror=ne(y)}),query:function(c){return d=>new Promise((f,y)=>{f=N(f);const{trans:m,values:g,limit:_,query:p}=d,b=_===1/0?void 0:_,{index:w,range:A}=p,k=m.objectStore(l),x=w.isPrimaryKey?k:k.index(w.name),B=r(A);if(_===0)return f({result:[]});if(c){const v=g?x.getAll(B,b):x.getAllKeys(B,b);v.onsuccess=K=>f({result:K.target.result}),v.onerror=ne(y)}else{let v=0;const K=g||!("openKeyCursor"in x)?x.openCursor(B):x.openKeyCursor(B),R=[];K.onsuccess=G=>{const W=K.result;return W?(R.push(g?W.value:W.primaryKey),++v===_?f({result:R}):void W.continue()):f({result:R})},K.onerror=ne(y)}})}(i),openCursor:function({trans:c,values:d,query:f,reverse:y,unique:m}){return new Promise((g,_)=>{g=N(g);const{index:p,range:b}=f,w=c.objectStore(l),A=p.isPrimaryKey?w:w.index(p.name),k=y?m?"prevunique":"prev":m?"nextunique":"next",x=d||!("openKeyCursor"in A)?A.openCursor(r(b),k):A.openKeyCursor(r(b),k);x.onerror=ne(_),x.onsuccess=N(B=>{const v=x.result;if(!v)return void g(null);v.___id=++Zi,v.done=!1;const K=v.continue.bind(v);let R=v.continuePrimaryKey;R&&(R=R.bind(v));const G=v.advance.bind(v),W=()=>{throw new Error("Cursor not stopped")};v.trans=c,v.stop=v.continue=v.continuePrimaryKey=v.advance=()=>{throw new Error("Cursor not started")},v.fail=N(_),v.next=function(){let T=1;return this.start(()=>T--?this.continue():this.stop()).then(()=>this)},v.start=T=>{const ze=new Promise((z,Ke)=>{z=N(z),x.onerror=ne(Ke),v.fail=Ke,v.stop=gt=>{v.stop=v.continue=v.continuePrimaryKey=v.advance=W,z(gt)}}),Xe=()=>{if(x.result)try{T()}catch(z){v.fail(z)}else v.done=!0,v.start=()=>{throw new Error("Cursor behind last entry")},v.stop()};return x.onsuccess=N(z=>{x.onsuccess=Xe,Xe()}),v.continue=K,v.continuePrimaryKey=R,v.advance=G,Xe(),ze},g(v)},_)})},count({query:c,trans:d}){const{index:f,range:y}=c;return new Promise((m,g)=>{const _=d.objectStore(l),p=f.isPrimaryKey?_:_.index(f.name),b=r(y),w=b?p.count(b):p.count();w.onsuccess=N(A=>m(A.target.result)),w.onerror=ne(g)})}}}(u)),a={};return s.forEach(u=>a[u.name]=u),{stack:"dbcore",transaction:t.transaction.bind(t),table(u){if(!a[u])throw new Error(`Table '${u}' not found`);return a[u]},MIN_KEY:-1/0,MAX_KEY:_t(e),schema:o}}function qn({_novip:t},e){const n=e.db,r=function(o,i,{IDBKeyRange:s,indexedDB:a},u){return{dbcore:function(l,c){return c.reduce((d,{create:f})=>({...d,...f(d)}),l)}($i(i,s,u),o.dbcore)}}(t._middlewares,n,t._deps,e);t.core=r.dbcore,t.tables.forEach(o=>{const i=o.name;t.core.schema.tables.some(s=>s.name===i)&&(o.core=t.core.table(i),t[i]instanceof t.Table&&(t[i].core=o.core))})}function Xt({_novip:t},e,n,r){n.forEach(o=>{const i=r[o];e.forEach(s=>{const a=mn(s,o);(!a||"value"in a&&a.value===void 0)&&(s===t.Transaction.prototype||s instanceof t.Transaction?ie(s,o,{get(){return this.table(o)},set(u){Tr(this,o,{value:u,writable:!0,configurable:!0,enumerable:!0})}}):s[o]=new t.Table(o,i))})})}function Yn({_novip:t},e){e.forEach(n=>{for(let r in n)n[r]instanceof t.Table&&delete n[r]})}function es(t,e){return t._cfg.version-e._cfg.version}function ts(t,e,n,r){const o=t._dbSchema,i=t._createTransaction("readwrite",t._storeNames,o);i.create(n),i._completion.catch(r);const s=i._reject.bind(i),a=E.transless||E;pe(()=>{E.trans=i,E.transless=a,e===0?(H(o).forEach(u=>{Gn(n,u,o[u].primKey,o[u].indexes)}),qn(t,n),C.follow(()=>t.on.populate.fire(i)).catch(s)):function({_novip:u},h,l,c){const d=[],f=u._versions;let y=u._dbSchema=Xn(u,u.idbdb,c),m=!1;const g=f.filter(p=>p._cfg.version>=h);function _(){return d.length?C.resolve(d.shift()(l.idbtrans)).then(_):C.resolve()}return g.forEach(p=>{d.push(()=>{const b=y,w=p._cfg.dbschema;Jn(u,b,c),Jn(u,w,c),y=u._dbSchema=w;const A=Ao(b,w);A.add.forEach(x=>{Gn(c,x[0],x[1].primKey,x[1].indexes)}),A.change.forEach(x=>{if(x.recreate)throw new I.Upgrade("Not yet support for changing primary key");{const B=c.objectStore(x.name);x.add.forEach(v=>zn(B,v)),x.change.forEach(v=>{B.deleteIndex(v.name),zn(B,v)}),x.del.forEach(v=>B.deleteIndex(v))}});const k=p._cfg.contentUpgrade;if(k&&p._cfg.version>h){qn(u,c),l._memoizedTables={},m=!0;let x=Vr(w);A.del.forEach(R=>{x[R]=b[R]}),Yn(u,[u.Transaction.prototype]),Xt(u,[u.Transaction.prototype],H(x),x),l.schema=x;const B=bn(k);let v;B&&Ve();const K=C.follow(()=>{if(v=k(l),v&&B){var R=ce.bind(null,null);v.then(R,R)}});return v&&typeof v.then=="function"?C.resolve(v):K.then(()=>v)}}),d.push(b=>{(!m||!Qi)&&function(w,A){[].slice.call(A.db.objectStoreNames).forEach(k=>w[k]==null&&A.db.deleteObjectStore(k))}(p._cfg.dbschema,b),Yn(u,[u.Transaction.prototype]),Xt(u,[u.Transaction.prototype],u._storeNames,u._dbSchema),l.schema=u._dbSchema})}),_().then(()=>{var p,b;b=c,H(p=y).forEach(w=>{b.db.objectStoreNames.contains(w)||Gn(b,w,p[w].primKey,p[w].indexes)})})}(t,e,i,n).catch(s)})}function Ao(t,e){const n={del:[],add:[],change:[]};let r;for(r in t)e[r]||n.del.push(r);for(r in e){const o=t[r],i=e[r];if(o){const s={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||o.primKey.auto!==i.primKey.auto&&!Qt)s.recreate=!0,n.change.push(s);else{const a=o.idxByName,u=i.idxByName;let h;for(h in a)u[h]||s.del.push(h);for(h in u){const l=a[h],c=u[h];l?l.src!==c.src&&s.change.push(c):s.add.push(c)}(s.del.length>0||s.add.length>0||s.change.length>0)&&n.change.push(s)}}else n.add.push([r,i])}return n}function Gn(t,e,n,r){const o=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(i=>zn(o,i)),o}function zn(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function Xn(t,e,n){const r={};return Ot(e.objectStoreNames,0).forEach(o=>{const i=n.objectStore(o);let s=i.keyPath;const a=Qn(bo(s),s||"",!1,!1,!!i.autoIncrement,s&&typeof s!="string",!0),u=[];for(let l=0;l<i.indexNames.length;++l){const c=i.index(i.indexNames[l]);s=c.keyPath;var h=Qn(c.name,s,!!c.unique,!!c.multiEntry,!1,s&&typeof s!="string",!1);u.push(h)}r[o]=xo(o,a,u)}),r}function Jn({_novip:t},e,n){const r=n.db.objectStoreNames;for(let o=0;o<r.length;++o){const i=r[o],s=n.objectStore(i);t._hasGetAll="getAll"in s;for(let a=0;a<s.indexNames.length;++a){const u=s.indexNames[a],h=s.index(u).keyPath,l=typeof h=="string"?h:"["+Ot(h).join("+")+"]";if(e[i]){const c=e[i].idxByName[l];c&&(c.name=u,delete e[i].idxByName[l],e[i].idxByName[u]=c)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&P.WorkerGlobalScope&&P instanceof P.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}class ns{_parseStoresSpec(e,n){H(e).forEach(r=>{if(e[r]!==null){var o=e[r].split(",").map((s,a)=>{const u=(s=s.trim()).replace(/([&*]|\+\+)/g,""),h=/^\[/.test(u)?u.match(/^\[(.*)\]$/)[1].split("+"):u;return Qn(u,h||null,/\&/.test(s),/\*/.test(s),/\+\+/.test(s),V(h),a===0)}),i=o.shift();if(i.multi)throw new I.Schema("Primary key cannot be multi-valued");o.forEach(s=>{if(s.auto)throw new I.Schema("Only primary key can be marked as autoIncrement (++)");if(!s.keyPath)throw new I.Schema("Index must have a name and cannot be an empty string")}),n[r]=xo(r,i,o)}})}stores(e){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?q(this._cfg.storesSource,e):e;const r=n._versions,o={};let i={};return r.forEach(s=>{q(o,s._cfg.storesSource),i=s._cfg.dbschema={},s._parseStoresSpec(o,i)}),n._dbSchema=i,Yn(n,[n._allTables,n,n.Transaction.prototype]),Xt(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],H(i),i),n._storeNames=H(i),this}upgrade(e){return this._cfg.contentUpgrade=kn(this._cfg.contentUpgrade||j,e),this}}function Zn(t,e){let n=t._dbNamesDB;return n||(n=t._dbNamesDB=new Se(Wt,{addons:[],indexedDB:t,IDBKeyRange:e}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function $n(t){return t&&typeof t.databases=="function"}function er(t){return pe(function(){return E.letThrough=!0,t()})}function rs(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){var n=function(){return indexedDB.databases().finally(e)};t=setInterval(n,100),n()}).finally(function(){return clearInterval(t)}):Promise.resolve()}function os(t){const e=t._state,{indexedDB:n}=t._deps;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(()=>e.dbOpenError?L(e.dbOpenError):t);te&&(e.openCanceller._stackHolder=xe()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;const r=e.openCanceller;function o(){if(e.openCanceller!==r)throw new I.DatabaseClosed("db.open() was cancelled")}let i=e.dbReadyResolve,s=null,a=!1;const u=()=>new C((h,l)=>{if(o(),!n)throw new I.MissingAPI;const c=t.name,d=e.autoSchema?n.open(c):n.open(c,Math.round(10*t.verno));if(!d)throw new I.MissingAPI;d.onerror=ne(l),d.onblocked=N(t._fireOnBlocked),d.onupgradeneeded=N(f=>{if(s=d.transaction,e.autoSchema&&!t._options.allowEmptyDB){d.onerror=ft,s.abort(),d.result.close();const m=n.deleteDatabase(c);m.onsuccess=m.onerror=N(()=>{l(new I.NoSuchDatabase(`Database ${c} doesnt exist`))})}else{s.onerror=ne(l);var y=f.oldVersion>Math.pow(2,62)?0:f.oldVersion;a=y<1,t._novip.idbdb=d.result,ts(t,y/10,s,l)}},l),d.onsuccess=N(()=>{s=null;const f=t._novip.idbdb=d.result,y=Ot(f.objectStoreNames);if(y.length>0)try{const g=f.transaction((m=y).length===1?m[0]:m,"readonly");e.autoSchema?function({_novip:_},p,b){_.verno=p.version/10;const w=_._dbSchema=Xn(0,p,b);_._storeNames=Ot(p.objectStoreNames,0),Xt(_,[_._allTables],H(w),w)}(t,f,g):(Jn(t,t._dbSchema,g),function(_,p){const b=Ao(Xn(0,_.idbdb,p),_._dbSchema);return!(b.add.length||b.change.some(w=>w.add.length||w.change.length))}(t,g)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),qn(t,g)}catch{}var m;lt.push(t),f.onversionchange=N(g=>{e.vcFired=!0,t.on("versionchange").fire(g)}),f.onclose=N(g=>{t.on("close").fire(g)}),a&&function({indexedDB:g,IDBKeyRange:_},p){!$n(g)&&p!==Wt&&Zn(g,_).put({name:p}).catch(j)}(t._deps,c),h()},l)}).catch(h=>h&&h.name==="UnknownError"&&e.PR1398_maxLoop>0?(e.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),u()):C.reject(h));return C.race([r,(typeof navigator>"u"?C.resolve():rs()).then(u)]).then(()=>(o(),e.onReadyBeingFired=[],C.resolve(er(()=>t.on.ready.fire(t.vip))).then(function h(){if(e.onReadyBeingFired.length>0){let l=e.onReadyBeingFired.reduce(kn,j);return e.onReadyBeingFired=[],C.resolve(er(()=>l(t.vip))).then(h)}}))).finally(()=>{e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(()=>t).catch(h=>{e.dbOpenError=h;try{s&&s.abort()}catch{}return r===e.openCanceller&&t._close(),L(h)}).finally(()=>{e.openComplete=!0,i()})}function tr(t){var e=i=>t.next(i),n=o(e),r=o(i=>t.throw(i));function o(i){return s=>{var a=i(s),u=a.value;return a.done?u:u&&typeof u.then=="function"?u.then(n,r):V(u)?Promise.all(u).then(n,r):n(u)}}return o(e)()}function is(t,e,n){var r=arguments.length;if(r<2)throw new I.InvalidArgument("Too few arguments");for(var o=new Array(r-1);--r;)o[r-1]=arguments[r];return n=o.pop(),[t,Qr(o),n]}function ko(t,e,n,r,o){return C.resolve().then(()=>{const i=E.transless||E,s=t._createTransaction(e,n,t._dbSchema,r),a={trans:s,transless:i};if(r)s.idbtrans=r.idbtrans;else try{s.create(),t._state.PR1398_maxLoop=3}catch(c){return c.name===An.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>ko(t,e,n,null,o))):L(c)}const u=bn(o);let h;u&&Ve();const l=C.follow(()=>{if(h=o.call(s,s),h)if(u){var c=ce.bind(null,null);h.then(c,c)}else typeof h.next=="function"&&typeof h.throw=="function"&&(h=tr(h))},a);return(h&&typeof h.then=="function"?C.resolve(h).then(c=>s.active?c:L(new I.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):l.then(()=>h)).then(c=>(r&&s._resolve(),s._completion.then(()=>c))).catch(c=>(s._reject(c),L(c)))})}function Jt(t,e,n){const r=V(t)?t.slice():[t];for(let o=0;o<n;++o)r.push(e);return r}const ss={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return{...t,table(e){const n=t.table(e),{schema:r}=n,o={},i=[];function s(l,c,d){const f=mt(l),y=o[f]=o[f]||[],m=l==null?0:typeof l=="string"?1:l.length,g=c>0,_={...d,isVirtual:g,keyTail:c,keyLength:m,extractKey:Wn(l),unique:!g&&d.unique};return y.push(_),_.isPrimaryKey||i.push(_),m>1&&s(m===2?l[0]:l.slice(0,m-1),c+1,d),y.sort((p,b)=>p.keyTail-b.keyTail),_}const a=s(r.primaryKey.keyPath,0,r.primaryKey);o[":id"]=[a];for(const l of r.indexes)s(l.keyPath,0,l);function u(l){const c=l.query.index;return c.isVirtual?{...l,query:{index:c,range:(d=l.query.range,f=c.keyTail,{type:d.type===1?2:d.type,lower:Jt(d.lower,d.lowerOpen?t.MAX_KEY:t.MIN_KEY,f),lowerOpen:!0,upper:Jt(d.upper,d.upperOpen?t.MIN_KEY:t.MAX_KEY,f),upperOpen:!0})}}:l;var d,f}return{...n,schema:{...r,primaryKey:a,indexes:i,getIndexByKeyPath:function(l){const c=o[mt(l)];return c&&c[0]}},count:l=>n.count(u(l)),query:l=>n.query(u(l)),openCursor(l){const{keyTail:c,isVirtual:d,keyLength:f}=l.query.index;return d?n.openCursor(u(l)).then(y=>y&&function(m){return Object.create(m,{continue:{value:function(_){_!=null?m.continue(Jt(_,l.reverse?t.MAX_KEY:t.MIN_KEY,c)):l.unique?m.continue(m.key.slice(0,f).concat(l.reverse?t.MIN_KEY:t.MAX_KEY,c)):m.continue()}},continuePrimaryKey:{value(_,p){m.continuePrimaryKey(Jt(_,t.MAX_KEY,c),p)}},primaryKey:{get:()=>m.primaryKey},key:{get(){const _=m.key;return f===1?_[0]:_.slice(0,f)}},value:{get:()=>m.value}})}(y)):n.openCursor(l)}}}}}};function nr(t,e,n,r){return n=n||{},r=r||"",H(t).forEach(o=>{if(X(e,o)){var i=t[o],s=e[o];if(typeof i=="object"&&typeof s=="object"&&i&&s){const a=gn(i);a!==gn(s)?n[r+o]=e[o]:a==="Object"?nr(i,s,n,r+o+"."):i!==s&&(n[r+o]=e[o])}else i!==s&&(n[r+o]=e[o])}else n[r+o]=void 0}),H(e).forEach(o=>{X(t,o)||(n[r+o]=e[o])}),n}const as={stack:"dbcore",name:"HooksMiddleware",level:2,create:t=>({...t,table(e){const n=t.table(e),{primaryKey:r}=n.schema;return{...n,mutate(i){const s=E.trans,{deleting:a,creating:u,updating:h}=s.table(e).hook;switch(i.type){case"add":if(u.fire===j)break;return s._promise("readwrite",()=>l(i),!0);case"put":if(u.fire===j&&h.fire===j)break;return s._promise("readwrite",()=>l(i),!0);case"delete":if(a.fire===j)break;return s._promise("readwrite",()=>l(i),!0);case"deleteRange":if(a.fire===j)break;return s._promise("readwrite",()=>function(d){return c(d.trans,d.range,1e4)}(i),!0)}return n.mutate(i);function l(d){const f=E.trans,y=d.keys||function(m,g){return g.type==="delete"?g.keys:g.keys||g.values.map(m.extractKey)}(r,d);if(!y)throw new Error("Keys missing");return(d=d.type==="add"||d.type==="put"?{...d,keys:y}:{...d}).type!=="delete"&&(d.values=[...d.values]),d.keys&&(d.keys=[...d.keys]),function(m,g,_){return g.type==="add"?Promise.resolve([]):m.getMany({trans:g.trans,keys:_,cache:"immutable"})}(n,d,y).then(m=>{const g=y.map((_,p)=>{const b=m[p],w={onerror:null,onsuccess:null};if(d.type==="delete")a.fire.call(w,_,b,f);else if(d.type==="add"||b===void 0){const A=u.fire.call(w,_,d.values[p],f);_==null&&A!=null&&(_=A,d.keys[p]=_,r.outbound||Z(d.values[p],r.keyPath,_))}else{const A=nr(b,d.values[p]),k=h.fire.call(w,A,_,b,f);if(k){const x=d.values[p];Object.keys(k).forEach(B=>{X(x,B)?x[B]=k[B]:Z(x,B,k[B])})}}return w});return n.mutate(d).then(({failures:_,results:p,numFailures:b,lastResult:w})=>{for(let A=0;A<y.length;++A){const k=p?p[A]:y[A],x=g[A];k==null?x.onerror&&x.onerror(_[A]):x.onsuccess&&x.onsuccess(d.type==="put"&&m[A]?d.values[A]:k)}return{failures:_,results:p,numFailures:b,lastResult:w}}).catch(_=>(g.forEach(p=>p.onerror&&p.onerror(_)),Promise.reject(_)))})}function c(d,f,y){return n.query({trans:d,values:!1,query:{index:r,range:f},limit:y}).then(({result:m})=>l({type:"delete",keys:m,trans:d}).then(g=>g.numFailures>0?Promise.reject(g.failures[0]):m.length<y?{failures:[],numFailures:0,lastResult:void 0}:c(d,{...f,lower:m[m.length-1],lowerOpen:!0},y)))}}}}})};function Co(t,e,n){try{if(!e||e.keys.length<t.length)return null;const r=[];for(let o=0,i=0;o<e.keys.length&&i<t.length;++o)Y(e.keys[o],t[i])===0&&(r.push(n?nt(e.values[o]):e.values[o]),++i);return r.length===t.length?r:null}catch{return null}}const cs={stack:"dbcore",level:-1,create:t=>({table:e=>{const n=t.table(e);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const o=Co(r.keys,r.trans._cache,r.cache==="clone");return o?C.resolve(o):n.getMany(r).then(i=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?nt(i):i},i))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function rr(t){return!("from"in t)}const le=function(t,e){if(!this){const n=new le;return t&&"d"in t&&q(n,t),n}q(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0})};function yt(t,e,n){const r=Y(e,n);if(isNaN(r))return;if(r>0)throw RangeError();if(rr(t))return q(t,{from:e,to:n,d:1});const o=t.l,i=t.r;if(Y(n,t.from)<0)return o?yt(o,e,n):t.l={from:e,to:n,d:1,l:null,r:null},Eo(t);if(Y(e,t.to)>0)return i?yt(i,e,n):t.r={from:e,to:n,d:1,l:null,r:null},Eo(t);Y(e,t.from)<0&&(t.from=e,t.l=null,t.d=i?i.d+1:1),Y(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);const s=!t.r;o&&!t.l&&Zt(t,o),i&&s&&Zt(t,i)}function Zt(t,e){rr(e)||function n(r,{from:o,to:i,l:s,r:a}){yt(r,o,i),s&&n(r,s),a&&n(r,a)}(t,e)}function us(t,e){const n=or(e);let r=n.next();if(r.done)return!1;let o=r.value;const i=or(t);let s=i.next(o.from),a=s.value;for(;!r.done&&!s.done;){if(Y(a.from,o.to)<=0&&Y(a.to,o.from)>=0)return!0;Y(o.from,a.from)<0?o=(r=n.next(a.from)).value:a=(s=i.next(o.from)).value}return!1}function or(t){let e=rr(t)?null:{s:0,n:t};return{next(n){const r=arguments.length>0;for(;e;)switch(e.s){case 0:if(e.s=1,r)for(;e.n.l&&Y(n,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!r||Y(n,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function Eo(t){var e,n;const r=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((n=t.l)===null||n===void 0?void 0:n.d)||0),o=r>1?"r":r<-1?"l":"";if(o){const i=o==="r"?"l":"r",s={...t},a=t[o];t.from=a.from,t.to=a.to,t[o]=a[o],s[o]=a[i],t[i]=s,s.d=So(s)}t.d=So(t)}function So({r:t,l:e}){return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}Fe(le.prototype,{add(t){return Zt(this,t),this},addKey(t){return yt(this,t,t),this},addKeys(t){return t.forEach(e=>yt(this,e,e)),this},[vn](){return or(this)}});const ls={stack:"dbcore",level:0,create:t=>{const e=t.schema.name,n=new le(t.MIN_KEY,t.MAX_KEY);return{...t,table:r=>{const o=t.table(r),{schema:i}=o,{primaryKey:s}=i,{extractKey:a,outbound:u}=s,h={...o,mutate:d=>{const f=d.trans,y=f.mutatedParts||(f.mutatedParts={}),m=k=>{const x=`idb://${e}/${r}/${k}`;return y[x]||(y[x]=new le)},g=m(""),_=m(":dels"),{type:p}=d;let[b,w]=d.type==="deleteRange"?[d.range]:d.type==="delete"?[d.keys]:d.values.length<50?[[],d.values]:[];const A=d.trans._cache;return o.mutate(d).then(k=>{if(V(b)){p!=="delete"&&(b=k.results),g.addKeys(b);const x=Co(b,A);x||p==="add"||_.addKeys(b),(x||w)&&function(B,v,K,R){function G(W){const T=B(W.name||"");function ze(z){return z!=null?W.extractKey(z):null}const Xe=z=>W.multiEntry&&V(z)?z.forEach(Ke=>T.addKey(Ke)):T.addKey(z);(K||R).forEach((z,Ke)=>{const gt=K&&ze(K[Ke]),lr=R&&ze(R[Ke]);Y(gt,lr)!==0&&(gt!=null&&Xe(gt),lr!=null&&Xe(lr))})}v.indexes.forEach(G)}(m,i,x,w)}else if(b){const x={from:b.lower,to:b.upper};_.add(x),g.add(x)}else g.add(n),_.add(n),i.indexes.forEach(x=>m(x.name).add(n));return k})}},l=({query:{index:d,range:f}})=>{var y,m;return[d,new le((y=f.lower)!==null&&y!==void 0?y:t.MIN_KEY,(m=f.upper)!==null&&m!==void 0?m:t.MAX_KEY)]},c={get:d=>[s,new le(d.key)],getMany:d=>[s,new le().addKeys(d.keys)],count:l,query:l,openCursor:l};return H(c).forEach(d=>{h[d]=function(f){const{subscr:y}=E;if(y){const m=w=>{const A=`idb://${e}/${r}/${w}`;return y[A]||(y[A]=new le)},g=m(""),_=m(":dels"),[p,b]=c[d](f);if(m(p.name||"").add(b),!p.isPrimaryKey){if(d!=="count"){const w=d==="query"&&u&&f.values&&o.query({...f,values:!1});return o[d].apply(this,arguments).then(A=>{if(d==="query"){if(u&&f.values)return w.then(({result:x})=>(g.addKeys(x),A));const k=f.values?A.result.map(a):A.result;f.values?g.addKeys(k):_.addKeys(k)}else if(d==="openCursor"){const k=A,x=f.values;return k&&Object.create(k,{key:{get:()=>(_.addKey(k.primaryKey),k.key)},primaryKey:{get(){const B=k.primaryKey;return _.addKey(B),B}},value:{get:()=>(x&&g.addKey(k.primaryKey),k.value)}})}return A})}_.add(n)}}return o[d].apply(this,arguments)}}),h}}}};class Se{constructor(e,n){this._middlewares={},this.verno=0;const r=Se.dependencies;this._options=n={addons:Se.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:o}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:j,dbReadyPromise:null,cancelOpen:j,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var s;i.dbReadyPromise=new C(a=>{i.dbReadyResolve=a}),i.openCanceller=new C((a,u)=>{i.cancelOpen=u}),this._state=i,this.name=e,this.on=ht(this,"populate","blocked","versionchange","close",{ready:[kn,j]}),this.on.ready.subscribe=Ur(this.on.ready.subscribe,a=>(u,h)=>{Se.vip(()=>{const l=this._state;if(l.openComplete)l.dbOpenError||C.resolve().then(u),h&&a(u);else if(l.onReadyBeingFired)l.onReadyBeingFired.push(u),h&&a(u);else{a(u);const c=this;h||a(function d(){c.on.ready.unsubscribe(u),c.on.ready.unsubscribe(d)})}})}),this.Collection=(s=this,dt(Yi.prototype,function(a,u){this.db=s;let h=fo,l=null;if(u)try{h=u()}catch(y){l=y}const c=a._ctx,d=c.table,f=d.hook.reading.fire;this._ctx={table:d,index:c.index,isPrimKey:!c.index||d.schema.primKey.keyPath&&c.index===d.schema.primKey.name,range:h,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:l,or:c.or,valueMapper:f!==ot?f:null}})),this.Table=function(a){return dt(qi.prototype,function(u,h,l){this.db=a,this._tx=l,this.name=u,this.schema=h,this.hook=a._allTables[u]?a._allTables[u].hook:ht(null,{creating:[Pi,j],reading:[Ki,ot],updating:[Ni,j],deleting:[Di,j]})})}(this),this.Transaction=function(a){return dt(Ji.prototype,function(u,h,l,c,d){this.db=a,this.mode=u,this.storeNames=h,this.schema=l,this.chromeTransactionDurability=c,this.idbtrans=null,this.on=ht(this,"complete","error","abort"),this.parent=d||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new C((f,y)=>{this._resolve=f,this._reject=y}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},f=>{var y=this.active;return this.active=!1,this.on.error.fire(f),this.parent?this.parent._reject(f):y&&this.idbtrans&&this.idbtrans.abort(),L(f)})})}(this),this.Version=function(a){return dt(ns.prototype,function(u){this.db=a,this._cfg={version:u,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(a){return dt(vo.prototype,function(u,h,l){this.db=a,this._ctx={table:u,index:h===":id"?null:h,or:l};const c=a._deps.indexedDB;if(!c)throw new I.MissingAPI;this._cmp=this._ascending=c.cmp.bind(c),this._descending=(d,f)=>c.cmp(f,d),this._max=(d,f)=>c.cmp(d,f)>0?d:f,this._min=(d,f)=>c.cmp(d,f)<0?d:f,this._IDBKeyRange=a._deps.IDBKeyRange})}(this),this.on("versionchange",a=>{a.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",a=>{!a.newVersion||a.newVersion<a.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${a.oldVersion/10}`)}),this._maxKey=_t(n.IDBKeyRange),this._createTransaction=(a,u,h,l)=>new this.Transaction(a,u,h,this._options.chromeTransactionDurability,l),this._fireOnBlocked=a=>{this.on("blocked").fire(a),lt.filter(u=>u.name===this.name&&u!==this&&!u._state.vcFired).map(u=>u.on("versionchange").fire(a))},this.use(ss),this.use(as),this.use(ls),this.use(cs),this.vip=Object.create(this,{_vip:{value:!0}}),o.forEach(a=>a(this))}version(e){if(isNaN(e)||e<.1)throw new I.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new I.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const n=this._versions;var r=n.filter(o=>o._cfg.version===e)[0];return r||(r=new this.Version(e),n.push(r),n.sort(es),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(e){return this.idbdb&&(this._state.openComplete||E.letThrough||this._vip)?e():new C((n,r)=>{if(this._state.openComplete)return r(new I.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new I.DatabaseClosed);this.open().catch(j)}this._state.dbReadyPromise.then(n,r)}).then(e)}use({stack:e,create:n,level:r,name:o}){o&&this.unuse({stack:e,name:o});const i=this._middlewares[e]||(this._middlewares[e]=[]);return i.push({stack:e,create:n,level:r??10,name:o}),i.sort((s,a)=>s.level-a.level),this}unuse({stack:e,name:n,create:r}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter(o=>r?o.create!==r:!!n&&o.name!==n)),this}open(){return os(this)}_close(){const e=this._state,n=lt.indexOf(this);if(n>=0&&lt.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}e.dbReadyPromise=new C(r=>{e.dbReadyResolve=r}),e.openCanceller=new C((r,o)=>{e.cancelOpen=o})}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new I.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,n=this._state;return new C((r,o)=>{const i=()=>{this.close();var s=this._deps.indexedDB.deleteDatabase(this.name);s.onsuccess=N(()=>{(function({indexedDB:a,IDBKeyRange:u},h){!$n(a)&&h!==Wt&&Zn(a,u).delete(h).catch(j)})(this._deps,this.name),r()}),s.onerror=ne(o),s.onblocked=this._fireOnBlocked};if(e)throw new I.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(i):i()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return H(this._allTables).map(e=>this._allTables[e])}transaction(){const e=is.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,n,r){let o=E.trans;o&&o.db===this&&e.indexOf("!")===-1||(o=null);const i=e.indexOf("?")!==-1;let s,a;e=e.replace("!","").replace("?","");try{if(a=n.map(h=>{var l=h instanceof this.Table?h.name:h;if(typeof l!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return l}),e=="r"||e===Tn)s=Tn;else{if(e!="rw"&&e!=Un)throw new I.InvalidArgument("Invalid transaction mode: "+e);s=Un}if(o){if(o.mode===Tn&&s===Un){if(!i)throw new I.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o=null}o&&a.forEach(h=>{if(o&&o.storeNames.indexOf(h)===-1){if(!i)throw new I.SubTransaction("Table "+h+" not included in parent transaction.");o=null}}),i&&o&&!o.active&&(o=null)}}catch(h){return o?o._promise(null,(l,c)=>{c(h)}):L(h)}const u=ko.bind(null,this,s,a,o,r);return o?o._promise(s,u,"lock"):E.trans?Qe(E.transless,()=>this._whenReady(u)):this._whenReady(u)}table(e){if(!X(this._allTables,e))throw new I.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const hs=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class ds{constructor(e){this._subscribe=e}subscribe(e,n,r){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:n,complete:r})}[hs](){return this}}function Io(t,e){return H(e).forEach(n=>{Zt(t[n]||(t[n]=new le),e[n])}),t}function fs(t){let e,n=!1;const r=new ds(o=>{const i=bn(t);let s=!1,a={},u={};const h={get closed(){return s},unsubscribe:()=>{s=!0,ge.storagemutated.unsubscribe(f)}};o.start&&o.start(h);let l=!1,c=!1;function d(){return H(u).some(m=>a[m]&&us(a[m],u[m]))}const f=m=>{Io(a,m),d()&&y()},y=()=>{if(l||s)return;a={};const m={},g=function(_){i&&Ve();const p=()=>pe(t,{subscr:_,trans:null}),b=E.trans?Qe(E.transless,p):p();return i&&b.then(ce,ce),b}(m);c||(ge(pt,f),c=!0),l=!0,Promise.resolve(g).then(_=>{n=!0,e=_,l=!1,s||(d()?y():(a={},u=m,o.next&&o.next(_)))},_=>{l=!1,n=!1,o.error&&o.error(_),h.unsubscribe()})};return y(),h});return r.hasValue=()=>n,r.getValue=()=>e,r}let ir;try{ir={indexedDB:P.indexedDB||P.mozIndexedDB||P.webkitIndexedDB||P.msIndexedDB,IDBKeyRange:P.IDBKeyRange||P.webkitIDBKeyRange}}catch{ir={indexedDB:null,IDBKeyRange:null}}const Ie=Se;function $t(t){let e=he;try{he=!0,ge.storagemutated.fire(t)}finally{he=e}}Fe(Ie,{...jt,delete:t=>new Ie(t,{addons:[]}).delete(),exists:t=>new Ie(t,{addons:[]}).open().then(e=>(e.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(t){try{return function({indexedDB:e,IDBKeyRange:n}){return $n(e)?Promise.resolve(e.databases()).then(r=>r.map(o=>o.name).filter(o=>o!==Wt)):Zn(e,n).toCollection().primaryKeys()}(Ie.dependencies).then(t)}catch{return L(new I.MissingAPI)}},defineClass:()=>function(t){q(this,t)},ignoreTransaction:t=>E.trans?Qe(E.transless,t):t(),vip:er,async:function(t){return function(){try{var e=tr(t.apply(this,arguments));return e&&typeof e.then=="function"?e:C.resolve(e)}catch(n){return L(n)}}},spawn:function(t,e,n){try{var r=tr(t.apply(n,e||[]));return r&&typeof r.then=="function"?r:C.resolve(r)}catch(o){return L(o)}},currentTransaction:{get:()=>E.trans||null},waitFor:function(t,e){const n=C.resolve(typeof t=="function"?Ie.ignoreTransaction(t):t).timeout(e||6e4);return E.trans?E.trans.waitFor(n):n},Promise:C,debug:{get:()=>te,set:t=>{qr(t,t==="dexie"?()=>!0:ho)}},derive:Te,extend:q,props:Fe,override:Ur,Events:ht,on:ge,liveQuery:fs,extendObservabilitySet:Io,getByKeyPath:se,setByKeyPath:Z,delByKeyPath:function(t,e){typeof e=="string"?Z(t,e,void 0):"length"in e&&[].map.call(e,function(n){Z(t,n,void 0)})},shallowClone:Vr,deepClone:nt,getObjectDiff:nr,cmp:Y,asap:Hr,minKey:Fn,addons:[],connections:lt,errnames:An,dependencies:ir,semVer:uo,version:uo.split(".").map(t=>parseInt(t)).reduce((t,e,n)=>t+e/Math.pow(10,2*n))}),Ie.maxKey=_t(Ie.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ge(pt,t=>{if(!he){let e;Qt?(e=document.createEvent("CustomEvent"),e.initCustomEvent(ye,!0,!0,t)):e=new CustomEvent(ye,{detail:t}),he=!0,dispatchEvent(e),he=!1}}),addEventListener(ye,({detail:t})=>{he||$t(t)}));let he=!1;if(typeof BroadcastChannel<"u"){const t=new BroadcastChannel(ye);typeof t.unref=="function"&&t.unref(),ge(pt,e=>{he||t.postMessage(e)}),t.onmessage=e=>{e.data&&$t(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){ge(pt,e=>{try{he||(typeof localStorage<"u"&&localStorage.setItem(ye,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:ye,changedParts:e})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",e=>{if(e.key===ye){const n=JSON.parse(e.newValue);n&&$t(n.changedParts)}});const t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",function({data:e}){e&&e.type===ye&&$t(e.changedParts)})}C.rejectionMapper=function(t,e){if(!t||t instanceof He||t instanceof TypeError||t instanceof SyntaxError||!t.name||!Xr[t.name])return t;var n=new Xr[t.name](e||t.message,t);return"stack"in t&&ie(n,"stack",{get:function(){return this.inner.stack}}),n},qr(te,ho);const Be=new Se("smiwebpush");Be.version(1).stores({Option:"key"});var ps={VITE_API_URL:"https://wp.24smi.org/api",VITE_API_VERSION:"0",VITE_APP_VERSION:"24.2.26.51962",VITE_CJS_IGNORE_WARNING:"true",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const sr=ps,Bo=sr.VITE_APP_VERSION,_s=sr.VITE_API_URL,ms=sr.VITE_API_VERSION;async function Oo({method:t,path:e,data:n}){const r=`${_s}/v${ms}${e}`,o={"Smi-Webpush-Version":`sdk-${Bo}`,"Content-Type":"application/json;charset=UTF-8"},i={method:t,headers:o,cache:"no-cache",body:n?JSON.stringify(n):void 0};return fetch(r,i)}async function ys(t){return Oo({method:"GET",...t})}async function Ro(t){return Oo({method:"POST",...t})}async function gs(){const t=await Be.Option.get("subscription");return t==null?void 0:t.value}async function vs(t,e){await Be.Option.add({key:"subscription",value:{expiration_time:t.expirationTime,subscription:t.toJSON(),extra_data:e}})}async function bs({projectId:t,subscription:e,extraData:n}){if(!(await Ro({path:"/subscriptions",data:{project_id:t,new_subscription:{subscription:e.toJSON(),expiration_time:e.expirationTime,extra_data:n}}})).ok)throw new Error("Failed to save subscription")}async function xs(t){const e=await ws();if(e)return e;const n=await ks(t);return await As(n),n}async function ws(){const t=await Be.Option.get("project_config");return t==null?void 0:t.value}async function As(t){await Be.Option.add({key:"project_config",value:t})}async function ks(t){const e=await ys({path:`/projects/${t}/config`});if(!e.ok)throw new Error("Failed to fetch project config");return e.json()}function Cs(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/-/g,"+").replace(/_/g,"/"),r=window.atob(n),o=new Uint8Array(r.length);for(let i=0;i<r.length;++i)o[i]=r.charCodeAt(i);return o}function Es(){let t="",e=null;return typeof window<"u"&&(e=window.crypto||window.msCrypto),e?t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const r=e.getRandomValues(new Uint8Array(1))[0]%16|0;return(n=="x"?r:r&3|8).toString(16)}):t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const r=Math.random()*16|0;return(n=="x"?r:r&3|8).toString(16)}),t}async function jo(){const t=await Be.Option.get("user_id");return t==null?void 0:t.value}async function Ss(t){await Be.Option.add({key:"user_id",value:t})}async function Is(t){const e=new URLSearchParams(window.location.search),n={version:Bo,user_id:t.userId,subid1:t.subid1,subid2:t.subid2,subid3:t.subid3,subid4:t.subid4,utm_source:e.get("utm_source")??void 0,utm_content:e.get("utm_content")??void 0,utm_campaign:e.get("utm_campaign")??void 0,utm_term:e.get("utm_term")??void 0,utm_medium:e.get("utm_medium")??void 0,timestamp:Date.now()};try{const r=Intl.DateTimeFormat().resolvedOptions();r.timeZone&&(n.timezone=r.timeZone),r.locale&&(n.locale=r.locale)}catch(r){console.log(r)}return n}const Ye={root:"_root_179wx_3",checkbox:"_checkbox_179wx_20","checkbox-control":"_checkbox-control_179wx_26","checkbox-text":"_checkbox-text_179wx_34",icon:"_icon_179wx_42",enter:"_enter_179wx_48",exit:"_exit_179wx_53"},Bs='@import"https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap";._root_179wx_3{display:flex;width:280px;padding:16px;justify-content:space-between;align-items:center;border-radius:12px;border:1px solid #cacacc;background-color:#f5f5f5;box-shadow:0 2px 6px #0000000a;font-family:Roboto,serif;box-sizing:border-box;animation-timing-function:ease-in-out;animation-fill-mode:both;animation-duration:.5s}._checkbox_179wx_20{display:inline-flex;align-items:center;gap:8px}._checkbox-control_179wx_26{width:24px;height:24px;border-radius:4px;border:2px solid #cacacc;background-color:#fff}._checkbox-text_179wx_34{color:#000;font-size:14px;font-style:normal;font-weight:400;line-height:normal}._icon_179wx_42{width:46px;height:40px;flex-shrink:0}._enter_179wx_48{animation-name:_enter_179wx_48;animation-delay:.25s}._exit_179wx_53{animation-name:_exit_179wx_53}@keyframes _enter_179wx_48{0%{opacity:0;transform:translateY(50%)}to{opacity:1;transform:translateY(0)}}@keyframes _exit_179wx_53{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(50%)}}@media (max-width: 420px){._root_179wx_3{width:100%}}',Os="data:image/png;base64,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";function Rs({detach:t,requestPermission:e}){const[n,r]=re("enter");function o(){n==="exit"&&t()}return Ze(()=>$e.on("detachViews",function(){r("exit")}),[]),S(oe,{stylesText:Bs,children:[S(_n,{animationState:n}),S(fn,{position:"center-center",children:S("div",{className:M(Ye.root,Ye[n]),onClick:e,onAnimationEnd:o,children:[S("div",{className:M(Ye.checkbox),children:[S("div",{className:M(Ye["checkbox-control"])}),S("div",{className:M(Ye["checkbox-text"]),children:"I’m not a robot"})]}),S("img",{src:Os,alt:"",className:M(Ye.icon)})]})})]})}function js(t){const e=document.createElement("div");function n(){ee(null,e),e.remove()}document.body.appendChild(e),ee(S(Rs,{detach:n,...t}),e)}const Oe={USER_DENIED_PERMISSIONS:"user_denied_permissions",NATIVE_PROMPT_SHOWED:"native_prompt_showed",ROBOT_SHOWED:"robot_showed",DIALOG_SHOWED:"dialog_showed",BUBBLE_SHOWED:"bubble_showed",CAPTCHA_SHOWED:"captcha_showed",TOAST_SHOWED:"toast_showed"};async function Re(t){const e=await jo();if(!(await Ro({path:`/projects/${t.projectId}/event`,data:{event:t.event,user_id:e??null}})).ok)throw new Error("Failed to log event")}function Ks(t){const e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0}function Ps(t,e,n={}){n={path:"/",...n},n.expires instanceof Date&&(n.expires=n.expires.toUTCString());let r=encodeURIComponent(t)+"="+encodeURIComponent(e);for(const o in n){r+="; "+o;const i=n[o];i!==!0&&(r+="="+i)}document.cookie=r}let ar=!1,Ko,Ge,Po,Do,en,$,D,cr,ur,je,No,Mo,Fo,To;async function Ds(t){var n;if(ar)return;if(Ge=t.onFailedCallback??(()=>{}),!t.projectId){Ge();return}if(!("serviceWorker"in navigator)||!("PushManager"in window)){Ge(),t.failedUrl&&window.location.replace(t.failedUrl);return}if(Notification.permission==="denied"){Ge(),t.failedUrl&&window.location.replace(t.failedUrl),(n=t.widgets)!=null&&n.showRobot&&(ui(t.widgets.robotProps),Re({projectId:$.project_id,event:Oe.ROBOT_SHOWED}).catch(()=>{}));return}if(!await gs())try{en=await Ns(t),$=await xs(t.projectId),ar=!0,cr=t.allowUrl,ur=t.failedUrl,je=t.denyUrls,D=t.widgets,No=t.subid1,Mo=t.subid2,Fo=t.subid3,To=t.subid4,Ko=t.onSuccessCallback??(()=>{}),Po=t.onDeniedCallback??(()=>{}),Do=t.onSubscribedCallback??(()=>{}),t.subscribeOnPageLoad&&setTimeout(()=>{Uo()},t.subscribeOnPageLoadDelay??2e3)}catch{Ge()}}function Uo(){if(!ar)return;if(!(D!=null&&D.showDialog)&&!(D!=null&&D.showCaptcha)&&!(D!=null&&D.showBubble)){tn(),Re({projectId:$.project_id,event:Oe.NATIVE_PROMPT_SHOWED}).catch(()=>{});return}D!=null&&D.showDialog&&(pi({requestPermission:tn,cancel:Ho,...D.dialogProps}),Re({projectId:$.project_id,event:Oe.DIALOG_SHOWED}).catch(()=>{})),D!=null&&D.showBubble&&(gi({requestPermission:tn,...D.bubbleProps}),Re({projectId:$.project_id,event:Oe.BUBBLE_SHOWED}).catch(()=>{})),D!=null&&D.showCaptcha&&(js({requestPermission:tn}),Re({projectId:$.project_id,event:Oe.CAPTCHA_SHOWED}).catch(()=>{}))}async function Ns(t){return await navigator.serviceWorker.register(`${t.workerPath??"/service-worker.js"}?projectId=${encodeURIComponent(t.projectId)}`)}async function tn(){const t=await Notification.requestPermission(),n={granted:Ms,denied:Ho,default:Fs}[t];try{await n()}catch{Ge(),ur&&window.location.replace(ur)}}async function Ms(){$e.emit("detachViews",void 0);const t=await Ts();Do();const e=await jo(),n=e??Es(),r=await Is({userId:n,subid1:No,subid2:Mo,subid3:Fo,subid4:To});await bs({projectId:$.project_id,subscription:t,extraData:r}),await vs(t,r),e||await Ss(n),Ko(),cr&&window.location.replace(cr),D!=null&&D.showToast&&(wi(D.toastProps),Re({projectId:$.project_id,event:Oe.TOAST_SHOWED}).catch(()=>{}))}async function Ho(){if($e.emit("detachViews",void 0),Po(),await Re({projectId:$.project_id,event:Oe.USER_DENIED_PERMISSIONS}),je!=null&&je.length){const t=`ewprc:${$.project_id}`,e=Number(Ks(t)??"0"),n=je.length===e;(isNaN(e)||n)&&await Promise.reject(),Ps(t,e+1,{domain:je[0].replace(/:\d+/,""),expires:3600*1e3*24*365*10}),window.location.replace(`//${je[e]}`)}}async function Fs(){}async function Ts(){const t={userVisibleOnly:!0,applicationServerKey:Cs($.vapid_public_key)};try{return await en.pushManager.subscribe(t)}catch(e){const n=await en.pushManager.getSubscription();if(n)return await n.unsubscribe(),await en.pushManager.subscribe(t);throw e}}return vt.askSubscription=Uo,vt.init=Ds,Object.defineProperty(vt,Symbol.toStringTag,{value:"Module"}),vt}({});
